/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.16 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */

// Copyright 2009-2012 by contributors, MIT License
// vim: ts=4 sts=4 sw=4 expandtab

/* Copyright 2013 Twitter, Inc. Licensed under The MIT License. http://opensource.org/licenses/MIT */

// implementation lifted from underscore.js (c) 2009-2012 Jeremy Ashkenas

/*!
 * xdm.js – Nicolas Gallagher – MIT License
 * easyXDM – Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no – MIT License
 */

/*! Video.js v4.11.3 Copyright 2014 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */

/*
 * jQuery XPath plugin v0.2.5
 * https://github.com/ilinsky/jquery-xpath
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 * Includes xpath.js - XPath 2.0 implementation in JavaScript
 * https://github.com/ilinsky/xpath.js
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 */

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t==1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(apsp.apply(l,[l.length,0].concat(globalDefQueue)),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback?x(e,"error",bind(this,this.errback)):this.events.error&&x(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),r=getOwn(u,e);y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),r&&(r.events.defined&&(f[e]=r.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,i.deps||[],i.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id))return T(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requirejs",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(e,t){function g(e){var t=e.length,n=h.type(e);return n==="function"||h.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function S(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(E.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}function A(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function _(e){var t=M[e]={};return h.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function P(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(T.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))}function H(){if(T.addEventListener||event.type==="load"||T.readyState==="complete")P(),h.ready()}function q(e,t,n){if(n===undefined&&e.nodeType===1){var r="data-"+t.replace(I,"-$1").toLowerCase();n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:F.test(n)?h.parseJSON(n):n}catch(i){}h.data(e,t,n)}else n=undefined}return n}function R(e){var t;for(t in e){if(t==="data"&&h.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function U(e,t,r,i){if(!h.acceptData(e))return;var s,o,u=h.expando,a=e.nodeType,f=a?h.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===undefined&&typeof t=="string")return;l||(a?l=e[u]=n.pop()||h.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:h.noop});if(typeof t=="object"||typeof t=="function")i?f[l]=h.extend(f[l],t):f[l].data=h.extend(f[l].data,t);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==undefined&&(o[h.camelCase(t)]=r),typeof t=="string"?(s=o[t],s==null&&(s=o[h.camelCase(t)])):s=o,s}function z(e,t,n){if(!h.acceptData(e))return;var r,i,s=e.nodeType,o=s?h.cache:e,u=s?e[h.expando]:h.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:(t=h.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!h.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!R(o[u]))return}s?h.cleanData([e],!0):l.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function et(){return!0}function tt(){return!1}function nt(){try{return T.activeElement}catch(e){}}function rt(e){var t=it.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function wt(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):undefined;if(!s)for(s=[],n=e.childNodes||e;(r=n[i])!=null;i++)!t||h.nodeName(r,t)?s.push(r):h.merge(s,wt(r,t));return t===undefined||t&&h.nodeName(e,t)?h.merge([e],s):s}function Et(e){J.test(e.type)&&(e.defaultChecked=e.checked)}function St(e,t){return h.nodeName(e,"table")&&h.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xt(e){return e.type=(h.find.attr(e,"type")!==null)+"/"+e.type,e}function Tt(e){var t=vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Nt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function Ct(e,t){if(t.nodeType!==1||!h.hasData(e))return;var n,r,i,s=h._data(e),o=h._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)h.event.add(t,n,u[n][r])}o.data&&(o.data=h.extend({},o.data))}function kt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!l.noCloneEvent&&t[h.expando]){i=h._data(t);for(r in i.events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}if(n==="script"&&t.text!==e.text)xt(t).text=e.text,Tt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),l.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&J.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ot(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),s}function Mt(e){var t=T,n=At[e];if(!n){n=Ot(e,t);if(n==="none"||!n)Lt=(Lt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Lt[0].contentWindow||Lt[0].contentDocument).document,t.write(),t.close(),n=Ot(e,t),Lt.detach();At[e]=n}return n}function jt(e,t){return{get:function(){var n=e();if(n==null)return;if(n){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function Vt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xt.length;while(i--){t=Xt[i]+n;if(t in e)return t}return r}function $t(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=h._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&V(r)&&(s[o]=h._data(r,"olddisplay",Mt(r.nodeName)))):(i=V(r),(n&&n!=="none"||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Jt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Kt(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=h.css(e,n+X[s],!0,i)),r?(n==="content"&&(o-=h.css(e,"padding"+X[s],!0,i)),n!=="margin"&&(o-=h.css(e,"border"+X[s]+"Width",!0,i))):(o+=h.css(e,"padding"+X[s],!0,i),n!=="padding"&&(o+=h.css(e,"border"+X[s]+"Width",!0,i)));return o}function Qt(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Pt(e),o=l.boxSizing&&h.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Ht(e,t,s);if(i<0||i==null)i=e.style[t];if(Dt.test(i))return i;r=o&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Kt(e,t,n||(o?"border":"content"),r,s)+"px"}function Gt(e,t,n,r,i){return new Gt.prototype.init(e,t,n,r,i)}function on(){return setTimeout(function(){Yt=undefined}),Yt=h.now()}function un(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=X[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function an(e,t,n){var r,i=(sn[t]||[]).concat(sn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,c,p=this,d={},v=e.style,m=e.nodeType&&V(e),g=h._data(e,"fxshow");n.queue||(u=h._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,h.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],f=h.css(e,"display"),c=f==="none"?h._data(e,"olddisplay")||Mt(e.nodeName):f,c==="inline"&&h.css(e,"float")==="none"&&(!l.inlineBlockNeedsLayout||Mt(e.nodeName)==="inline"?v.display="inline-block":v.zoom=1)),n.overflow&&(v.overflow="hidden",l.shrinkWrapBlocks()||p.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(en.exec(i)){delete t[r],s=s||i==="toggle";if(i===(m?"hide":"show")){if(i!=="show"||!g||g[r]===undefined)continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else f=undefined}if(!h.isEmptyObject(d)){g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),s&&(g.hidden=!m),m?h(e).show():p.done(function(){h(e).hide()}),p.done(function(){var t;h._removeData(e,"fxshow");for(t in d)h.style(e,t,d[t])});for(r in d)o=an(m?g[r]:0,r,p),r in g||(g[r]=o.start,m&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?Mt(e.nodeName):f)==="inline"&&(v.display=f)}function ln(e,t){var n,r,i,s,o;for(n in e){r=h.camelCase(n),i=t[r],s=e[n],h.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=h.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function cn(e,t,n){var r,i,s=0,o=rn.length,u=h.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Yt||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yt||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;ln(l,f.opts.specialEasing);for(;s<o;s++){r=rn[s].call(f,e,l,f.opts);if(r)return r}return h.map(l,an,f),h.isFunction(f.opts.start)&&f.opts.start.call(e,f),h.fx.timer(h.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Fn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(O)||[];if(h.isFunction(n))while(r=s[i++])r.charAt(0)==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function In(e,t,n,r){function o(u){var a;return i[u]=!0,h.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===Hn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function qn(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}function Rn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==a[0]&&a.unshift(s),n[s]}function Un(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function Jn(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||Wn.test(e)?r(e,i):Jn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&h.type(t)==="object")for(i in t)Jn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Yn(){try{return new e.XMLHttpRequest}catch(t){}}function Zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ir(e){return h.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n=[],r=n.slice,i=n.concat,s=n.push,o=n.indexOf,u={},a=u.toString,f=u.hasOwnProperty,l={},c="1.11.1",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:c,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!h.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((i=arguments[u])!=null)for(r in i){e=o[r],n=i[r];if(o===n)continue;f&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,s=e&&h.isArray(e)?e:[]):s=e&&h.isPlainObject(e)?e:{},o[r]=h.extend(f,s,n)):n!==undefined&&(o[r]=n)}return o},h.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return h.type(e)==="function"},isArray:Array.isArray||function(e){return h.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||h.type(e)!=="object"||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(t in e)return f.call(e,t);for(t in e);return t===undefined||f.call(e,t)},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?u[a.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(d,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=g(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(g(Object(e))?h.merge(n,typeof e=="string"?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(r<n)e[i++]=t[r++];if(n!==n)while(t[r]!==undefined)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,s=0,o=e.length,u=g(e),a=[];if(u)for(;s<o;s++)r=t(e[s],s,n),r!=null&&a.push(r);else for(s in e)r=t(e[s],s,n),r!=null&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return typeof t=="string"&&(s=e[t],t=e,e=s),h.isFunction(e)?(n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||h.guid++,i):undefined},now:function(){return+(new Date)},support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[];if(!e||typeof e!="string")return r;if((l=t.nodeType)!==1&&l!==9)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(l===9){u=t.getElementById(f);if(!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){y=g=w,S=t,x=l===9&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<i&&St(e.slice(a,i)),i<s&&St(e=e.slice(i)),i<s&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;l&&(f=o!==p&&o);for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}v+=m;if(n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=typeof undefined,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|"+".*"+")\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;if(i===p||i.nodeType!==9||!i.documentElement)return p;p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=Y.test(i.querySelectorAll))at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=K[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t)){f.splice(a,1),e=s.length&&mt(f);if(!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(j,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=h.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return e.nodeType===1}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(h(e).filter(function(){for(t=0;t<i;t++)if(h.contains(r[t],this))return!0}));for(t=0;t<i;t++)h.find(e,r[t],n);return n=this.pushStack(i>1?h.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,typeof e=="string"&&b.test(e)?h(e):e||[],!1).length}});var x,T=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=h.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?n=[null,e,null]:n=N.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0));if(w.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}r=T.getElementById(n[2]);if(r&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=T,this.selector=e,this}return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?typeof x.ready!="undefined"?x.ready(e):e(h):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};C.prototype=h.fn,x=h(T);var k=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&i.nodeType!==9&&(n===undefined||i.nodeType!==1||!h(i).is(n)))i.nodeType===1&&r.push(i),i=i[t];return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=b.test(e)||typeof e!="string"?h(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&h.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?h.unique(s):s)},index:function(e){return e?typeof e=="string"?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=h.filter(r,i)),this.length>1&&(L[e]||(i=h.unique(i)),k.test(e)&&(i=i.reverse())),this.pushStack(i)}});var O=/\S+/g,M={};h.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):h.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){n=e.memory&&c,r=!0,s=o||0,o=0,i=u.length,t=!0;for(;u&&s<i;s++)if(u[s].apply(c[0],c[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(a?a.length&&f(a.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;(function s(t){h.each(t,function(t,n){var r=h.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&s(n)})})(arguments),t?i=u.length:n&&(o=r,f(n))}return this},remove:function(){return u&&h.each(arguments,function(e,n){var r;while((r=h.inArray(n,u,r))>-1)u.splice(r,1),t&&(r<=i&&i--,r<=s&&s--)}),this},has:function(e){return e?h.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],i=0,this},disable:function(){return u=a=n=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,n||l.disable(),this},locked:function(){return!a},fireWith:function(e,n){return u&&(!r||a)&&(n=n||[],n=[e,n.slice?n.slice():n],t?a.push(n):f(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,s){var o=h.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=r.call(arguments),i=n.length,s=i!==1||e&&h.isFunction(e.promise)?i:0,o=s===1?e:h.Deferred(),u=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?r.call(arguments):i,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1){a=new Array(i),f=new Array(i),l=new Array(i);for(;t<i;t++)n[t]&&h.isFunction(n[t].promise)?n[t].promise().done(u(t,l,n)).fail(o.reject).progress(u(t,f,a)):--s}return s||o.resolveWith(l,n),o.promise()}});var D;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(e===!0?--h.readyWait:h.isReady)return;if(!T.body)return setTimeout(h.ready);h.isReady=!0;if(e!==!0&&--h.readyWait>0)return;D.resolveWith(T,[h]),h.fn.triggerHandler&&(h(T).triggerHandler("ready"),h(T).off("ready"))}}),h.ready.promise=function(t){if(!D){D=h.Deferred();if(T.readyState==="complete")setTimeout(h.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{T.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var n=!1;try{n=e.frameElement==null&&T.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!h.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}P(),h.ready()}}()}}return D.promise(t)};var B=typeof undefined,j;for(j in h(l))break;l.ownLast=j!=="0",l.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=e=t.offsetWidth===3,e&&(n.style.zoom=1)),n.removeChild(r)}),function(){var e=T.createElement("div");if(l.deleteExpando==null){l.deleteExpando=!0;try{delete e.test}catch(t){l.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return n!==1&&n!==9?!1:!t||t!==!0&&e.getAttribute("classid")===t};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?h.cache[e[h.expando]]:e[h.expando],!!e&&!R(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=h.data(s);if(s.nodeType===1&&!h._data(s,"parsedAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=h.camelCase(r.slice(5)),q(s,r,i[r])));h._data(s,"parsedAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):s?q(s,e,h.data(s,e)):undefined},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),s=h._queueHooks(e,t),o=function(){h.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):t===undefined?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=h._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,h.css(e,"display")==="none"||!h.contains(e.ownerDocument,e)},$=h.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(h.type(n)==="object"){i=!0;for(u in n)h.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,h.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(h(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s},J=/^(?:checkbox|radio)$/i;(function(){var e=T.createElement("input"),t=T.createElement("div"),n=T.createDocumentFragment();t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=t.firstChild.nodeType===3,l.tbody=!t.getElementsByTagName("tbody").length,l.htmlSerialize=!!t.getElementsByTagName("link").length,l.html5Clone=T.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",e.type="checkbox",e.checked=!0,n.appendChild(e),l.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){l.noCloneEvent=!1}),t.cloneNode(!0).click());if(l.deleteExpando==null){l.deleteExpando=!0;try{delete t.test}catch(r){l.deleteExpando=!1}}})(),function(){var t,n,r=T.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(l[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),l[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var K=/^(?:input|select|textarea)$/i,Q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h._data(e);if(!g)return;n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=h.guid++),(o=g.events)||(o=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof h===B||!!e&&h.event.triggered===e.type?undefined:h.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(O)||[""],u=t.length;while(u--){s=Z.exec(t[u])||[],d=m=s[1],v=(s[2]||"").split(".").sort();if(!d)continue;f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},c=h.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:v.join(".")},a);if(!(p=o[d])){p=o[d]=[],p.delegateCount=0;if(!f.setup||f.setup.call(e,r,v,l)===!1)e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l)}f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),h.event.global[d]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h.hasData(e)&&h._data(e);if(!g||!(l=g.events))return;t=(t||"").match(O)||[""],f=t.length;while(f--){u=Z.exec(t[f])||[],d=m=u[1],v=(u[2]||"").split(".").sort();if(!d){for(d in l)h.event.remove(e,d+t[f],n,r,!0);continue}c=h.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,p=l[d]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;while(s--)o=p[s],(i||m===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(p.splice(s,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));a&&!p.length&&((!c.teardown||c.teardown.call(e,v,g.handle)===!1)&&h.removeEvent(e,d,g.handle),delete l[d])}h.isEmptyObject(l)&&(delete g.handle,h._removeData(e,"events"))},trigger:function(t,n,r,i){var s,o,u,a,l,c,p,d=[r||T],v=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];u=c=r=r||T;if(r.nodeType===3||r.nodeType===8)return;if(Y.test(v+h.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),o=v.indexOf(":")<0&&"on"+v,t=t[h.expando]?t:new h.Event(v,typeof t=="object"&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=n==null?[t]:h.makeArray(n,[t]),l=h.event.special[v]||{};if(!i&&l.trigger&&l.trigger.apply(r,n)===!1)return;if(!i&&!l.noBubble&&!h.isWindow(r)){a=l.delegateType||v,Y.test(a+v)||(u=u.parentNode);for(;u;u=u.parentNode)d.push(u),c=u;c===(r.ownerDocument||T)&&d.push(c.defaultView||c.parentWindow||e)}p=0;while((u=d[p++])&&!t.isPropagationStopped())t.type=p>1?a:l.bindType||v,s=(h._data(u,"events")||{})[t.type]&&h._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&h.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());t.type=v;if(!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&h.acceptData(r)&&o&&r[v]&&!h.isWindow(r)){c=r[o],c&&(r[o]=null),h.event.triggered=v;try{r[v]()}catch(g){}h.event.triggered=undefined,c&&(r[o]=c)}return t.result},dispatch:function(e){e=h.event.fix(e);var t,n,i,s,o,u=[],a=r.call(arguments),f=(h._data(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=h.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,n=((h.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),n!==undefined&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!=this;a=a.parentNode||this)if(a.nodeType===1&&(a.disabled!==!0||e.type!=="click")){i=[];for(s=0;s<u;s++)r=t[s],n=r.selector+" ",i[n]===undefined&&(i[n]=r.needsContext?h(n,this).index(a)>=0:h.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=G.test(i)?this.mouseHooks:Q.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new h.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||T),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return e.pageX==null&&t.clientX!=null&&(r=e.target.ownerDocument||T,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===nt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===B&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?et:tt):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0},h.Event.prototype={isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=et;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=et;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=et,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!h.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),l.submitBubbles||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:undefined;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}}),l.changeBubbles||(h.event.special.change={setup:function(){if(K.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")h.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)});return!1}h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=tt;else if(!r)return this;return i===1&&(o=r,r=function(e){return h().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=tt),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return h.event.trigger(e,t,n,!0)}});var it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",st=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+it+")[\\s/>]","i"),ut=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ft=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,vt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(T),bt=yt.appendChild(T.createElement("div"));gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,h.extend({clone:function(e,t,n){var r,i,s,o,u,a=h.contains(e.ownerDocument,e);l.html5Clone||h.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(bt.innerHTML=e.outerHTML,bt.removeChild(s=bt.firstChild));if((!l.noCloneEvent||!l.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!h.isXMLDoc(e)){r=wt(s),u=wt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&kt(i,r[o])}if(t)if(n){u=u||wt(e),r=r||wt(s);for(o=0;(i=u[o])!=null;o++)Ct(i,r[o])}else Ct(e,s);return r=wt(s,"script"),r.length>0&&Nt(r,!a&&wt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,c,p=e.length,d=rt(t),v=[],m=0;for(;m<p;m++){s=e[m];if(s||s===0)if(h.type(s)==="object")h.merge(v,s.nodeType?[s]:s);else if(!ct.test(s))v.push(t.createTextNode(s));else{u=u||d.appendChild(t.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,u.innerHTML=c[1]+s.replace(at,"<$1></$2>")+c[2],i=c[0];while(i--)u=u.lastChild;!l.leadingWhitespace&&ut.test(s)&&v.push(t.createTextNode(ut.exec(s)[0]));if(!l.tbody){s=a==="table"&&!lt.test(s)?u.firstChild:c[1]==="<table>"&&!lt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)h.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}h.merge(v,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=d.lastChild}}u&&d.removeChild(u),l.appendChecked||h.grep(wt(v,"input"),Et),m=0;while(s=v[m++]){if(r&&h.inArray(s,r)!==-1)continue;o=h.contains(s.ownerDocument,s),u=wt(d.appendChild(s),"script"),o&&Nt(u);if(n){i=0;while(s=u[i++])dt.test(s.type||"")&&n.push(s)}}return u=null,d},cleanData:function(e,t){var r,i,s,o,u=0,a=h.expando,f=h.cache,c=l.deleteExpando,p=h.event.special;for(;(r=e[u])!=null;u++)if(t||h.acceptData(r)){s=r[a],o=s&&f[s];if(o){if(o.events)for(i in o.events)p[i]?h.event.remove(r,i):h.removeEvent(r,i,o.handle);f[s]&&(delete f[s],c?delete r[a]:typeof r.removeAttribute!==B?r.removeAttribute(a):r[a]=null,n.push(s))}}}}),h.fn.extend({text:function(e){return $(this,function(e){return e===undefined?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=St(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=St(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?h.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&h.cleanData(wt(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&Nt(wt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&h.cleanData(wt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return t.nodeType===1?t.innerHTML.replace(st,""):undefined;if(typeof e=="string"&&!ht.test(e)&&(l.htmlSerialize||!ot.test(e))&&(l.leadingWhitespace||!ut.test(e))&&!gt[(ft.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(at,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(h.cleanData(wt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(wt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,s,o,u,a,f=0,c=this.length,p=this,d=c-1,v=e[0],m=h.isFunction(v);if(m||c>1&&typeof v=="string"&&!l.checkClone&&pt.test(v))return this.each(function(n){var r=p.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)});if(c){a=h.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,a.childNodes.length===1&&(a=n);if(n){o=h.map(wt(a,"script"),xt),s=o.length;for(;f<c;f++)r=a,f!==d&&(r=h.clone(r,!0,!0),s&&h.merge(o,wt(r,"script"))),t.call(this[f],r,f);if(s){u=o[o.length-1].ownerDocument,h.map(o,Tt);for(f=0;f<s;f++)r=o[f],dt.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(u,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(mt,"")))}a=n=null}}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){var n,r=0,i=[],o=h(e),u=o.length-1;for(;r<=u;r++)n=r===u?this:this.clone(!0),h(o[r])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Lt,At={};(function(){var e;l.shrinkWrapBlocks=function(){if(e!=null)return e;e=!1;var t,n,r;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;return t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(T.createElement("div")).style.width="5px",e=t.offsetWidth!==3),n.removeChild(r),e}})();var _t=/^margin/,Dt=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pt,Ht,Bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Pt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n.getPropertyValue(t)||n[t]:undefined,n&&(o===""&&!h.contains(e.ownerDocument,e)&&(o=h.style(e,t)),Dt.test(o)&&_t.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o===undefined?o:o+""}):T.documentElement.currentStyle&&(Pt=function(e){return e.currentStyle},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n[t]:undefined,o==null&&u&&u[t]&&(o=u[t]),Dt.test(o)&&!Bt.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left=t==="fontSize"?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),o===undefined?o:o+""||"auto"}),function(){function a(){var t,n,r,a;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i=(e.getComputedStyle(t,null)||{}).top!=="1%",s=(e.getComputedStyle(t,null)||{width:"4px"}).width==="4px",a=t.appendChild(T.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=a[0].offsetHeight===0,o&&(a[0].style.display="",a[1].style.display="none",o=a[0].offsetHeight===0),n.removeChild(r)}var t,n,r,i,s,o,u;t=T.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style;if(!n)return;n.cssText="float:left;opacity:.5",l.opacity=n.opacity==="0.5",l.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle=t.style.backgroundClip==="content-box",l.boxSizing=n.boxSizing===""||n.MozBoxSizing===""||n.WebkitBoxSizing==="",h.extend(l,{reliableHiddenOffsets:function(){return o==null&&a(),o},boxSizingReliable:function(){return s==null&&a(),s},pixelPosition:function(){return i==null&&a(),i},reliableMarginRight:function(){return u==null&&a(),u}})}(),h.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var Ft=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,qt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+W+")(.*)$","i"),Ut=new RegExp("^([+-])=("+W+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=h.camelCase(t),a=e.style;t=h.cssProps[u]||(h.cssProps[u]=Vt(a,u)),o=h.cssHooks[t]||h.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!h.cssNumber[u]&&(n+="px"),!l.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)try{a[t]=n}catch(f){}},css:function(e,t,n,r){var i,s,o,u=h.camelCase(t);return t=h.cssProps[u]||(h.cssProps[u]=Vt(e.style,u)),o=h.cssHooks[t]||h.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),s===undefined&&(s=Ht(e,t,r)),s==="normal"&&t in Wt&&(s=Wt[t]),n===""||n?(i=parseFloat(s),n===!0||h.isNumeric(i)?i||0:s):s}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){if(n)return qt.test(h.css(e,"display"))&&e.offsetWidth===0?h.swap(e,zt,function(){return Qt(e,t,r)}):Qt(e,t,r)},set:function(e,n,r){var i=r&&Pt(e);return Jt(e,n,r?Kt(e,t,r,l.boxSizing&&h.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),l.opacity||(h.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&h.trim(s.replace(Ft,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ft.test(s)?s.replace(Ft,i):s+" "+i}}),h.cssHooks.marginRight=jt(l.reliableMarginRight,function(e,t){if(t)return h.swap(e,{display:"inline-block"},Ht,[e,"marginRight"])}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+X[r]+t]=s[r]||s[r-2]||s[0];return i}},_t.test(e)||(h.cssHooks[e+t].set=Jt)}),h.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,s={},o=0;if(h.isArray(t)){r=Pt(e),i=t.length;for(;o<i;o++)s[t[o]]=h.css(e,t[o],!1,r);return s}return n!==undefined?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){V(this)?h(this).show():h(this).hide()})}}),h.Tween=Gt,Gt.prototype={constructor:Gt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(h.cssNumber[n]?"":"px")},cur:function(){var e=Gt.propHooks[this.prop];return e&&e.get?e.get(this):Gt.propHooks._default.get(this)},run:function(e){var t,n=Gt.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}},Gt.prototype.init.prototype=Gt.prototype,Gt.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=h.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(e.elem.style[h.cssProps[e.prop]]!=null||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Gt.propHooks.scrollTop=Gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Gt.prototype.init,h.fx.step={};var Yt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[fn],sn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tn.exec(t),s=i&&i[3]||(h.cssNumber[e]?"":"px"),o=(h.cssNumber[e]||s!=="px"&&+r)&&tn.exec(h.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,h.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};h.Animation=h.extend(cn,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),h.speed=function(e,t,n){var r=e&&typeof e=="object"?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};r.duration=h.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),s=h.speed(t,n,r),o=function(){var t=cn(this,h.extend({},e),s);(i||h._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=h.timers,o=h._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=h.timers,o=r?r.length:0;n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),h.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;Yt=h.now();for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||h.fx.stop(),Yt=undefined},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Zt||(Zt=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Zt),Zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx?h.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=T.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=T.createElement("select"),i=n.appendChild(T.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",l.getSetAttribute=t.className!=="t",l.style=/top/.test(r.getAttribute("style")),l.hrefNormalized=r.getAttribute("href")==="/a",l.checkOn=!!e.value,l.optSelected=i.selected,l.enctype=!!T.createElement("form").enctype,n.disabled=!0,l.optDisabled=!i.disabled,e=T.createElement("input"),e.setAttribute("value",""),l.input=e.getAttribute("value")==="",e.value="t",e.setAttribute("type","radio"),l.radioValue=e.value==="t"}();var hn=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(hn,""):n==null?"":n);return}return r=h.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,h(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":h.isArray(i)&&(i=h.map(i,function(e){return e==null?"":e+""})),t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return t!=null?t:h.trim(h.text(e))}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(l.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!h.nodeName(n.parentNode,"optgroup"))){t=h(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=h.makeArray(t),o=i.length;while(o--){r=i[o];if(h.inArray(h.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1}return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t))return e.checked=h.inArray(h(e).val(),t)>=0}},l.checkOn||(h.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var pn,dn,vn=h.expr.attrHandle,mn=/^(?:checked|selected)$/i,gn=l.getSetAttribute,yn=l.input;h.fn.extend({attr:function(e,t){return $(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===B)return h.prop(e,t,n);if(s!==1||!h.isXMLDoc(e))t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?dn:pn);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=h.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);h.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(O);if(s&&e.nodeType===1)while(n=s[i++])r=h.propFix[n]||n,h.expr.match.bool.test(n)?yn&&gn||!mn.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(gn?n:r)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&t==="radio"&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),dn={set:function(e,t,n){return t===!1?h.removeAttr(e,n):yn&&gn||!mn.test(n)?e.setAttribute(!gn&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vn[t]||h.find.attr;vn[t]=yn&&gn||!mn.test(t)?function(e,t,r){var i,s;return r||(s=vn[t],vn[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,vn[t]=s),i}:function(e,t,n){if(!n)return e[h.camelCase("default-"+t)]?t.toLowerCase():null}});if(!yn||!gn)h.attrHooks.value={set:function(e,t,n){if(!h.nodeName(e,"input"))return pn&&pn.set(e,t,n);e.defaultValue=t}};gn||(pn={set:function(e,t,n){var r=e.getAttributeNode(n);r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="";if(n==="value"||t===e.getAttribute(n))return t}},vn.id=vn.name=vn.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.value!==""?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:pn.set},h.attrHooks.contenteditable={set:function(e,t,n){pn.set(e,t===""?!1:t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),l.style||(h.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var bn=/^(?:input|select|textarea|button|object)$/i,wn=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return $(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!h.isXMLDoc(e),s&&(t=h.propFix[t]||t,i=h.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bn.test(e.nodeName)||wn.test(e.nodeName)&&e.href?0:-1}}}}),l.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),l.enctype||(h.propFix.enctype="encoding");var En=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=typeof e=="string"&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(f){t=(e||"").match(O)||[];for(;u<a;u++){n=this[u],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(En," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=h.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=arguments.length===0||typeof e=="string"&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(f){t=(e||"").match(O)||[];for(;u<a;u++){n=this[u],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(En," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?h.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):h.isFunction(e)?this.each(function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=h(this),s=e.match(O)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===B||n==="boolean")this.className&&h._data(this,"__className__",this.className),this.className=this.className||e===!1?"":h._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(En," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var Sn=h.now(),xn=/\?/,Tn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(Tn,function(e,t,i,s){return n&&t&&(r=0),r===0?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n,r;if(!t||typeof t!="string")return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=undefined}return(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+t),n};var Nn,Cn,kn=/#.*$/,Ln=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Dn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pn={},Hn={},Bn="*/".concat("*");try{Cn=location.href}catch(jn){Cn=T.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Dn.exec(Cn.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qn(qn(e,h.ajaxSettings),t):qn(h.ajaxSettings,e)},ajaxPrefilter:Fn(Pn),ajaxTransport:Fn(Hn),ajax:function(e,t){function x(e,t,n,r){var f,g,y,w,S,x=t;if(b===2)return;b=2,o&&clearTimeout(o),a=undefined,s=r||"",E.readyState=e>0?4:0,f=e>=200&&e<300||e===304,n&&(w=Rn(l,E,n)),w=Un(l,w,E,f);if(f)l.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(h.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(h.etag[i]=S)),e===204||l.type==="HEAD"?x="nocontent":e===304?x="notmodified":(x=w.state,g=w.data,y=w.error,f=!y);else{y=x;if(e||!x)x="error",e<0&&(e=0)}E.status=e,E.statusText=(t||x)+"",f?d.resolveWith(c,[g,x,E]):d.rejectWith(c,[E,x,y]),E.statusCode(m),m=undefined,u&&p.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?g:y]),v.fireWith(c,[E,x]),u&&(p.trigger("ajaxComplete",[E,l]),--h.active||h.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=h.ajaxSetup({},t),c=l.context||l,p=l.context&&(c.nodeType||c.jquery)?h(c):h.event,d=h.Deferred(),v=h.Callbacks("once memory"),m=l.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!f){f={};while(t=An.exec(s))f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),x(0,t),this}};d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Cn)+"").replace(kn,"").replace(_n,Nn[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(O)||[""],l.crossDomain==null&&(n=Dn.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Nn[1]&&n[2]===Nn[2]&&(n[3]||(n[1]==="http:"?"80":"443"))===(Nn[3]||(Nn[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=h.param(l.data,l.traditional)),In(Pn,l,t,E);if(b===2)return E;u=l.global,u&&h.active++===0&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mn.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(xn.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ln.test(i)?i.replace(Ln,"$1_="+Sn++):i+(xn.test(i)?"&":"?")+"_="+Sn++)),l.ifModified&&(h.lastModified[i]&&E.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&E.setRequestHeader("If-None-Match",h.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+Bn+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)E.setRequestHeader(r,l.headers[r]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&b!==2){w="abort";for(r in{success:1,error:1,complete:1})E[r](l[r]);a=In(Hn,l,t,E);if(!a)x(-1,"No Transport");else{E.readyState=1,u&&p.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{b=1,a.send(g,x)}catch(S){if(!(b<2))throw S;x(-1,S)}}return E}return E.abort()},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,undefined,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=undefined),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return h.isFunction(e)?this.each(function(t){h(this).wrapInner(e.call(this,t))}):this.each(function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!l.reliableHiddenOffsets()&&(e.style&&e.style.display||h.css(e,"display"))==="none"},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zn=/%20/g,Wn=/\[\]$/,Xn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Jn(n,e[n],t,i);return r.join("&").replace(zn,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&$n.test(this.nodeName)&&!Vn.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=h(this).val();return n==null?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),h.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Yn()||Zn()}:Yn;var Kn=0,Qn={},Gn=h.ajaxSettings.xhr();e.ActiveXObject&&h(e).on("unload",function(){for(var e in Qn)Qn[e](undefined,!0)}),l.cors=!!Gn&&"withCredentials"in Gn,Gn=l.ajax=!!Gn,Gn&&h.ajaxTransport(function(e){if(!e.crossDomain||l.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Kn;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)n[i]!==undefined&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||s.readyState===4)){delete Qn[o],t=undefined,s.onreadystatechange=h.noop;if(i)s.readyState!==4&&s.abort();else{f={},u=s.status,typeof s.responseText=="string"&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}!u&&e.isLocal&&!e.crossDomain?u=f.text?200:404:u===1223&&(u=204)}}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?s.readyState===4?setTimeout(t):s.onreadystatechange=Qn[o]=t:t()},abort:function(){t&&t(undefined,!0)}}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=T.head||h("head")[0]||T.documentElement;return{send:function(r,i){t=T.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){if(n||!t.readyState||/loaded|complete/.test(t.readyState))t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success")},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var er=[],tr=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||h.expando+"_"+Sn++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(tr.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(t.data)&&"data");if(u||t.dataTypes[0]==="jsonp")return i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(tr,"$1"+i):t.jsonp!==!1&&(t.url+=(xn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||h.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,er.push(i)),o&&h.isFunction(s)&&s(o[0]),o=s=undefined}),"script"}),h.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||T;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var nr=h.fn.load;h.fn.load=function(e,t,n){if(typeof e!="string"&&nr)return nr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=h.trim(e.slice(u,e.length)),e=e.slice(0,u)),h.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(s="POST"),o.length>0&&h.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var rr=e.document.documentElement;h.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=h.css(e,"position"),c=h(e),p={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=h.css(e,"top"),a=h.css(e,"left"),f=(l==="absolute"||l==="fixed")&&h.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),h.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(p.top=t.top-u.top+o),t.left!=null&&(p.left=t.left-u.left+i),"using"in t?t.using.call(e,p):c.css(p)}},h.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(!s)return;return t=s.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),n=ir(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return h.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||rr;while(e&&!h.nodeName(e,"html")&&h.css(e,"position")==="static")e=e.offsetParent;return e||rr})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return $(this,function(e,r,i){var s=ir(e);if(i===undefined)return s?t in s?s[t]:s.document.documentElement[r]:e[r];s?s.scrollTo(n?h(s).scrollLeft():i,n?i:h(s).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=jt(l.pixelPosition,function(e,n){if(n)return n=Ht(e,t),Dt.test(n)?h(e).position()[t]+"px":n})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return $(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?h.css(t,n,o):h.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return h});var sr=e.jQuery,or=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=or),t&&e.jQuery===h&&(e.jQuery=sr),h},typeof t===B&&(e.jQuery=e.$=h),h}),function(e){typeof define=="function"?define("es5-shim",e):typeof YUI=="function"?YUI.add("es5",e):e()}(function(){Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=r.call(arguments,1),s=function(){if(this instanceof s){var e=function(){};e.prototype=n.prototype;var o=new e,u=n.apply(o,i.concat(r.call(arguments)));return Object(u)===u?u:o}return n.apply(t,i.concat(r.call(arguments)))};return s});var e=Function.prototype.call,t=Array.prototype,n=Object.prototype,r=t.slice,i=e.bind(n.toString),s=e.bind(n.hasOwnProperty),o,u,a,f,l;if(l=s(n,"__defineGetter__"))o=e.bind(n.__defineGetter__),u=e.bind(n.__defineSetter__),a=e.bind(n.__lookupGetter__),f=e.bind(n.__lookupSetter__);Array.isArray||(Array.isArray=function(t){return i(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var n=w(this),r=arguments[1],s=-1,o=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError;while(++s<o)s in n&&t.call(r,n[s],s,n)}),Array.prototype.map||(Array.prototype.map=function(t){var n=w(this),r=n.length>>>0,s=Array(r),o=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var u=0;u<r;u++)u in n&&(s[u]=t.call(o,n[u],u,n));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var n=w(this),r=n.length>>>0,s=[],o,u=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in n&&(o=n[a],t.call(u,o,a,n)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var n=w(this),r=n.length>>>0,s=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<r;o++)if(o in n&&!t.call(s,n[o],o,n))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var n=w(this),r=n.length>>>0,s=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<r;o++)if(o in n&&t.call(s,n[o],o,n))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var n=w(this),r=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in n){o=n[s++];break}if(++s>=r)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;s<r;s++)s in n&&(o=t.call(void 0,o,n[s],s,n));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var n=w(this),r=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var s,o=r-1;if(arguments.length>=2)s=arguments[1];else do{if(o in n){s=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do o in this&&(s=t.call(void 0,s,n[o],o,n));while(o--);return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var n=w(this),r=n.length>>>0;if(!r)return-1;var i=0;arguments.length>1&&(i=y(arguments[1])),i=i>=0?i:Math.max(0,r+i);for(;i<r;i++)if(i in n&&n[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var n=w(this),r=n.length>>>0;if(!r)return-1;var i=r-1;arguments.length>1&&(i=Math.min(i,y(arguments[1]))),i=i>=0?i:r-Math.abs(i);for(;i>=0;i--)if(i in n&&t===n[i])return i;return-1});if(!Object.keys){var c=!0,h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=h.length;for(var d in{toString:null})c=!1;Object.keys=function E(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var E=[];for(var t in e)s(e,t)&&E.push(t);if(c)for(var n=0,r=p;n<r;n++){var i=h[n];s(e,i)&&E.push(i)}return E}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");t=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=this.getUTCFullYear(),i=(i<0?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(0<=i&&i<=9999?-4:-6),n=t.length;while(n--)r=t[n],r<10&&(t[n]="0"+r);return i+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(t){if(typeof this.toISOString!="function")throw new TypeError("toISOString property is not callable");return this.toISOString()});if(!Date.parse||Date.parse("+275760-09-13T00:00:00.000Z")!==864e13)Date=function(e){var t=function i(t,n,r,s,o,u,a){var f=arguments.length;if(this instanceof e){var l=f==1&&String(t)===t?new e(i.parse(t)):f>=7?new e(t,n,r,s,o,u,a):f>=6?new e(t,n,r,s,o,u):f>=5?new e(t,n,r,s,o):f>=4?new e(t,n,r,s):f>=3?new e(t,n,r):f>=2?new e(t,n):f>=1?new e(t):new e;return l.constructor=i,l}return e.apply(this,arguments)},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var r in e)t[r]=e[r];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(r){var i=n.exec(r);if(i){i.shift();for(var s=1;s<7;s++)i[s]=+(i[s]||(s<3?1:0)),s==1&&i[s]--;var o=+i.pop(),u=+i.pop(),a=i.pop(),f=0;if(a){if(u>23||o>59)return NaN;f=(u*60+o)*6e4*(a=="+"?-1:1)}var l=+i[0];return 0<=l&&l<=99?(i[0]=l+400,e.UTC.apply(this,i)+f-126227808e5):e.UTC.apply(this,i)+f}return e.parse.apply(this,arguments)},t}(Date);var v="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||v.trim()){v="["+v+"]";var m=new RegExp("^"+v+v+"*"),g=new RegExp(v+v+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(m,"").replace(g,"")}}var y=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},b="a"[0]!="a",w=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return b&&typeof e=="string"&&e?e.split(""):Object(e)}}),function(e){typeof define=="function"?define("es5-sham",e):typeof YUI=="function"?YUI.add("es5-sham",e):e()}(function(){function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:prototypeOfObject)});if(!Object.getOwnPropertyDescriptor){var e="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(n,r){if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(e+n);if(!owns(n,r))return;var i={enumerable:!0,configurable:!0};if(supportsAccessors){var s=n.__proto__;n.__proto__=prototypeOfObject;var o=lookupGetter(n,r),u=lookupSetter(n,r);n.__proto__=s;if(o||u)return o&&(i.get=o),u&&(i.set=u),i}return i.value=n[r],i}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create||(Object.create=function(t,n){var r;if(t===null)r={__proto__:null};else{if(typeof t!="object")throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,r=new i,r.__proto__=t}return n!==void 0&&Object.defineProperties(r,n),r});if(Object.defineProperty){var n=t({}),r=typeof document=="undefined"||t(document.createElement("div"));if(!n||!r)var i=Object.defineProperty}if(!Object.defineProperty||i){var s="Property description must be an object: ",o="Object.defineProperty called on non-object: ",u="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,n,r){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(o+t);if(typeof r!="object"&&typeof r!="function"||r===null)throw new TypeError(s+r);if(i)try{return i.call(Object,t,n,r)}catch(a){}if(owns(r,"value"))if(supportsAccessors&&(lookupGetter(t,n)||lookupSetter(t,n))){var f=t.__proto__;t.__proto__=prototypeOfObject,delete t[n],t[n]=r.value,t.__proto__=f}else t[n]=r.value;else{if(!supportsAccessors)throw new TypeError(u);owns(r,"get")&&defineGetter(t,n,r.get),owns(r,"set")&&defineSetter(t,n,r.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,n){for(var r in n)owns(n,r)&&r!="__proto__"&&Object.defineProperty(t,r,n[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(a){Object.freeze=function(t){return function(n){return typeof n=="function"?n:t(n)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;var n="";while(owns(t,n))n+="?";t[n]=!0;var r=owns(t,n);return delete t[n],r})}),define("utils/utils",[],function(){return{scaleToContainer:function(e,t,n,r){var i=e/t,s=n/r,o;return i>s?o=t/r:o=e/n,{width:o*n,height:o*r}},getSearchString:function(){return location.search.substr(1)},getQueryParams:function(){var e=this.getSearchString(),t={};if(e.length===0)return t;var n=e.split("&");return n.forEach(function(e){if(e==="")return;var n=e.split("="),r=decodeURIComponent(n[1].replace(/\+/g," "));r=r==="false"?!1:r,t[n[0]]=r}),t},isAndroid:function(){return this.getNavigator().userAgent.match(/Android/i)},isIOS:function(){return this.getNavigator().userAgent.match(/iPhone|iPad|iPod/i)},isFirefox:function(){return this.getNavigator().userAgent.match(/firefox/i)},isEnvironmentIe8:function(){return this.getNavigator().userAgent.match(/MSIE 8.0/i)},isEnvironmentIe9:function(){return this.getNavigator().userAgent.match(/MSIE 9.0/i)},isEnvironmentMobile:function(){var e=navigator.userAgent.match(/BlackBerry/i),t=navigator.userAgent.match(/Opera Mini/i),n=navigator.userAgent.match(/IEMobile/i);return this.isAndroid()||e||this.isIOS()||t||n},isEnvironmentSupportedMobile:function(){return this.isIOS()||this.isAndroid()},isEnvironmentUnsupportedMobile:function(){return this.isEnvironmentMobile()&&!this.isEnvironmentSupportedMobile()},getMetatag:function(e){var t=document.getElementsByTagName("meta");for(var n=0;n<t.length;n++){var r=t[n].getAttribute("name");if(r===e)return t[n].getAttribute("content")}},getNavigator:function(){return window.navigator},getLanguageCode:function(){var e=this.getNavigator(),t=this.getQueryParams(),n=t.language_code||e.language||e.browserLanguage||"en";return n.toLowerCase()},hasFlash:function(){try{var e=window.ActiveXObject?(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"):navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description,t=/(\d+)[,.]\d+/.exec(e),n=parseInt(t[1],10);return n>=9}catch(r){}return!1},getUrlMetadata:function(e){var t=document.createElement("a");return t.href=e,t}}}),define("flight/lib/registry",[],function(){"use strict";function e(e,t){var n,r,i,s=t.length;return typeof t[s-1]=="function"&&(s-=1,i=t[s]),typeof t[s-1]=="object"&&(s-=1),s==2?(n=t[0],r=t[1]):(n=e.node,r=t[0]),{element:n,type:r,callback:i}}function t(e,t){return e.element==t.element&&e.type==t.type&&(t.callback==null||e.callback==t.callback)}function n(){function r(e){this.component=e,this.attachedTo=[],this.instances={},this.addInstance=function(e){var t=new i(e);return this.instances[e.identity]=t,this.attachedTo.push(e.node),t},this.removeInstance=function(e){delete this.instances[e.identity];var t=this.attachedTo.indexOf(e.node);t>-1&&this.attachedTo.splice(t,1),Object.keys(this.instances).length||n.removeComponentInfo(this)},this.isAttachedTo=function(e){return this.attachedTo.indexOf(e)>-1}}function i(e){this.instance=e,this.events=[],this.addBind=function(e){this.events.push(e),n.events.push(e)},this.removeBind=function(e){for(var n=0,r;r=this.events[n];n++)t(r,e)&&this.events.splice(n,1)}}var n=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(e){var t=this.findComponentInfo(e);t||(t=new r(e.constructor),this.components.push(t));var n=t.addInstance(e);return this.allInstances[e.identity]=n,t},this.removeInstance=function(e){var t=this.findComponentInfo(e);t&&t.removeInstance(e),delete this.allInstances[e.identity]},this.removeComponentInfo=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},this.findComponentInfo=function(e){var t=e.attachTo?e:e.constructor;for(var n=0,r;r=this.components[n];n++)if(r.component===t)return r;return null},this.findInstanceInfo=function(e){return this.allInstances[e.identity]||null},this.getBoundEventNames=function(e){return this.findInstanceInfo(e).events.map(function(e){return e.type})},this.findInstanceInfoByNode=function(e){var t=[];return Object.keys(this.allInstances).forEach(function(n){var r=this.allInstances[n];r.instance.node===e&&t.push(r)},this),t},this.on=function(t){var r=n.findInstanceInfo(this),i,s=arguments.length,o=1,u=new Array(s-1);for(;o<s;o++)u[o-1]=arguments[o];if(r){i=t.apply(null,u),i&&(u[u.length-1]=i);var a=e(this,u);r.addBind(a)}},this.off=function(){var r=e(this,arguments),i=n.findInstanceInfo(this);i&&i.removeBind(r);for(var s=0,o;o=n.events[s];s++)t(o,r)&&n.events.splice(s,1)},n.trigger=function(){},this.teardown=function(){n.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){n.addInstance(this)}),this.around("on",n.on),this.after("off",n.off),window.DEBUG&&DEBUG.enabled&&this.after("trigger",n.trigger),this.after("teardown",{obj:n,fnName:"teardown"})}}return new n}),define("flight/lib/debug",["./registry"],function(e){"use strict";function t(e,n,i){i=i||{};var s=i.obj||window,o=i.path||(s==window?"window":""),u=Object.keys(s);u.forEach(function(i){(r[e]||e)(n,s,i)&&console.log([o,".",i].join(""),"->",["(",typeof s[i],")"].join(""),s[i]),Object.prototype.toString.call(s[i])=="[object Object]"&&s[i]!=s&&o.split(".").indexOf(i)==-1&&t(e,n,{obj:s[i],path:[o,i].join(".")})})}function n(e,n,r,i){!n||typeof r==n?t(e,r,i):console.error([r,"must be",n].join(" "))}function i(e,t){n("name","string",e,t)}function s(e,t){n("nameContains","string",e,t)}function o(e,t){n("type","function",e,t)}function u(e,t){n("value",null,e,t)}function a(e,t){n("valueCoerced",null,e,t)}function f(e,n){t(e,null,n)}function h(){var e=[].slice.call(arguments);c.eventNames.length||(c.eventNames=l),c.actions=e.length?e:l,m()}function p(){var e=[].slice.call(arguments);c.actions.length||(c.actions=l),c.eventNames=e.length?e:l,m()}function d(){c.actions=[],c.eventNames=[],m()}function v(){c.actions=l,c.eventNames=l,m()}function m(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",c.eventNames),localStorage.setItem("logFilter_actions",c.actions))}catch(e){}}function g(){var e,t;try{e=window.localStorage&&localStorage.getItem("logFilter_eventNames"),t=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(n){return}e&&(c.eventNames=e),t&&(c.actions=t),Object.keys(c).forEach(function(e){var t=c[e];typeof t=="string"&&t!==l&&(c[e]=t?t.split(","):[])})}var r={name:function(e,t,n){return e==n},nameContains:function(e,t,n){return n.indexOf(e)>-1},type:function(e,t,n){return t[n]instanceof e},value:function(e,t,n){return t[n]===e},valueCoerced:function(e,t,n){return t[n]==e}},l="all",c={eventNames:[],actions:[]};return{enable:function(e){this.enabled=!!e,e&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),g(),window.DEBUG=this},registry:e,find:{byName:i,byNameContains:s,byType:o,byValue:u,byValueCoerced:a,custom:f},events:{logFilter:c,logByAction:h,logByName:p,logAll:v,logNone:d}}}),define("boot/boot_debug",["require","utils/utils","flight/lib/debug"],function(e){var t=e("utils/utils"),n=e("flight/lib/debug"),r=t.getQueryParams();r.debug&&n.enable(!0)}),define("flight/lib/utils",["./debug"],function(e){"use strict";function n(){var t=e.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(t)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(n){return!1}return t}var t=100,r={isDomObj:function(e){return!!e.nodeType||e===window},toArray:function(e,t){t=t||0;var n=e.length,r=new Array(n-t);for(var i=t;i<n;i++)r[i-t]=e[i];return r},merge:function(){var e=arguments.length,t=new Array(e+1);if(e===0)return{};for(var n=0;n<e;n++)t[n+1]=arguments[n];return t[0]={},t[t.length-1]===!0&&(t.pop(),t.unshift(!0)),$.extend.apply(undefined,t)},push:function(e,t,n){return e&&Object.keys(t||{}).forEach(function(r){if(e[r]&&n)throw new Error('utils.push attempted to overwrite "'+r+'" while running in protected mode');typeof e[r]=="object"&&typeof t[r]=="object"?this.push(e[r],t[r]):e[r]=t[r]},this),e},getEnumerableProperty:function(e,t){return e.propertyIsEnumerable(t)?e[t]:undefined},compose:function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},uniqueArray:function(e){var t={},n=[];for(var r=0,i=e.length;r<i;++r){if(t.hasOwnProperty(e[r]))continue;n.push(e[r]),t[e[r]]=1}return n},debounce:function(e,n,r){typeof n!="number"&&(n=t);var i,s;return function(){var t=this,o=arguments,u=function(){i=null,r||(s=e.apply(t,o))},a=r&&!i;return i&&clearTimeout(i),i=setTimeout(u,n),a&&(s=e.apply(t,o)),s}},throttle:function(e,n){typeof n!="number"&&(n=t);var r,i,s,o,u,a,f=this.debounce(function(){u=o=!1},n);return function(){r=this,i=arguments;var t=function(){s=null,u&&(a=e.apply(r,i)),f()};return s||(s=setTimeout(t,n)),o?u=!0:(o=!0,a=e.apply(r,i)),f(),a}},countThen:function(e,t){return function(){if(!--e)return t.apply(this,arguments)}},delegate:function(e){return function(t,n){var r=$(t.target),i;Object.keys(e).forEach(function(s){if(!t.isPropagationStopped()&&(i=r.closest(s)).length)return n=n||{},t.currentTarget=n.el=i[0],e[s].apply(this,[t,n])},this)}},once:function(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),n)}},propertyWritability:function(e,t,r){n()&&e.hasOwnProperty(t)&&Object.defineProperty(e,t,{writable:r})},mutateProperty:function(e,t,r){var i;if(!n()||!e.hasOwnProperty(t)){r.call(e);return}i=Object.getOwnPropertyDescriptor(e,t).writable,Object.defineProperty(e,t,{writable:!0}),r.call(e),Object.defineProperty(e,t,{writable:i})}};return r}),define("flight/lib/advice",["./utils"],function(e){"use strict";var t={around:function(e,t){return function(){var r=0,i=arguments.length,s=new Array(i+1);s[0]=e.bind(this);for(;r<i;r++)s[r+1]=arguments[r];return t.apply(this,s)}},before:function(e,t){var n=typeof t=="function"?t:t.obj[t.fnName];return function(){return n.apply(this,arguments),e.apply(this,arguments)}},after:function(e,t){var n=typeof t=="function"?t:t.obj[t.fnName];return function(){var r=(e.unbound||e).apply(this,arguments);return n.apply(this,arguments),r}},withAdvice:function(){["before","after","around"].forEach(function(n){this[n]=function(r,i){var s=r.trim().split(" ");s.forEach(function(r){e.mutateProperty(this,r,function(){return typeof this[r]=="function"?this[r]=t[n](this[r],i):this[r]=i,this[r]})},this)}},this)}};return t}),define("flight/lib/compose",["./utils"],function(e){"use strict";function n(n,r){Object.keys(n).forEach(function(i){t.indexOf(i)<0&&e.propertyWritability(n,i,r)})}function r(e,t){e.mixedIn=Object.prototype.hasOwnProperty.call(e,"mixedIn")?e.mixedIn:[];for(var r=0;r<t.length;r++)e.mixedIn.indexOf(t[r])==-1&&(n(e,!1),t[r].call(e),e.mixedIn.push(t[r]));n(e,!0)}var t=["mixedIn","attrDef"];return{mixin:r}}),define("flight/lib/base",["./utils","./registry","./debug"],function(e,t,n){"use strict";function i(e){e.events.slice().forEach(function(e){var t=[e.type];e.element&&t.unshift(e.element),typeof e.callback=="function"&&t.push(e.callback),this.off.apply(this,t)},e.instance)}function s(e,t){try{window.postMessage(t,"*")}catch(n){throw console.log("unserializable data for event",e,":",t),new Error(["The event",e,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function o(e){var t=[],r;this.attr=new this.attrDef;if(n.enabled&&window.console){for(var i in this.attrDef.prototype)t.push(i);r=Object.keys(e);for(var s=r.length-1;s>=0;s--)if(t.indexOf(r[s])==-1){console.warn('Passed unused attributes including "'+r[s]+'" to component "'+this.toString()+'".');break}}for(var i in this.attrDef.prototype){if(typeof e[i]=="undefined"){if(this.attr[i]===null)throw new Error('Required attribute "'+i+'" not specified in attachTo for component "'+this.toString()+'".')}else this.attr[i]=e[i];typeof this.attr[i]=="function"&&(this.attr[i]=this.attr[i].call(this))}}function u(e){var t=Object.create(e);for(var n in this.defaults)e.hasOwnProperty(n)||(t[n]=this.defaults[n]);this.attr=t,Object.keys(this.defaults||{}).forEach(function(e){if(this.defaults[e]===null&&this.attr[e]===null)throw new Error('Required attribute "'+e+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function a(e){return function(t,n){$(t.target).trigger(e,n)}}function f(){this.trigger=function(){var e,t,r,i,o,u=arguments.length-1,a=arguments[u];return typeof a!="string"&&(!a||!a.defaultBehavior)&&(u--,r=a),u==1?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),i.defaultBehavior&&(o=i.defaultBehavior,i=$.Event(i.type)),t=i.type||i,n.enabled&&window.postMessage&&s.call(this,t,r),typeof this.attr.eventData=="object"&&(r=$.extend(!0,{},this.attr.eventData,r)),e.trigger(i||t,r),o&&!i.isDefaultPrevented()&&(this[o]||o).call(this,i,r),e},this.on=function(){var t,n,r,i,s=arguments.length-1,o=arguments[s];typeof o=="object"?i=e.delegate(this.resolveDelegateRules(o)):typeof o=="string"?i=a(o):i=o,s==2?(t=$(arguments[0]),n=arguments[1]):(t=this.$node,n=arguments[0]);if(typeof i!="function"&&typeof i!="object")throw new Error('Unable to bind to "'+n+'" because the given callback is not a function or an object');return r=i.bind(this),r.target=i,r.context=this,t.on(n,r),i.bound||(i.bound=[]),i.bound.push(r),r},this.off=function(){var e,n,r,i=arguments.length-1;typeof arguments[i]=="function"&&(r=arguments[i],i-=1),i==1?(e=$(arguments[0]),n=arguments[1]):(e=this.$node,n=arguments[0]);if(r){var s=r.target?r.target.bound:r.bound||[];s&&s.some(function(e,t,n){if(e.context&&this.identity==e.context.identity)return n.splice(t,1),r=e,!0},this),e.off(n,r)}else t.findInstanceInfo(this).events.forEach(function(t){n==t.type&&e.off(n,t.callback)});return e},this.resolveDelegateRules=function(e){var t={};return Object.keys(e).forEach(function(n){if(!(n in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+n+'" but no such attribute was defined.');t[this.attr[n]]=typeof e[n]=="string"?a(e[n]):e[n]},this),t},this.select=function(e){return this.$node.find(this.attr[e])},this.attributes=function(e){var t=function(){};this.attrDef&&(t.prototype=new this.attrDef);for(var n in e)t.prototype[n]=e[n];this.attrDef=t},this.defaultAttrs=function(t){e.push(this.defaults,t,!0)||(this.defaults=t)},this.initialize=function(e,t){t=t||{},this.identity||(this.identity=r++);if(!e)throw new Error("Component needs a node");return e.jquery?(this.node=e[0],this.$node=e):(this.node=e,this.$node=$(e)),this.attrDef?o.call(this,t):u.call(this,t),this},this.teardown=function(){i(t.findInstanceInfo(this))}}var r=0;return f}),define("flight/lib/logger",["./utils"],function(e){"use strict";function n(e){var t=e.tagName?e.tagName.toLowerCase():e.toString(),n=e.className?"."+e.className:"",r=t+n;return e.tagName?["'","'"].join(r):r}function r(e,r,i){if(!window.DEBUG||!window.DEBUG.enabled)return;var s,o,u,a,f,l,c,h,p,d;typeof i[i.length-1]=="function"&&(a=i.pop(),a=a.unbound||a),i.length==1?(u=r.$node[0],o=i[0]):i.length==2&&typeof i[1]=="object"&&!i[1].type?(u=r.$node[0],o=i[0],e=="trigger"&&(f=i[1])):(u=i[0],o=i[1],e=="trigger"&&(f=i[2])),s=typeof o=="object"?o.type:o,l=DEBUG.events.logFilter,h=l.actions=="all"||l.actions.indexOf(e)>-1,c=function(e){return e.test?e:new RegExp("^"+e.replace(/\*/g,".*")+"$")},p=l.eventNames=="all"||l.eventNames.some(function(e){return c(e).test(s)}),h&&p&&(d=[t[e],e,"["+s+"]"],f&&d.push(f),d.push(n(u)),d.push(r.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&e=="trigger"&&console.groupCollapsed(e,s),Function.prototype.apply.call(console.info,console,d))}function i(){this.before("trigger",function(){r("trigger",this,e.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){r("on",this,e.toArray(arguments))}),this.before("off",function(){r("off",this,e.toArray(arguments))})}var t={on:"<-",trigger:"->",off:"x "};return i}),define("flight/lib/component",["./advice","./utils","./compose","./base","./registry","./logger","./debug"],function(e,t,n,r,i,s,o){"use strict";function a(){var e=i.findComponentInfo(this);e&&Object.keys(e.instances).forEach(function(t){var n=e.instances[t];n&&n.instance&&n.instance.teardown()})}function f(e){var n=arguments.length,r=new Array(n-1);for(var s=1;s<n;s++)r[s-1]=arguments[s];if(!e)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var o=t.merge.apply(t,r),u=i.findComponentInfo(this);$(e).each(function(e,t){if(u&&u.isAttachedTo(t))return;(new this).initialize(t,o)}.bind(this))}function l(){var e=this.mixedIn||this.prototype.mixedIn||[];return e.map(function(e){if(e.name==null){var t=e.toString().match(u);return t&&t[1]?t[1]:""}return e.name!="withBase"?e.name:""}).filter(Boolean).join(", ")}function c(){var u=arguments.length,h=new Array(u);for(var p=0;p<u;p++)h[p]=arguments[p];var d=function(){};return d.toString=d.prototype.toString=l,o.enabled&&(d.describe=d.prototype.describe=d.toString()),d.attachTo=f,d.mixin=function(){var e=c(),r=Object.create(d.prototype);return r.mixedIn=[].concat(d.prototype.mixedIn),r.defaults=t.merge(d.prototype.defaults),r.attrDef=d.prototype.attrDef,n.mixin(r,arguments),e.prototype=r,e.prototype.constructor=e,e},d.teardownAll=a,o.enabled&&h.unshift(s),h.unshift(r,e.withAdvice,i.withRegistration),n.mixin(d.prototype,h),d}var u=/function (.*?)\s?\(/;return c.teardownAll=function(){i.components.slice().forEach(function(e){e.component.teardownAll()}),i.reset()},c}),define("utils/with_post_message_json_rpc",["require","utils/utils"],function(e){function n(){this.deferredResponses={},this.localMethods={},this.nextId=1,this.version="2.0",this.getParent=function(){return window.parent},this.postMessage=function(e){var n=this.getParent();if(!n||!n.postMessage)return;e.jsonrpc=this.version,t.isEnvironmentIe8()||t.isEnvironmentIe9()?n.postMessage(JSON.stringify(e),"*"):n.postMessage(e,"*")},this.onWindowMessage=function(e){var t=e.originalEvent||e,n=t.data;if(!n)return;if(typeof n=="string")try{n=JSON.parse(n)}catch(r){return}this.handleMessage(n)},this.handleMessage=function(e){if(e.jsonrpc!==this.version)return;e.hasOwnProperty("method")?e.hasOwnProperty("id")?this.handleRequest(e):this.handleNotification(e):e.hasOwnProperty("result")?this.handleResult(e):e.hasOwnProperty("error")?this.handleErrorResponse(e):window.console&&window.console.warn("JSON RPC: Invalid message received",e)},this.handleNotification=function(e){var t=this.localMethods[e.method];if(!t)return;t.apply(this,e.params)},this.handleRequest=function(e){var t=this.localMethods[e.method];if(!t){this.sendErrorResponse(e.id,{code:-32601,message:"Method not found"});return}$.when(t.apply(this,e.params)).then(this.sendResult.bind(this,e.id),this.sendErrorResponse.bind(this,e.id))},this.sendErrorResponse=function(e,t){this.postMessage({id:e,error:t})},this.sendResult=function(e,t){this.postMessage({id:e,result:t})},this.handleErrorResponse=function(e){var t=this.deferredResponses[e.id];if(!t)return;t.reject(e.error),this.deferredResponses[e.id]=undefined},this.handleResult=function(e){var t=this.deferredResponses[e.id];if(!t)return;t.resolve(e.result),this.deferredResponses[e.id]=undefined},this.notify=function(e,t){t?this.postMessage({method:e,params:t}):this.postMessage({method:e})},this.request=function(e,t,n){var r=this.nextId++;return t?this.postMessage({id:r,method:e,params:t}):this.postMessage({id:r,method:e}),this.deferredResponses[r]=$.Deferred(),n&&setTimeout(function(){this.handleErrorResponse({id:r,error:{code:-1,message:"Request Timeout"}})}.bind(this),n),this.deferredResponses[r].promise()},this.setupRpc=function(e){this.localMethods=e,this.on(window,"message",this.onWindowMessage)}}var t=e("utils/utils");return n}),function(e){"use strict";function h(e){return Object.prototype.toString.call(e)==="[object Array]"}function p(e){return typeof e=="undefined"}function m(t){return e.xdm=f,u=t,u&&(l="xdm_"+u.replace(".","_")+"_"),a}function g(e){if(!e)throw new Error("url is undefined or empty");if(/^file/.test(e))throw new Error("The file:// protocol is not supported");var t=e.toLowerCase().match(i);if(t){var n=t[2],r=t[3],s=t[4]||"";if(n==="http:"&&s===":80"||n==="https:"&&s===":443")s="";return n+"//"+r+s}return e}function y(e){if(!e)throw new Error("url is undefined or empty");e=e.replace(o,"$1/");if(!e.match(/^(http||https):\/\//)){var t=e.substring(0,1)==="/"?"":location.pathname;t.substring(t.length-1)!=="/"&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=location.protocol+"//"+location.host+t+e}while(s.test(e))e=e.replace(s,"");return e}function b(e,t){if(!t)throw new Error("parameters is undefined or null");var n=e.indexOf("#"),r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i+"="+encodeURIComponent(t[i]));return e+(n===-1?"#":"&")+r.join("&")}function w(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],typeof r=="object"?w(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function E(e){var n=t.cloneNode(!1);w(e.props,{frameBorder:0,allowTRansparency:!0,scrolling:"no",width:"100%",src:b(e.remote,{xdm_e:g(location.href),xdm_c:e.channel,xdm_p:1}),name:l+e.channel+"_provider",style:{margin:0,padding:0,border:0}}),n.id=e.props.name,delete e.props.name;if(!e.container)throw new Error('xdm.Rpc() configuration object missing a DOM "container" property');return w(n,e.props),e.container.appendChild(n),e.onLoad&&d(n,"load",e.onLoad),e.html&&(n.contentWindow.document.open(),n.contentWindow.document.write(e.html),n.contentWindow.document.close()),e.iframe=n,n}function S(e,t){typeof e=="string"&&(e=[e]);var n,r=e.length;while(r--){n=e[r],n=new RegExp(n.substr(0,1)==="^"?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(n.test(t))return!0}return!1}function x(e){var t;e.isHost=e.isHost||p(c.xdm_p),e.props=e.props||{};if(!e.isHost){e.channel=c.xdm_c.replace(/["'<>\\]/g,""),e.remote=c.xdm_e.replace(/["'<>\\]/g,"");if(e.acl&&!S(e.acl,e.remote))throw new Error("Access denied for "+e.remote)}else e.remote=y(e.remote),e.channel=e.channel||"default"+n++;return t=[new a.stack.PostMessageTransport(e)],t.push(new a.stack.QueueBehavior(!0)),t}function T(e){var t,n,r=e.length,i={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(n=0;n<r;n++)t=e[n],w(t,i,!0),n!==0&&(t.down=e[n-1]),n!==r-1&&(t.up=e[n+1]);return t}function N(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var t=document.createElement("IFRAME"),n=Math.floor(Math.random()*1e4),r=Function.prototype,i=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,s=/[\-\w]+\/\.\.\//,o=/([^:])\/\//g,u="",a={},f=e.xdm,l="xdm_",c=function(e){e=e.substring(1,e.length).split("&");var t={},n,r=e.length;while(r--)n=e[r].split("="),t[n[0]]=decodeURIComponent(n[1]);return t}(location.hash),d=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)}}(),v=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)}}();w(a,{version:"1.0.0",query:c,stack:{},noConflict:m}),a.Rpc=function(e,t){var n;if(t.local)for(var r in t.local)t.local.hasOwnProperty(r)&&(n=t.local[r],typeof n=="function"&&(t.local[r]={method:n}));var i=T(x(e).concat([new a.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=g(e.remote),this.destroy=function(){i.destroy()},i.init(),this.iframe=e.iframe},a.stack.PostMessageTransport=function(t){function o(e){var r=g(e.origin),i=typeof e.data=="string";r===s&&i&&e.data.substring(0,t.channel.length+1)===t.channel+" "&&n.up.incoming(e.data.substring(t.channel.length+1),r)}var n,r,i,s;return n={outgoing:function(e,n,r){i.postMessage(t.channel+" "+e,n||s),r&&r()},destroy:function(){v(e,"message",o),r&&(i=null,r.parentNode.removeChild(r),r=null)},init:function(){s=g(t.remote);if(t.isHost){var u=function(s){s.data===t.channel+"-ready"&&("postMessage"in r.contentWindow?i=r.contentWindow:i=r.contentWindow.document,v(e,"message",u),d(e,"message",o),setTimeout(function(){n.up.callback(!0)},0))};d(e,"message",u),r=E(t)}else d(e,"message",o),"postMessage"in e.parent?i=e.parent:i=e.parent.document,i.postMessage(t.channel+"-ready",s),setTimeout(function(){n.up.callback(!0)},0)}},n},a.stack.QueueBehavior=function(e){function o(){var i;if(e===!0&&n.length===0){N(t);return}if(r||n.length===0||s)return;r=!0,i=n.shift(),t.down.outgoing(i.data,i.origin,function(e){r=!1,i.callback&&setTimeout(function(){i.callback(e)},0),o()})}var t,n=[],r=!0,i="",s;return t={init:function(){t.down.init()},callback:function(e){r=!1;var n=t.up;o(),n.callback(e)},incoming:function(e,n){t.up.incoming(e,n)},outgoing:function(e,t,r){n.push({data:e,origin:t,callback:r}),o()},destroy:function(){s=!0,t.down.destroy()}},t},a.stack.RpcBehavior=function(e,t){function o(e){e.jsonrpc="2.0",n.down.outgoing(JSON.stringify(e))}function u(e,t){var n=Array.prototype.slice;return function(){var r=arguments.length,u,a={method:t};r>0&&typeof arguments[r-1]=="function"?(r>1&&typeof arguments[r-2]=="function"?(u={success:arguments[r-2],error:arguments[r-1]},a.params=n.call(arguments,0,r-2)):(u={success:arguments[r-1]},a.params=n.call(arguments,0,r-1)),s[""+ ++i]=u,a.id=i):a.params=n.call(arguments,0),e.namedParams&&a.params.length===1&&(a.params=a.params[0]),o(a)}}function a(e,t,n,i){if(!n){t&&o({id:t,error:{code:-32601,message:"Procedure not found."}});return}var s,u;t?(s=function(e){s=r,o({id:t,result:e})},u=function(e,n){u=r;var i={id:t,error:{code:-32099,message:e}};n&&(i.error.data=n),o(i)}):s=u=r,h(i)||(i=[i]);try{var a=n.method.apply(n.scope,i.concat([s,u]));p(a)||s(a)}catch(f){u(f.message)}}var n,i=0,s={};return n={incoming:function(e,n){var r=JSON.parse(e),i;r.method?t.handle?t.handle(r,o):a(r.method,r.id,t.local[r.method],r.params):(i=s[r.id],r.error&&i.error?i.error(r.error):i.success&&i.success(r.result),delete s[r.id])},init:function(){if(t.remote)for(var r in t.remote)t.remote.hasOwnProperty(r)&&(e[r]=u(t.remote[r],r));n.down.init()},destroy:function(){for(var r in t.remote)t.remote.hasOwnProperty(r)&&e.hasOwnProperty(r)&&delete e[r];n.down.destroy()}},n},typeof exports=="object"?module.exports=a:typeof provide=="function"?provide(a):typeof define=="function"&&define.amd?define("xdm",[],function(){return a}):e.xdm=a}(window),define("utils/with_xdm_tunnel",["require","xdm"],function(e){function n(){this.host=undefined,this.getHost=function(){return this.host},this.request=function(e,t,n){var r=this.getHost();if(!r)return;var i=$.Deferred();return t=t||[],t.unshift(e),t.push(i.resolve.bind(i),i.reject.bind(i)),r.callVideoHostMethod.apply(r,t),n&&setTimeout(function(){i.reject({code:-1,message:"Request Timeout"})},n),i.promise()},this.notify=function(e,t){var n=this.getHost();if(!n)return;t=t||[],t.unshift(e),n.callVideoHostMethod.apply(n,t)},this.setupRpc=function(e){var n={};Object.keys(e).forEach(function(t){n[t]=e[t].bind(this)}.bind(this));try{this.host=new t.Rpc({},{remote:{callVideoHostMethod:{}},local:n})}catch(r){window.console&&window.console.warn("Could not set up XDM",r)}}}var t=e("xdm");return n}),define("utils/interface",["require","flight/lib/component","utils/with_post_message_json_rpc","utils/with_xdm_tunnel","flight/lib/compose"],function(e){function s(){this.attributes({jsonRpc:!1}),this.mediaStatus=undefined,this.handlePromotedContentEvent=function(e,t){this.notify("logPromotedContentEvent",[t])},this.handleScribeEvent=function(e,t){this.notify("scribe",[t])},this.handleTimeUpdate=function(e,t){this.mediaStatus={currentTime:t.currentTime*1e3,duration:t.duration}},this.handleRequestPlayerConfig=function(){this.request("requestPlayerConfig").then(function(e){this.trigger("dataPlayerConfig",e)}.bind(this),function(e){this.trigger("dataPlaybackError",e)}.bind(this))},this.handleDynamicAdRequest=function(){this.request("requestDynamicAd",[],500).then(function(e){this.trigger("dataDynamicAdResponse",e)}.bind(this),function(){this.trigger("dataDynamicAdResponse",{})}.bind(this))},this.getMediaStatus=function(){return this.mediaStatus||{}},this.stepBackward=function(){this.trigger("uiStepBackward")},this.stepForward=function(){this.trigger("uiStepForward")},this.after("initialize",function(){this.attr.jsonRpc?i.mixin(this,[n]):i.mixin(this,[r]),this.setupRpc({getMediaStatus:this.getMediaStatus,stepBackward:this.stepBackward,stepForward:this.stepForward}),this.on(document,"dataPromotedContentEvent",this.handlePromotedContentEvent),this.on(document,"dataScribeEvent",this.handleScribeEvent),this.on(document,"dataTimeUpdate",this.handleTimeUpdate),this.on(document,"uiRequestPlayerConfig",this.handleRequestPlayerConfig),this.on(document,"dataDynamicAdRequest",this.handleDynamicAdRequest)})}var t=e("flight/lib/component"),n=e("utils/with_post_message_json_rpc"),r=e("utils/with_xdm_tunnel"),i=e("flight/lib/compose");return t(s)}),define("data/with_track_data",[],function(){function e(){this.playlistLoaded=function(e,t){this.tracks=t.tracks,this.playlistData=t.playlistData||{},this.currentTrackIndex=-1},this.currentTrack=function(){return this.tracks&&this.tracks[this.currentTrackIndex]},this.nextTrack=function(){return this.tracks[this.currentTrackIndex+1]},this.getPlaylistData=function(){return{content_id:this.playlistData.contentId,dynamic_preroll_type:this.playlistData.dynamicPrerollType,preroll_uuid:this.playlistData.prerollId,preroll_owner_id:this.playlistData.prerollOwnerId}},this.currentTrackData=function(){var e=this.currentTrack();return e?{video_index:this.currentTrackIndex,video_uuid:e.contentId,video_owner_id:e.ownerId,video_type:e.type}:{}},this.trackStart=function(e,t){this.currentTrackIndex=t.trackIndex},this.after("initialize",function(){this.playlistData={},this.on(document,"dataPlaylistLoaded",this.playlistLoaded),this.on(document,"dataTrackStart",this.trackStart)})}return e}),define("data/beacons",["require","flight/lib/component","data/with_track_data"],function(e){function r(){this.beaconNames=["adCreativeView","adError","adImpression","complete","firstQuartile","midpoint","pause","resume","rewind","start","thirdQuartile"],this.beaconNames.forEach(function(e){this[e]=function(){this.triggerBeacon(e)}},this),this.callUrl=function(e){var t=new Image;t.src=e},this.triggerBeacon=function(e){this.getBeaconUrls(this.currentTrack(),e).forEach(function(e){this.callUrl(e)},this)},this.triggerStartBeacons=function(){this.start(),this.adImpression(),this.adCreativeView()},this.getBeaconUrls=function(e,t){return e&&e.beacons&&e.beacons[t]||[]},this.after("initialize",function(){this.on(document,"dataComplete",this.complete),this.on(document,"dataFirstQuartile",this.firstQuartile),this.on(document,"dataMidpoint",this.midpoint),this.on(document,"dataPause",this.pause),this.on(document,"dataPlay",this.resume),this.on(document,"dataPlaybackError",this.adError),this.on(document,"dataRewind",this.rewind),this.on(document,"dataStart",this.triggerStartBeacons),this.on(document,"dataThirdQuartile",this.thirdQuartile)})}var t=e("flight/lib/component"),n=e("data/with_track_data");return t(r,n)}),define("ui/embedded_info",["require","flight/lib/component"],function(e){function n(){this.attributes({publisherLink:".embedded-publisher-link",publisherName:".embedded-publisher-name",publisherProfileImage:".embedded-publisher-profile-image",publisherScreenName:".embedded-publisher-screen-name",tweetPermalink:".embedded-tweet-permalink",videoTitle:".embedded-video-title",status:null,user:null,videoInfo:null}),this.render=function(){var e=this.attr.videoInfo,t=this.attr.status,n=this.attr.user;if(!e||!t||!n)return;this.select("publisherLink").attr("href","https://twitter.com/"+e.publisher.screen_name),this.select("publisherName").text(e.publisher.name),this.select("publisherProfileImage").attr("src",e.publisher.profile_image_url),this.select("publisherScreenName").text("@"+e.publisher.screen_name),this.select("tweetPermalink").attr("href","https://twitter.com/"+n.screen_name+"/status/"+t.id_str),e.title?this.select("videoTitle").text(e.title):this.select("videoTitle").remove(),this.$node.addClass("embedded-info-loaded")},this.show=function(){this.$node.addClass("embedded-info-visible")},this.hide=function(){this.$node.removeClass("embedded-info-visible")},this.after("initialize",function(){this.render(),this.on(document,"dataTrackStart dataPlay dataReplay",this.hide),this.on(document,"dataPlaylistEnd dataPause",this.show)})}var t=e("flight/lib/component");return t(n)}),define("translations",[],function(){return{"en-ss":{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"[[60174]] <p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>",Follow:"[[97306]] Follow","Playback is not supported in this environment.":"[[44043]] Playback is not supported in this environment.","Playback is not supported on this device.":"[[60175]] Playback is not supported on this device.","Playback is not supported.":"[[44041]] Playback is not supported.","The media could not be played.":"[[60173]] The media could not be played.","Video in %{time}":"[[60176]] Video in %{time}","Visit %{hostname}":"[[60177]] Visit %{hostname}","Watch now at %{hostname}":"[[60178]] Watch now at %{hostname}"},"en-xx":{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":'[<p>Thïís bröøwséêr döøéês nöøt süppöørt thïís vïídéêöø föørmåät, åänd yöøü döø nöøt håävéê Flåäsh ïínståälléêd.</p><p>\n  <a target="_blank" href="http://get.adobe.com/flashplayer">Döøwnlöøåäd Flåäsh</a>\n</p>]',Follow:"[Föøllöøw]","Playback is not supported in this environment.":"[Plåäybåäck ïís nöøt süppöørtéêd ïín thïís éênvïíröønméênt.]","Playback is not supported on this device.":"[Plåäybåäck ïís nöøt süppöørtéêd öøn thïís déêvïícéê.]","Playback is not supported.":"[Plåäybåäck ïís nöøt süppöørtéêd.]","The media could not be played.":"[Théê méêdïíåä cöøüld nöøt béê plåäyéêd.]","Video in %{time}":"[Vïídéêöø ïín %{tïíméê}]","Visit %{hostname}":"[Vïísïít %{höøstnåäméê}]","Watch now at %{hostname}":"[Wåätch nöøw åät %{höøstnåäméê}]"},ko:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>사용하는 브라우저가 이 동영상 형식을 지원하지 않고, Flash가 설치되지 않았습니다.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash 받으러 가기</a></p>",Follow:"팔로우하기","Playback is not supported in this environment.":"재생할 수 없는 환경입니다.","Playback is not supported on this device.":"이 기기에서는 재생이 지원되지 않습니다.","Playback is not supported.":"재생할 수 없습니다.","The media could not be played.":"재생할 수 없는 미디어입니다.","Video in %{time}":"%{time}초 후에 시작","Visit %{hostname}":"%{hostname} 방문하기","Watch now at %{hostname}":"%{hostname} 에서 지금 감상하기"},de:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Dieser Browser unterstützt dieses Video-Format nicht und Du hast Flash nicht installiert.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash herunterladen</a></p>",Follow:"Folgen","Playback is not supported in this environment.":"Wiedergabe wird in dieser Umgebung nicht unterstützt.","Playback is not supported on this device.":"Playback wird auf diesem Gerät nicht unterstützt.","Playback is not supported.":"Wiedergabe wird nicht unterstützt.","The media could not be played.":"Das Medium konnte nicht abgespielt werden.","Video in %{time}":"Video in %{time}","Visit %{hostname}":"%{hostname} besuchen","Watch now at %{hostname}":"Jetzt auf %{hostname} ansehen"},fr:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ce navigateur ne prend pas en charge ce format vidéo, et vous n'avez pas installé Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Télécharger Flash</a></p>",Follow:"Suivre","Playback is not supported in this environment.":"La lecture n'est pas prise en charge dans cet environnement.","Playback is not supported on this device.":"La lecture n'est pas prise en charge sur cet appareil.","Playback is not supported.":"La lecture n'est pas prise en charge.","The media could not be played.":"Le média n'a pas pu être lu.","Video in %{time}":"Vidéo dans %{time}","Visit %{hostname}":"Visiter %{hostname}","Watch now at %{hostname}":"Voir maintenant sur %{hostname}"},it:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Il browser non supporta il formato di questo video e non hai Flash installato.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Scarica Flash</a></p>",Follow:"Segui","Playback is not supported in this environment.":"Riproduzione non supportata in questo ambiente.","Playback is not supported on this device.":"Riproduzione non supportata su questo dispositivo.","Playback is not supported.":"Riproduzione non supportata.","The media could not be played.":"Il contenuto multimediale non può essere riprodotto.","Video in %{time}":"Video tra %{time}","Visit %{hostname}":"Visita %{hostname}","Watch now at %{hostname}":"Guarda ora su %{hostname}"},es:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Este navegador no soporta este formato de video y no tienes Flash instalado.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Descargar Flash</a></p>",Follow:"Seguir","Playback is not supported in this environment.":"La reproducción no es compatible en este entorno.","Playback is not supported on this device.":"La reproducción no está soportada en este dispositivo.","Playback is not supported.":"La reproducción no es compatible.","The media could not be played.":"No se pudo reproducir el contenido multimedia.","Video in %{time}":"Video en %{time}","Visit %{hostname}":"Visitar a %{hostname}","Watch now at %{hostname}":"Míralo ahora en %{hostname}"},ja:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>ご利用のブラウザはこのフォーマットをサポートしていません。Flashがインストールされていません。</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flashをダウンロード</a></p>",Follow:"フォローする","Playback is not supported in this environment.":"こちらの環境では再生できません","Playback is not supported on this device.":"ご利用の端末では再生できません。","Playback is not supported.":"再生できません","The media could not be played.":"メディアを再生できませんでした。","Video in %{time}":"動画 %{time}","Visit %{hostname}":"%{hostname}へ","Watch now at %{hostname}":"%{hostname}を今すぐ見る"},pt:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Este navegador não suporta este formato de vídeo, e você não tem o Flash instalado.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Baixar Flash</a></p>",Follow:"Seguir","Playback is not supported in this environment.":"A reprodução não é compatível neste ambiente.","Playback is not supported on this device.":"A reprodução não é suportada neste aparelho.","Playback is not supported.":"A reprodução não é compatível.","The media could not be played.":"A mídia não pôde ser reproduzida.","Video in %{time}":"Vídeo em %{time}","Visit %{hostname}":"Visitar %{hostname}","Watch now at %{hostname}":"Assistir agora no %{hostname}"},ru:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Браузер не поддерживает формат данного видео, так как у вас не установлен Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Скачать Flash</a></p>",Follow:"Читать","Playback is not supported in this environment.":"Данное программное обеспечение не поддерживает функцию воспроизведения.","Playback is not supported on this device.":"Воспроизведение не поддерживается на этом устройстве.","Playback is not supported.":"Воспроизведение не поддерживается.","The media could not be played.":"Не удаётся воспроизвести медиа-файл.","Video in %{time}":"Видео в %{time}","Visit %{hostname}":"Посетить %{hostname}","Watch now at %{hostname}":"Смотреть сейчас на %{hostname}"},id:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Peramban ini tidak mendukung format video ini, dan Anda tidak memiliki Flash yang terpasang.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Unduh Flash</a></p>",Follow:"Ikuti","Playback is not supported in this environment.":"Pemutaran ulang tidak didukung di lingkungan ini.","Playback is not supported on this device.":"Pemutaran tidak didukung pada perangkat ini.","Playback is not supported.":"Pemutaran ulang tidak didukung.","The media could not be played.":"Media tidak dapat dimainkan.","Video in %{time}":"Video dalam %{time}","Visit %{hostname}":"Kunjungi %{hostname}","Watch now at %{hostname}":"Tonton sekarang di %{hostname}"},tr:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Bu tarayıcı bu video formatını desteklemiyor ve Flash yüklü değil.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash'ı indir</a></p>",Follow:"Takip et","Playback is not supported in this environment.":"Yürütme bu ortamda desteklenmiyor.","Playback is not supported on this device.":"Oynatma işlemi bu cihazda desteklenmiyor.","Playback is not supported.":"Yürütme desteklenmiyor.","The media could not be played.":"Medya oynatılamadı.","Video in %{time}":"Video süresi: %{time}","Visit %{hostname}":"%{hostname} sunucusunu ziyaret et","Watch now at %{hostname}":"%{hostname} üzerinden hemen izle"},he:{Follow:"עקוב","Playback is not supported in this environment.":"אין תמיכה בנגינה בסביבה זו.","Playback is not supported on this device.":"אין תמיכה בנגינה בהתקן זה.","Playback is not supported.":"אין תמיכה בנגינה.","The media could not be played.":"לא ניתן לנגן את המדיה."},da:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denne browser understøtter ikke dette videoformat, og du har ikke Flash installeret.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>",Follow:"Følg","Playback is not supported in this environment.":"Afspilning er ikke understøttet i dette miljø.","Playback is not supported on this device.":"Afspilning understøttes ikke på denne enhed.","Playback is not supported.":"Afspilning er ikke understøttet.","The media could not be played.":"Dette medie kunne ikke afspilles.","Video in %{time}":"Video om %{time}","Visit %{hostname}":"Besøg %{hostname}","Watch now at %{hostname}":"Se nu på %{hostname}"},no:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denne nettleseren støtter ikke dette videoformatet, og du har ikke Flash installert.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Last ned Flash</a></p>",Follow:"Følg","Playback is not supported in this environment.":"Avspilling støttes ikke i dette miljøet.","Playback is not supported on this device.":"Avspilling støttes ikke for denne enheten.","Playback is not supported.":"Avspilling støttes ikke.","The media could not be played.":"Mediet kunne ikke avspilles.","Video in %{time}":"Video om %{time}","Visit %{hostname}":"Besøk %{hostname}","Watch now at %{hostname}":"Se nå på %{hostname}"},nl:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Deze browser ondersteunt dit videoformaat niet en je hebt Flash niet geïnstalleerd.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash downloaden</a></p>",Follow:"Volgen","Playback is not supported in this environment.":"Afspelen niet ondersteund in deze omgeving.","Playback is not supported on this device.":"Afspelen wordt niet ondersteund op dit apparaat.","Playback is not supported.":"Afspelen niet ondersteund.","The media could not be played.":"De media kan niet worden afgespeeld.","Video in %{time}":"Video over %{time}","Visit %{hostname}":"%{hostname} bezoeken","Watch now at %{hostname}":"Nu kijken op %{hostname}"},pl:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ta przeglądarka nie obsługuje tego formatu video, nie masz też zainstalowanego Flasha.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Pobierz Flash</a></p>",Follow:"Obserwuj","Playback is not supported in this environment.":"Odtwarzanie nie jest obsługiwane w tym środowisku.","Playback is not supported on this device.":"To urządzenie nie obsługuje odtwarzania.","Playback is not supported.":"Odtwarzanie nie jest obsługiwane.","The media could not be played.":"Nie udało się odtworzyć multimediów.","Video in %{time}":"Film za %{time}","Visit %{hostname}":"Odwiedź %{hostname}","Watch now at %{hostname}":"Obejrzyj teraz na %{hostname}"},sv:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denna webbläsare stödjer inte detta videoformat och du har inte Flash installerad. </p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Ladda ner Flash</a></p>",Follow:"Följ","Playback is not supported in this environment.":"Uppspelning stöds inte i denna miljö.","Playback is not supported on this device.":"Uppspelning stöds inte på denna enhet. ","Playback is not supported.":"Uppspelning stöds inte.","The media could not be played.":"Media kunde inte spelas.","Video in %{time}":"Video i %{time}","Visit %{hostname}":"Besök %{hostname}","Watch now at %{hostname}":"Se nu på %{hostname}"},"zh-cn":{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>此浏览器不支持此格式的视频，并且您没有安装Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>下载Flash</a></p>",Follow:"关注","Playback is not supported in this environment.":"该环境不支持回放。","Playback is not supported on this device.":"播放不支持该设备。","Playback is not supported.":"不支持回放。","The media could not be played.":"不能播放该媒体。","Video in %{time}":"视频在%{time}","Visit %{hostname}":"访问 %{hostname}","Watch now at %{hostname}":"立即在 %{hostname} 观看"},"zh-tw":{Follow:"跟隨","Playback is not supported in this environment.":"此環境不支援重播功能。","Playback is not supported on this device.":"此裝置不支援重播功能。","Playback is not supported.":"不支援重播功能。","The media could not be played.":"無法播放媒體。"},fil:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Hindi suportado ng browser ang format ng video na ito, at walang naka-install na Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>I-download ang Flash</a></p>",Follow:"Sundan","Playback is not supported in this environment.":"Hindi suportado ang playback sa kapaligirang ito.","Playback is not supported on this device.":"Ang playback ay hindi suportado sa device na ito.","Playback is not supported.":"Hindi suportado ang playback.","The media could not be played.":"Hindi mapagana ang media.","Video in %{time}":"Video sa %{time}","Visit %{hostname}":"Bisitahin ang/si %{hostname}","Watch now at %{hostname}":"Panoorin ngayon sa %{hostname}"},msa:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Pelayar ini tidak menyokong format video ini, dan anda tidak mempunyai Flash yang dipasang.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Muat Turun Flash</a></p>",Follow:"Ikut","Playback is not supported in this environment.":"Main semula tidak disokong dalam persekitaran ini.","Playback is not supported on this device.":"Main semula tidak disokong pada peranti ini.","Playback is not supported.":"Main semula tidak disokong.","The media could not be played.":"Media tidak dapat dimainkan.","Video in %{time}":"Video dalam %{time} ","Visit %{hostname}":"Lawati %{hostname}","Watch now at %{hostname}":"Tonton sekarang di %{hostname}"},hi:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>यह ब्राउज़र इस वीडियो फोर्मेट को सपोर्ट नहीं करता, और आपने फ़्लैश इनस्टॉल नहीं किया है.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>फ्लैश डाउनलोड करें</a></p>",Follow:"फ़ॉलो","Playback is not supported in this environment.":"इस परिवेश में प्लेबैक समर्थित नहीं है.","Playback is not supported on this device.":"इस डिवाइस पर प्लेबैक समर्थित नहीं है.","Playback is not supported.":"प्लेबैक समर्थित नहीं है.","The media could not be played.":"मीडिया चलाया नहीं जा सका.","Video in %{time}":"%{time} में वीडियो","Visit %{hostname}":"%{hostname} पर जाएं","Watch now at %{hostname}":"अभी %{hostname} पर देखें"},hu:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ez a böngésző nem támogatja ezt a videóformátumot, Flash pedig nincsen telepítve.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash letöltése</a></p>",Follow:"Követés","Playback is not supported in this environment.":"A visszajátszás nem támogatott ebben a környezetben.","Playback is not supported on this device.":"A lejátszás nem támogatott ezen az eszközön.","Playback is not supported.":"A visszajátszás nem támogatott.","The media could not be played.":"Ez a tartalom nem játszható le.","Video in %{time}":"Videó lejátszása indul: %{time} ","Visit %{hostname}":"%{hostname} megtekintése","Watch now at %{hostname}":"Nézd meg most itt: %{hostname}"},fi:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Tämä selain ei tue tätä videomuotoa, ja sinulla ei ole Flash asennettuna.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Lataa Flash</a></p>",Follow:"Seuraa","Playback is not supported in this environment.":"Toistoa ei tueta tässä ympäristössä.","Playback is not supported on this device.":"Toistoa ei tueta tällä laitteella.","Playback is not supported.":"Toistoa ei tueta.","The media could not be played.":"Mediaa ei voitu toistaa.","Video in %{time}":"Video alkuun %{time}","Visit %{hostname}":"Vieraile kohteessa %{hostname}","Watch now at %{hostname}":"Katso nyt kohteessa %{hostname}"},ar:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>هذا المتصفح لا يدعم صيغة هذا الفيديو، وليس لديك برنامج فلاش مثبّت.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>تحميل برنامج فلاش</a></p>",Follow:"تابِع","Playback is not supported in this environment.":"إعادة التشغيل غير مدعوم في هذه البيئة.","Playback is not supported on this device.":"إعادة التشغيل غير مدعوم على هذا الجهاز.","Playback is not supported.":"إعادة التشغيل غير مدعوم.","The media could not be played.":"لا يمكن تشغيل هذا الملف.","Video in %{time}":"الفيديو في %{time}","Visit %{hostname}":"قم بزيارة %{hostname}","Watch now at %{hostname}":"شاهِد الآن على %{hostname}"},ur:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>یہ براؤزر اس ویڈیو فارمیٹ کو سپورٹ نہیں کرتا، اور آپ نے فلیش کو انسٹال نہیں کیا ہوا ہے۔</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>فلیش ڈاؤن لوڈ کریں</a> </p>","Playback is not supported in this environment.":"اس ماحول میں پلے بیک کی معاونت نہیں کی جاتی ہے۔","Playback is not supported on this device.":"اس ڈیوائس پر پلے بیک کی سہولت موجود نہیں ہے۔","Playback is not supported.":"پلے بیک کی معاونت نہیں کی جاتی ہے","The media could not be played.":"میڈیا نہیں چلایا جا سکتا۔","Video in %{time}":"%{time} میں ویڈیو","Visit %{hostname}":"%{hostname} پر جائیں","Watch now at %{hostname}":"%{hostname} پر ابھی دیکھیں"},th:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>เบราว์เซอร์นี้ไม่รองรับรูปแบบวิดีโอชนิดนี้ และคุณยังไม่ได้ติดตั้ง Flash</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>ดาว์นโหลด Flash</a></p>",Follow:"ติดตาม","Playback is not supported in this environment.":"ไม่สนับสนุนการเล่นในสภาพแวดล้อมนี้","Playback is not supported on this device.":"ไม่สนับสนุนการเล่นบนเครื่องนี้","Playback is not supported.":"ไม่สนับสนุนการเล่น","The media could not be played.":"ไม่สามารถเล่นสื่อนี้ได้","Video in %{time}":"วิดีโอใน %{time}","Visit %{hostname}":"ไปที่ %{hostname}","Watch now at %{hostname}":"ดูตอนนี้ที่ %{hostname}"},fa:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>این مرورگر از این قالب ویدیو پشتیبانی نمی‌کند و شما برنامه فلش را نصب نکرده‌اید.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>دریافت فلش Flash</a></p>",Follow:"دنبال کردن","Playback is not supported in this environment.":"پخش در این محیط پشتیبانی نمی‌شود.","Playback is not supported on this device.":"پخش در این  دستگاه پشتیبانی نمی‌شود.","Playback is not supported.":"پخش پشتیبانی نمی‌شود.","The media could not be played.":"رسانه قابل پخش‌ نیست.","Video in %{time}":"ویدئو در %{time}","Visit %{hostname}":"مشاهده %{hostname}","Watch now at %{hostname}":"هم اکنون در %{hostname} ببینید."},cs:{Follow:"Sledovat","Video in %{time}":"Video v %{time}"},uk:{Follow:"Читати"},vi:{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Trình duyệt không hỗ trợ định dạng video này, và bạn chưa cài đặt Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Tải Flash</a></p>",Follow:"Theo dõi","Playback is not supported in this environment.":"Không hỗ trợ phát lại trong môi trường này.","Playback is not supported on this device.":"Không hỗ trợ phát lại trên thiết bị này.","Playback is not supported.":"Không hỗ trợ phát lại.","The media could not be played.":"Không thể chạy tập tin đa phương tiện.","Video in %{time}":"Video trong %{time}","Visit %{hostname}":"Truy cập %{hostname}","Watch now at %{hostname}":"Xem ngay tại %{hostname}"},ro:{Follow:"Urmărește"},bn:{Follow:"অনুসরণ করুন"},"en-gb":{"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>",Follow:"Follow","Playback is not supported in this environment.":"Playback is not supported in this environment.","Playback is not supported on this device.":"Playback is not supported on this device.","Playback is not supported.":"Playback is not supported.","The media could not be played.":"The media could not be played.","Video in %{time}":"Video in %{time}","Visit %{hostname}":"Visit %{hostname}","Watch now at %{hostname}":"Watch now at %{hostname}"}}}),define("utils/i18n",["require","translations","utils/utils"],function(e){var t=e("translations"),n=e("utils/utils"),r=function(){return r.translate.apply(r,arguments)};return r.translate=function(e,r){var i=n.getLanguageCode(),s=i.split("-"),o;for(var u=0;u<s.length;u++){o=s.slice(0,s.length-u).join("-");if(t[o]&&t[o][e]){e=t[o][e];break}}if(r)for(var a in r){var f=new RegExp("%{"+a+"}","g");e=e.replace(f,r[a])}return e},r}),function(){function n(t,n){return n=n||"",typeof t!="string"&&(t.global&&n.indexOf("g")<0&&(n+="g"),t.ignoreCase&&n.indexOf("i")<0&&(n+="i"),t.multiline&&n.indexOf("m")<0&&(n+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,n){var r=e.txt.regexen[n]||"";return typeof r!="string"&&(r=r.source),r}),n)}function r(e,t){return e.replace(/#\{(\w+)\}/g,function(e,n){return t[n]||""})}function i(e,t,n){var r=String.fromCharCode(t);return n!==t&&(r+="-"+String.fromCharCode(n)),e.push(r),e}function m(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function w(e,t,n){return n?!e||e.match(t)&&RegExp["$&"]===e:typeof e=="string"&&e.match(t)&&RegExp["$&"]===e}if(typeof e=="undefined"||e===null)var e={};e.txt={},e.txt.regexen={};var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};e.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return t[e]})},e.txt.regexSupplant=n,e.txt.stringSupplant=r,e.txt.addCharsToCharClass=i;var s=String.fromCharCode,o=[s(32),s(133),s(160),s(5760),s(6158),s(8232),s(8233),s(8239),s(8287),s(12288)];i(o,9,13),i(o,8192,8202);var u=[s(65534),s(65279),s(65535)];i(u,8234,8238),e.txt.regexen.spaces_group=n(o.join("")),e.txt.regexen.spaces=n("["+o.join("")+"]"),e.txt.regexen.invalid_chars_group=n(u.join("")),e.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,e.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg,e.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/mg;var a=[];i(a,1024,1279),i(a,1280,1319),i(a,11744,11775),i(a,42560,42655),i(a,1425,1471),i(a,1473,1474),i(a,1476,1477),i(a,1479,1479),i(a,1488,1514),i(a,1520,1524),i(a,64274,64296),i(a,64298,64310),i(a,64312,64316),i(a,64318,64318),i(a,64320,64321),i(a,64323,64324),i(a,64326,64335),i(a,1552,1562),i(a,1568,1631),i(a,1646,1747),i(a,1749,1756),i(a,1758,1768),i(a,1770,1775),i(a,1786,1788),i(a,1791,1791),i(a,1872,1919),i(a,2208,2208),i(a,2210,2220),i(a,2276,2302),i(a,64336,64433),i(a,64467,64829),i(a,64848,64911),i(a,64914,64967),i(a,65008,65019),i(a,65136,65140),i(a,65142,65276),i(a,8204,8204),i(a,3585,3642),i(a,3648,3662),i(a,4352,4607),i(a,12592,12677),i(a,43360,43391),i(a,44032,55215),i(a,55216,55295),i(a,65441,65500),i(a,12449,12538),i(a,12540,12542),i(a,65382,65439),i(a,65392,65392),i(a,65296,65305),i(a,65313,65338),i(a,65345,65370),i(a,12353,12438),i(a,12441,12446),i(a,13312,19903),i(a,19968,40959),i(a,173824,177983),i(a,177984,178207),i(a,194560,195103),i(a,12291,12291),i(a,12293,12293),i(a,12347,12347),e.txt.regexen.nonLatinHashtagChars=n(a.join(""));var f=[];i(f,192,214),i(f,216,246),i(f,248,255),i(f,256,591),i(f,595,596),i(f,598,599),i(f,601,601),i(f,603,603),i(f,611,611),i(f,616,616),i(f,623,623),i(f,626,626),i(f,649,649),i(f,651,651),i(f,699,699),i(f,768,879),i(f,7680,7935),e.txt.regexen.latinAccentChars=n(f.join("")),e.txt.regexen.hashSigns=/[#＃]/,e.txt.regexen.hashtagAlpha=n(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),e.txt.regexen.hashtagAlphaNumeric=n(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),e.txt.regexen.endHashtagMatch=n(/^(?:#{hashSigns}|:\/\/)/),e.txt.regexen.hashtagBoundary=n(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),e.txt.regexen.validHashtag=n(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),e.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:rt|RT|rT|Rt):?)/,e.txt.regexen.atSigns=/[@＠]/,e.txt.regexen.validMentionOrList=n("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),e.txt.regexen.validReply=n(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),e.txt.regexen.endMentionMatch=n(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),e.txt.regexen.validUrlPrecedingChars=n(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),e.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,e.txt.regexen.invalidDomainChars=r("#{punct}#{spaces_group}#{invalid_chars_group}",e.txt.regexen),e.txt.regexen.validDomainChars=n(/[^#{invalidDomainChars}]/),e.txt.regexen.validSubdomain=n(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),e.txt.regexen.validDomainName=n(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),e.txt.regexen.validGTLD=n(RegExp("(?:(?:abogado|academy|accountants|active|actor|aero|agency|airforce|allfinanz|alsace|archi|army|arpa|asia|associates|attorney|auction|audio|autos|axa|band|bar|bargains|bayern|beer|berlin|best|bid|bike|bio|biz|black|blackfriday|blue|bmw|bnpparibas|boo|boutique|brussels|budapest|build|builders|business|buzz|bzh|cab|cal|camera|camp|cancerresearch|capetown|capital|caravan|cards|care|career|careers|casa|cash|cat|catering|center|ceo|cern|channel|cheap|christmas|chrome|church|citic|city|claims|cleaning|click|clinic|clothing|club|codes|coffee|college|cologne|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|country|credit|creditcard|crs|cruises|cuisinella|cymru|dad|dance|dating|day|deals|degree|democrat|dental|dentist|desi|diamonds|diet|digital|direct|directory|discount|dnp|domains|durban|dvag|eat|edu|education|email|emerck|engineer|engineering|enterprises|equipment|esq|estate|eus|events|exchange|expert|exposed|fail|farm|feedback|finance|financial|fish|fishing|fitness|flights|florist|flsmidth|fly|foo|forsale|foundation|frl|frogans|fund|furniture|futbol|gal|gallery|gbiz|gent|gift|gifts|gives|glass|gle|global|globo|gmail|gmo|gmx|google|gop|gov|graphics|gratis|green|gripe|guide|guitars|guru|hamburg|haus|healthcare|help|here|hiphop|hiv|holdings|holiday|homes|horse|host|hosting|house|how|ibm|immo|immobilien|industries|info|ing|ink|institute|insure|int|international|investments|jetzt|jobs|joburg|juegos|kaufen|kim|kitchen|kiwi|koeln|krd|kred|lacaixa|land|lawyer|lease|lgbt|life|lighting|limited|limo|link|loans|london|lotto|ltda|luxe|luxury|maison|management|mango|market|marketing|media|meet|melbourne|meme|menu|miami|mil|mini|mobi|moda|moe|monash|mortgage|moscow|motorcycles|mov|museum|nagoya|name|navy|net|network|neustar|new|nexus|ngo|nhk|ninja|nra|nrw|nyc|okinawa|ong|onl|ooo|org|organic|otsuka|ovh|paris|partners|parts|pharmacy|photo|photography|photos|physio|pics|pictures|pink|pizza|place|plumbing|pohl|poker|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|realtor|recipes|red|rehab|reise|reisen|ren|rentals|repair|report|republican|rest|restaurant|reviews|rich|rio|rip|rocks|rodeo|rsvp|ruhr|ryukyu|saarland|sarl|sca|scb|schmidt|schule|scot|services|sexy|shiksha|shoes|singles|social|software|sohu|solar|solutions|soy|space|spiegel|supplies|supply|support|surf|surgery|suzuki|systems|taipei|tatar|tattoo|tax|technology|tel|tienda|tips|tirol|today|tokyo|tools|top|town|toys|trade|training|travel|tui|university|uno|uol|vacations|vegas|ventures|vermögensberater|vermögensberatung|versicherung|vet|viajes|villas|vision|vlaanderen|vodka|vote|voting|voto|voyage|wales|wang|watch|webcam|website|wed|wedding|whoswho|wien|wiki|williamhill|wme|work|works|world|wtc|wtf|xxx|xyz|yachts|yandex|yoga|yokohama|youtube|zip|zone|дети|москва|онлайн|орг|рус|сайт|بازار|شبكة|موقع|संगठन|みんな|世界|中信|中文网|企业|佛山|公司|公益|商城|商标|在线|广东|我爱你|手机|政务|机构|游戏|移动|组织机构|网址|网络|集团|삼성)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validCCTLD=n(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|бел|мкд|мон|рф|срб|укр|қаз|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عراق|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|香港|한국)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validPunycode=n(/(?:xn--[0-9a-z]+)/),e.txt.regexen.validSpecialCCTLD=n(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validDomain=n(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),e.txt.regexen.validAsciiDomain=n(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),e.txt.regexen.invalidShortDomain=n(/^#{validDomainName}#{validCCTLD}$/i),e.txt.regexen.validSpecialShortDomain=n(/^#{validDomainName}#{validSpecialCCTLD}$/i),e.txt.regexen.validPortNumber=n(/[0-9]+/),e.txt.regexen.validGeneralUrlPathChars=n(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),e.txt.regexen.validUrlBalancedParens=n("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),e.txt.regexen.validUrlPathEndingChars=n(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),e.txt.regexen.validUrlPath=n("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),e.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,e.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,e.txt.regexen.extractUrl=n("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),e.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,e.txt.regexen.urlHasProtocol=/^https?:\/\//i,e.txt.regexen.urlHasHttps=/^https:\/\//i,e.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,e.txt.regexen.validCashtag=n("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),e.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,e.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,e.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,e.txt.regexen.validateUrlPchar=n("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),e.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,e.txt.regexen.validateUrlUserinfo=n("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),e.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,e.txt.regexen.validateUrlIpv4=n(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),e.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,e.txt.regexen.validateUrlIp=n("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),e.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomain=n(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),e.txt.regexen.validateUrlHost=n("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),e.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomain=n(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),e.txt.regexen.validateUrlUnicodeHost=n("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),e.txt.regexen.validateUrlPort=/[0-9]{1,5}/,e.txt.regexen.validateUrlUnicodeAuthority=n("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),e.txt.regexen.validateUrlAuthority=n("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),e.txt.regexen.validateUrlPath=n(/(\/#{validateUrlPchar}*)*/i),e.txt.regexen.validateUrlQuery=n(/(#{validateUrlPchar}|\/|\?)*/i),e.txt.regexen.validateUrlFragment=n(/(#{validateUrlPchar}|\/|\?)*/i),e.txt.regexen.validateUrlUnencoded=n("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var l="tweet-url list-slug",c="tweet-url username",h="tweet-url hashtag",p="tweet-url cashtag",d={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},v={disabled:!0,readonly:!0,multiple:!0,checked:!0};e.txt.tagAttrs=function(t){var n="";for(var r in t){var i=t[r];v[r]&&(i=i?r:null);if(i==null)continue;n+=" "+e.txt.htmlEscape(r)+'="'+e.txt.htmlEscape(i.toString())+'"'}return n},e.txt.linkToText=function(t,n,i,s){s.suppressNoFollow||(i.rel="nofollow"),s.linkAttributeBlock&&s.linkAttributeBlock(t,i),s.linkTextBlock&&(n=s.linkTextBlock(t,n));var o={text:n,attr:e.txt.tagAttrs(i)};return r("<a#{attr}>#{text}</a>",o)},e.txt.linkToTextWithSymbol=function(t,n,r,i,s){var o=s.symbolTag?"<"+s.symbolTag+">"+n+"</"+s.symbolTag+">":n;r=e.txt.htmlEscape(r);var u=s.textWithSymbolTag?"<"+s.textWithSymbolTag+">"+r+"</"+s.textWithSymbolTag+">":r;return s.usernameIncludeSymbol||!n.match(e.txt.regexen.atSigns)?e.txt.linkToText(t,o+u,i,s):o+e.txt.linkToText(t,u,i,s)},e.txt.linkToHashtag=function(t,n,r){var i=n.substring(t.indices[0],t.indices[0]+1),s=e.txt.htmlEscape(t.hashtag),o=m(r.htmlAttrs||{});return o.href=r.hashtagUrlBase+s,o.title="#"+s,o["class"]=r.hashtagClass,s.charAt(0).match(e.txt.regexen.rtl_chars)&&(o["class"]+=" rtl"),r.targetBlank&&(o.target="_blank"),e.txt.linkToTextWithSymbol(t,i,s,o,r)},e.txt.linkToCashtag=function(t,n,r){var i=e.txt.htmlEscape(t.cashtag),s=m(r.htmlAttrs||{});return s.href=r.cashtagUrlBase+i,s.title="$"+i,s["class"]=r.cashtagClass,r.targetBlank&&(s.target="_blank"),e.txt.linkToTextWithSymbol(t,"$",i,s,r)},e.txt.linkToMentionAndList=function(t,n,r){var i=n.substring(t.indices[0],t.indices[0]+1),s=e.txt.htmlEscape(t.screenName),o=e.txt.htmlEscape(t.listSlug),u=t.listSlug&&!r.suppressLists,a=m(r.htmlAttrs||{});return a["class"]=u?r.listClass:r.usernameClass,a.href=u?r.listUrlBase+s+o:r.usernameUrlBase+s,!u&&!r.suppressDataScreenName&&(a["data-screen-name"]=s),r.targetBlank&&(a.target="_blank"),e.txt.linkToTextWithSymbol(t,i,u?s+o:s,a,r)},e.txt.linkToUrl=function(t,n,r){var i=t.url,s=i,o=e.txt.htmlEscape(s),u=r.urlEntities&&r.urlEntities[i]||t;u.display_url&&(o=e.txt.linkTextWithEntity(u,r));var a=m(r.htmlAttrs||{});return i.match(e.txt.regexen.urlHasProtocol)||(i="http://"+i),a.href=i,r.targetBlank&&(a.target="_blank"),r.urlClass&&(a["class"]=r.urlClass),r.urlTarget&&(a.target=r.urlTarget),!r.title&&u.display_url&&(a.title=u.expanded_url),e.txt.linkToText(t,o,a,r)},e.txt.linkTextWithEntity=function(t,n){var i=t.display_url,s=t.expanded_url,o=i.replace(/…/g,"");if(s.indexOf(o)!=-1){var u=s.indexOf(o),a={displayUrlSansEllipses:o,beforeDisplayUrl:s.substr(0,u),afterDisplayUrl:s.substr(u+o.length),precedingEllipsis:i.match(/^…/)?"…":"",followingEllipsis:i.match(/…$/)?"…":""};for(var f in a)a.hasOwnProperty(f)&&(a[f]=e.txt.htmlEscape(a[f]));return a.invisible=n.invisibleTagAttrs,r("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",a)}return i},e.txt.autoLinkEntities=function(t,n,r){r=m(r||{}),r.hashtagClass=r.hashtagClass||h,r.hashtagUrlBase=r.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",r.cashtagClass=r.cashtagClass||p,r.cashtagUrlBase=r.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",r.listClass=r.listClass||l,r.usernameClass=r.usernameClass||c,r.usernameUrlBase=r.usernameUrlBase||"https://twitter.com/",r.listUrlBase=r.listUrlBase||"https://twitter.com/",r.htmlAttrs=e.txt.extractHtmlAttrsFromOptions(r),r.invisibleTagAttrs=r.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var i,s,o;if(r.urlEntities){i={};for(s=0,o=r.urlEntities.length;s<o;s++)i[r.urlEntities[s].url]=r.urlEntities[s];r.urlEntities=i}var u="",a=0;n.sort(function(e,t){return e.indices[0]-t.indices[0]});var f=r.htmlEscapeNonEntities?e.txt.htmlEscape:function(e){return e};for(var s=0;s<n.length;s++){var d=n[s];u+=f(t.substring(a,d.indices[0])),d.url?u+=e.txt.linkToUrl(d,t,r):d.hashtag?u+=e.txt.linkToHashtag(d,t,r):d.screenName?u+=e.txt.linkToMentionAndList(d,t,r):d.cashtag&&(u+=e.txt.linkToCashtag(d,t,r)),a=d.indices[1]}return u+=f(t.substring(a,t.length)),u},e.txt.autoLinkWithJSON=function(t,n,r){if(n.user_mentions)for(var i=0;i<n.user_mentions.length;i++)n.user_mentions[i].screenName=n.user_mentions[i].screen_name;if(n.hashtags)for(var i=0;i<n.hashtags.length;i++)n.hashtags[i].hashtag=n.hashtags[i].text;if(n.symbols)for(var i=0;i<n.symbols.length;i++)n.symbols[i].cashtag=n.symbols[i].text;var s=[];for(var o in n)s=s.concat(n[o]);return e.txt.modifyIndicesFromUnicodeToUTF16(t,s),e.txt.autoLinkEntities(t,s,r)},e.txt.extractHtmlAttrsFromOptions=function(e){var t={};for(var n in e){var r=e[n];if(d[n])continue;v[n]&&(r=r?n:null);if(r==null)continue;t[n]=r}return t},e.txt.autoLink=function(t,n){var r=e.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkUsernamesOrLists=function(t,n){var r=e.txt.extractMentionsOrListsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkHashtags=function(t,n){var r=e.txt.extractHashtagsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkCashtags=function(t,n){var r=e.txt.extractCashtagsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkUrlsCustom=function(t,n){var r=e.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return e.txt.autoLinkEntities(t,r,n)},e.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});var t=e[0];for(var n=1;n<e.length;n++)t.indices[1]>e[n].indices[0]?(e.splice(n,1),n--):t=e[n]},e.txt.extractEntitiesWithIndices=function(t,n){var r=e.txt.extractUrlsWithIndices(t,n).concat(e.txt.extractMentionsOrListsWithIndices(t)).concat(e.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(e.txt.extractCashtagsWithIndices(t));return r.length==0?[]:(e.txt.removeOverlappingEntities(r),r)},e.txt.extractMentions=function(t){var n=[],r=e.txt.extractMentionsWithIndices(t);for(var i=0;i<r.length;i++){var s=r[i].screenName;n.push(s)}return n},e.txt.extractMentionsWithIndices=function(t){var n=[],r,i=e.txt.extractMentionsOrListsWithIndices(t);for(var s=0;s<i.length;s++)r=i[s],r.listSlug==""&&n.push({screenName:r.screenName,indices:r.indices});return n},e.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(e.txt.regexen.atSigns))return[];var n=[],r;return t.replace(e.txt.regexen.validMentionOrList,function(t,r,i,s,o,u,a){var f=a.slice(u+t.length);if(!f.match(e.txt.regexen.endMentionMatch)){o=o||"";var l=u+r.length,c=l+s.length+o.length+1;n.push({screenName:s,listSlug:o,indices:[l,c]})}}),n},e.txt.extractReplies=function(t){if(!t)return null;var n=t.match(e.txt.regexen.validReply);return!n||RegExp.rightContext.match(e.txt.regexen.endMentionMatch)?null:n[1]},e.txt.extractUrls=function(t,n){var r=[],i=e.txt.extractUrlsWithIndices(t,n);for(var s=0;s<i.length;s++)r.push(i[s].url);return r},e.txt.extractUrlsWithIndices=function(t,n){n||(n={extractUrlsWithoutProtocol:!0});if(!t||(n.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];var r=[];while(e.txt.regexen.extractUrl.exec(t)){var i=RegExp.$2,s=RegExp.$3,o=RegExp.$4,u=RegExp.$5,a=RegExp.$7,f=e.txt.regexen.extractUrl.lastIndex,l=f-s.length;if(!o){if(!n.extractUrlsWithoutProtocol||i.match(e.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var c=null,h=0;u.replace(e.txt.regexen.validAsciiDomain,function(t){var n=u.indexOf(t,h);h=n+t.length,c={url:t,indices:[l+n,l+h]},(a||t.match(e.txt.regexen.validSpecialShortDomain)||!t.match(e.txt.regexen.invalidShortDomain))&&r.push(c)});if(c==null)continue;a&&(c.url=s.replace(u,c.url),c.indices[1]=f)}else s.match(e.txt.regexen.validTcoUrl)&&(s=RegExp.lastMatch,f=l+s.length),r.push({url:s,indices:[l,f]})}return r},e.txt.extractHashtags=function(t){var n=[],r=e.txt.extractHashtagsWithIndices(t);for(var i=0;i<r.length;i++)n.push(r[i].hashtag);return n},e.txt.extractHashtagsWithIndices=function(t,n){n||(n={checkUrlOverlap:!0});if(!t||!t.match(e.txt.regexen.hashSigns))return[];var r=[];t.replace(e.txt.regexen.validHashtag,function(t,n,i,s,o,u){var a=u.slice(o+t.length);if(a.match(e.txt.regexen.endHashtagMatch))return;var f=o+n.length,l=f+s.length+1;r.push({hashtag:s,indices:[f,l]})});if(n.checkUrlOverlap){var i=e.txt.extractUrlsWithIndices(t);if(i.length>0){var s=r.concat(i);e.txt.removeOverlappingEntities(s),r=[];for(var o=0;o<s.length;o++)s[o].hashtag&&r.push(s[o])}}return r},e.txt.extractCashtags=function(t){var n=[],r=e.txt.extractCashtagsWithIndices(t);for(var i=0;i<r.length;i++)n.push(r[i].cashtag);return n},e.txt.extractCashtagsWithIndices=function(t){if(!t||t.indexOf("$")==-1)return[];var n=[];return t.replace(e.txt.regexen.validCashtag,function(e,t,r,i,s,o){var u=s+t.length,a=u+i.length+1;n.push({cashtag:i,indices:[u,a]})}),n},e.txt.modifyIndicesFromUnicodeToUTF16=function(t,n){e.txt.convertUnicodeIndices(t,n,!1)},e.txt.modifyIndicesFromUTF16ToUnicode=function(t,n){e.txt.convertUnicodeIndices(t,n,!0)},e.txt.getUnicodeTextLength=function(t){return t.replace(e.txt.regexen.non_bmp_code_pairs," ").length},e.txt.convertUnicodeIndices=function(e,t,n){if(t.length==0)return;var r=0,i=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});var s=0,o=t[0];while(r<e.length){if(o.indices[0]==(n?r:i)){var u=o.indices[1]-o.indices[0];o.indices[0]=n?i:r,o.indices[1]=o.indices[0]+u,s++;if(s==t.length)break;o=t[s]}var a=e.charCodeAt(r);55296<=a&&a<=56319&&r<e.length-1&&(a=e.charCodeAt(r+1),56320<=a&&a<=57343&&r++),i++,r++}},e.txt.splitTags=function(e){var t=e.split("<"),n,r=[],i;for(var s=0;s<t.length;s+=1){i=t[s];if(!i)r.push("");else{n=i.split(">");for(var o=0;o<n.length;o+=1)r.push(n[o])}}return r},e.txt.hitHighlight=function(t,n,r){var i="em";n=n||[],r=r||{};if(n.length===0)return t;var s=r.tag||i,o=["<"+s+">","</"+s+">"],u=e.txt.splitTags(t),a,f,l="",c=0,h=u[0],p=0,d=0,v=!1,m=h,g=[],y,b,w,E,S;for(a=0;a<n.length;a+=1)for(f=0;f<n[a].length;f+=1)g.push(n[a][f]);for(y=0;y<g.length;y+=1){b=g[y],w=o[y%2],E=!1;while(h!=null&&b>=p+h.length)l+=m.slice(d),v&&b===p+m.length&&(l+=w,E=!0),u[c+1]&&(l+="<"+u[c+1]+">"),p+=m.length,d=0,c+=2,h=u[c],m=h,v=!1;!E&&h!=null?(S=b-p,l+=m.slice(d,S)+w,d=S,y%2===0?v=!0:v=!1):E||(E=!0,l+=w)}if(h!=null){d<m.length&&(l+=m.slice(d));for(y=c+1;y<u.length;y+=1)l+=y%2===0?u[y]:"<"+u[y]+">"}return l};var g=140,y=[s(65534),s(65279),s(65535),s(8234),s(8235),s(8236),s(8237),s(8238)];e.txt.getTweetLength=function(t,n){n||(n={short_url_length:22,short_url_length_https:23});var r=e.txt.getUnicodeTextLength(t),i=e.txt.extractUrlsWithIndices(t);e.txt.modifyIndicesFromUTF16ToUnicode(t,i);for(var s=0;s<i.length;s++)r+=i[s].indices[0]-i[s].indices[1],i[s].url.toLowerCase().match(e.txt.regexen.urlHasHttps)?r+=n.short_url_length_https:r+=n.short_url_length;return r},e.txt.isInvalidTweet=function(t){if(!t)return"empty";if(e.txt.getTweetLength(t)>g)return"too_long";for(var n=0;n<y.length;n++)if(t.indexOf(y[n])>=0)return"invalid_characters";return!1},e.txt.isValidTweetText=function(t){return!e.txt.isInvalidTweet(t)},e.txt.isValidUsername=function(t){if(!t)return!1;var n=e.txt.extractMentions(t);return n.length===1&&n[0]===t.slice(1)};var b=n(/^#{validMentionOrList}$/);e.txt.isValidList=function(e){var t=e.match(b);return!!t&&t[1]==""&&!!t[4]},e.txt.isValidHashtag=function(t){if(!t)return!1;var n=e.txt.extractHashtags(t);return n.length===1&&n[0]===t.slice(1)},e.txt.isValidUrl=function(t,n,r){n==null&&(n=!0),r==null&&(r=!0);if(!t)return!1;var i=t.match(e.txt.regexen.validateUrlUnencoded);if(!i||i[0]!==t)return!1;var s=i[1],o=i[2],u=i[3],a=i[4],f=i[5];return(!r||w(s,e.txt.regexen.validateUrlScheme)&&s.match(/^https?$/i))&&w(u,e.txt.regexen.validateUrlPath)&&w(a,e.txt.regexen.validateUrlQuery,!0)&&w(f,e.txt.regexen.validateUrlFragment,!0)?n&&w(o,e.txt.regexen.validateUrlUnicodeAuthority)||!n&&w(o,e.txt.regexen.validateUrlAuthority):!1},typeof module!="undefined"&&module.exports&&(module.exports=e.txt),typeof define=="function"&&define.amd&&define("twitter-text",[],e.txt);if(typeof window!="undefined")if(window.twttr)for(var E in e)window.twttr[E]=e[E];else window.twttr=e}(),define("ui/embedded_tweet",["require","utils/i18n","flight/lib/component","twitter-text"],function(e){function i(){this.attributes({authorLink:".embedded-tweet-author-link",authorName:".embedded-tweet-author-name",authorProfileImage:".embedded-tweet-author-profile-image",authorScreenName:".embedded-tweet-author-screen-name",closeButton:".embedded-tweet-close-button",followButton:".embedded-tweet-follow-button",followText:".embedded-tweet-follow-text",tweetPermalink:".embedded-tweet-permalink",tweetText:".embedded-tweet-text",tweetTimestamp:".embedded-tweet-timestamp",status:null,statusTimestamp:null,user:null,videoInfo:null}),this.getStatusTextHtml=function(e,t){var n=r.autoLinkWithJSON(e,t,{textWithSymbolTag:"b",usernameIncludeSymbol:!0}),i=$("<div></div>");i.html(n);var s=i.contents().last();return s.is("a")&&s.prop("href")===this.attr.videoInfo.cardUrl&&s.css({position:"absolute",left:"-9999px"}),i.html()},this.render=function(){var e=this.attr.status,n=this.attr.statusTimestamp,r=this.attr.user;this.followIntentUrl="https://twitter.com/intent/follow?screen_name="+r.screen_name,this.select("authorLink").attr("href","https://twitter.com/"+r.screen_name),this.select("authorName").text(r.name),this.select("authorProfileImage").attr("src",r.profile_image_url),this.select("authorScreenName").text("@"+r.screen_name),this.select("followButton").attr("href",this.followIntentUrl),this.select("followText").text(t("Follow")),this.select("tweetPermalink").attr("href","https://twitter.com/"+r.screen_name+"/status/"+e.id_str),this.select("tweetText").html(this.getStatusTextHtml(e.text,e.entities)),this.select("tweetTimestamp").text(n.local),this.$node.addClass("embedded-tweet-loaded")},this.show=function(){this.$node.hasClass("embedded-tweet-visible")||(this.$node.addClass("embedded-tweet-visible"),this.trigger("dataShowEmbeddedTweet"))},this.hide=function(){this.$node.hasClass("embedded-tweet-visible")&&(this.$node.removeClass("embedded-tweet-visible"),this.trigger("dataHideEmbeddedTweet"))},this.onHidePoster=function(){this.$node.addClass("bg-play-pause")},this.onClickFollowButton=function(e){this.trigger("uiWebIntent",{url:this.followIntentUrl}),e.preventDefault()},this.after("initialize",function(){this.on("click",{closeButton:this.hide,followButton:this.onClickFollowButton}),this.on(document,"uiHideEmbeddedTweet dataPlay dataReplay",this.hide),this.on(document,"uiShowEmbeddedTweet",this.show),this.on(document,"dataHidePoster",this.onHidePoster),this.render()})}var t=e("utils/i18n"),n=e("flight/lib/component"),r=e("twitter-text");return n(i)}),define("ui/with_poster_image_loader",["require","utils/utils"],function(e){var t=e("utils/utils");return function(){this.attributes({imageContainerSelector:".poster-image",imageSelector:".poster-image img",posterImageUrl:"https://pbs.twimg.com/cards/player-placeholder.png"}),this.loadPosterImage=function(){var e=new Image;$(e).on("load",this.imageLoaded.bind(this,e)),e.src=this.attr.posterImageUrl},this.imageLoaded=function(e){this.sizePoster(e),this.select("imageContainerSelector")[0].appendChild(e)},this.handleResize=function(){var e=this.select("imageSelector");if(e.length!==1)return;this.sizePoster(e[0])},this.sizePoster=function(e){var n=this.$node.width(),r=this.$node.height(),i=t.scaleToContainer(n,r,e.width,e.height);e.width=i.width,e.height=i.height,$(e).css({top:r/2-i.height/2,left:n/2-i.width/2})},this.after("initialize",function(){this.on(window,"resize",this.handleResize)})}}),define("ui/error_message",["require","utils/i18n","flight/lib/component","ui/with_poster_image_loader"],function(e){function i(){this.attributes({msgSelector:".error-msg"}),this.playbackError=function(){var e=t("The media could not be played.");this.error(e)},this.flashNotInstalled=function(){var e=t("<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>");this.error(e),this.$node.addClass("flash-msg-container")},this.environmentError=function(){var e=t("Playback is not supported on this device.");this.error(e)},this.error=function(e){this.loadPosterImage(),this.select("msgSelector").html(e),this.$node.css("display","table")},this.after("initialize",function(){this.on(document,"dataPlaybackError",this.playbackError),this.on(document,"dataEnvironmentError",this.environmentError),this.on(document,"dataFlashNotInstalledError",this.flashNotInstalled)})}var t=e("utils/i18n"),n=e("flight/lib/component"),r=e("ui/with_poster_image_loader");return n(i,r)}),define("data/flagpoles",["require","flight/lib/component"],function(e){function n(){this.flagpoles=[{progress:0,event:"dataStart"},{progress:.25,event:"dataFirstQuartile"},{progress:.5,event:"dataMidpoint"},{progress:.75,event:"dataThirdQuartile"},{progress:.95,event:"dataPercentile95"},{progress:1,event:"dataComplete"}],this.checkFlagpole=function(e,t,n){!e.fired&&this.nearFlagpole(e,t,n)&&(this.trigger(e.event),e.fired=!0)},this.checkAllFlagpoles=function(e,t){this.flagpoles.forEach(function(n){this.checkFlagpole(n,e,t)},this)},this.nearFlagpole=function(e,t,n){var r=e.progress*t,i=1,s=r-i,o=r+i;return n>=s&&n<=o},this.reset=function(){this.flagpoles.forEach(function(e){delete e.fired})},this.timeUpdate=function(e,t){t.paused||this.checkAllFlagpoles(t.duration,t.currentTime)},this.trackStart=function(){this.reset()},this.after("initialize",function(){this.on(document,"dataTimeUpdate",this.timeUpdate),this.on(document,"dataReplay dataTrackStart",this.trackStart)})}var t=e("flight/lib/component");return t(n)}),function(){function m(){return function(){}}function n(e){return function(){return this[e]}}function r(e){return function(){return e}}function t(e,n,r){if("string"==typeof e){0===e.indexOf("#")&&(e=e.slice(1));if(t.Fa[e])return t.Fa[e];e=t.w(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new t.Player(e,n,r)}function u(e,n,r,i){t.nc.forEach(r,function(t){e(n,t,i)})}function D(e,n){var r,i;r=Array.prototype.slice.call(n),i=m(),i=window.console||{log:i,warn:i,error:i},e?r.unshift(e.toUpperCase()+":"):e="log",t.log.history.push(r),r.unshift("VIDEOJS:"),i[e].apply?i[e].apply(i,r):i[e](r.join(" "))}function E(e){e.r("vjs-lock-showing")}function F(e,n,r,i){if(r!==b){if(r===k||t.Pd(r))r=0;return e.b.style[n]=-1!==(""+r).indexOf("%")||-1!==(""+r).indexOf("px")?r:"auto"===r?"":r+"px",i||e.l("resize"),e}return e.b?(r=e.b.style[n],i=r.indexOf("px"),-1!==i?parseInt(r.slice(0,i),10):parseInt(e.b["offset"+t.ba(n)],10)):0}function G(e){var t,n,r,i,s,o,u,a;t=0,n=k,e.c("touchstart",function(e){1===e.touches.length&&(n=e.touches[0],t=(new Date).getTime(),i=f)}),e.c("touchmove",function(e){1<e.touches.length?i=l:n&&(o=e.touches[0].pageX-n.pageX,u=e.touches[0].pageY-n.pageY,a=Math.sqrt(o*o+u*u),22<a&&(i=l))}),s=function(){i=l},e.c("touchleave",s),e.c("touchcancel",s),e.c("touchend",function(e){n=k,i===f&&(r=(new Date).getTime()-t,250>r&&(e.preventDefault(),this.l("tap")))})}function H(e,n){var r,i,s,o;return r=e.b,i=t.Hd(r),o=s=r.offsetWidth,r=e.handle,e.options().vertical?(o=i.top,i=n.changedTouches?n.changedTouches[0].pageY:n.pageY,r&&(r=r.w().offsetHeight,o+=r/2,s-=r),Math.max(0,Math.min(1,(o-i+s)/s))):(s=i.left,i=n.changedTouches?n.changedTouches[0].pageX:n.pageX,r&&(r=r.w().offsetWidth,s+=r/2,o-=r),Math.max(0,Math.min(1,(i-s)/o)))}function ca(e,n){e.U(n),n.c("click",t.bind(e,function(){E(this)}))}function J(e){e.wa=f,e.Da.n("vjs-lock-showing"),e.b.setAttribute("aria-pressed",f),e.P&&0<e.P.length&&e.P[0].w().focus()}function I(e){e.wa=l,E(e.Da),e.b.setAttribute("aria-pressed",l)}function da(e){var n,r,i={sources:[],tracks:[]};n=t.Ca(e),r=n["data-setup"],r!==k&&t.h.z(n,t.JSON.parse(r||"{}")),t.h.z(i,n);if(e.hasChildNodes()){var s,o;e=e.childNodes,s=0;for(o=e.length;s<o;s++)n=e[s],r=n.nodeName.toLowerCase(),"source"===r?i.sources.push(t.Ca(n)):"track"===r&&i.tracks.push(t.Ca(n))}return i}function Q(e,n,r){e.o&&(e.oa=l,e.o.dispose(),e.o=l),"Html5"!==n&&e.I&&(t.g.Cb(e.I),e.I=k),e.Ia=n,e.oa=l;var i=t.h.z({source:r,parentEl:e.b},e.m[n.toLowerCase()]);r&&(e.vc=r.type,r.src==e.F.src&&0<e.F.currentTime&&(i.startTime=e.F.currentTime),e.F.src=r.src),e.o=new window.videojs[n](e,i),e.o.H(function(){this.d.Ka()})}function R(e,t){t!==b&&e.Dc!==t&&((e.Dc=t)?(e.n("vjs-has-started"),e.l("firstplay")):e.r("vjs-has-started"))}function T(e,n,r){if(e.o&&!e.o.oa)e.o.H(function(){this[n](r)});else try{e.o[n](r)}catch(i){throw t.log(i),i}}function S(e,n){if(e.o&&e.o.oa)try{return e.o[n]()}catch(r){throw e.o[n]===b?t.log("Video.js: "+n+" method not defined for "+e.Ia+" playback technology.",r):"TypeError"==r.name?(t.log("Video.js: "+n+" unavailable on "+e.Ia+" playback technology element.",r),e.o.oa=l):t.log(r),r}}function U(e,t){var n=e.selectSource(t);n?n.o===e.Ia?e.src(n.source):Q(e,n.o,n.source):(e.setTimeout(function(){this.error({code:4,message:this.t(this.options().notSupportedMessage)})},0),e.Ka())}function P(e,t){return t!==b?(e.Fc=!!t,e):e.Fc}function ea(e){return e.j().o&&e.j().o.featuresPlaybackRate&&e.j().options().playbackRates&&0<e.j().options().playbackRates.length}function fa(e){e.Ob=l,e.hb(),e.k("play",e.$c),e.k("pause",e.hb)}function ia(){var e=W[X],t=e.charAt(0).toUpperCase()+e.slice(1);ka["set"+t]=function(t){return this.b.vjs_setProperty(e,t)}}function la(e){ka[e]=function(){return this.b.vjs_getProperty(e)}}function na(e,n,r,i,s){var o=e.Ja=e.Ja||[];s=s||{},s.kind=n,s.label=r,s.language=i,n=t.ba(n||"subtitles");var u=new window.videojs[n+"Track"](e,s);o.push(u),u.Bb()&&e.H(function(){this.setTimeout(function(){Y(u.j(),u.id())},0)})}function Y(e,t,n){for(var r=e.Ja,i=0,s=r.length,o,u;i<s;i++)o=r[i],o.id()===t?(o.show(),u=o):n&&o.M()==n&&0<o.mode()&&o.disable();(t=u?u.M():n?n:l)&&e.l(t+"trackchange")}function oa(e){0===e.ra&&e.load(),0===e.pa&&(e.d.c("timeupdate",t.bind(e,e.update,e.K)),e.d.c("ended",t.bind(e,e.reset,e.K)),("captions"===e.G||"subtitles"===e.G)&&e.d.na("textTrackDisplay").U(e))}function pa(e){var t=e.split(":");e=0;var n,r,i;return 3==t.length?(n=t[0],r=t[1],t=t[2]):(n=0,r=t[0],t=t[1]),t=t.split(/\s+/),t=t.splice(0,1)[0],t=t.split(/\.|,/),i=parseFloat(t[1]),t=t[0],e+=3600*parseFloat(n),e+=60*parseFloat(r),e+=parseFloat(t),i&&(e+=i/1e3),e}function $(e,t){var n=e.split("."),r=qa;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)!n.length&&t!==b?r[i]=t:r=r[i]?r[i]:r[i]={}}var b=void 0,f=!0,k=null,l=!1,s;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=window.videojs=t;t.Zb="4.11",t.ed="https:"==document.location.protocol?"https://":"http://",t.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.Ke||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==t.Zb&&(videojs.options.flash.swf=t.ed+"vjs.zencdn.net/"+t.Zb+"/video-js.swf"),t.sd=function(e,n){return t.options.languages[e]=t.options.languages[e]!==b?t.Z.Ea(t.options.languages[e],n):n,t.options.languages},t.Fa={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),t.ua=t.CoreObject=m(),t.ua.extend=function(e){var n,r;e=e||{},n=e.init||e.i||this.prototype.init||this.prototype.i||m(),r=function(){n.apply(this,arguments)},r.prototype=t.h.create(this.prototype),r.prototype.constructor=r,r.extend=t.ua.extend,r.create=t.ua.create;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);return r},t.ua.create=function(){var e=t.h.create(this.prototype);return this.apply(e,arguments),e},t.c=function(e,n,r){if(t.h.isArray(n))return u(t.c,e,n,r);var i=t.getData(e);i.C||(i.C={}),i.C[n]||(i.C[n]=[]),r.p||(r.p=t.p++),i.C[n].push(r),i.W||(i.disabled=l,i.W=function(n){if(!i.disabled){n=t.Ac(n);var r=i.C[n.type];if(r)for(var r=r.slice(0),s=0,o=r.length;s<o&&!n.Hc();s++)r[s].call(e,n)}}),1==i.C[n].length&&(e.addEventListener?e.addEventListener(n,i.W,l):e.attachEvent&&e.attachEvent("on"+n,i.W))},t.k=function(e,n,r){if(t.Cc(e)){var i=t.getData(e);if(i.C){if(t.h.isArray(n))return u(t.k,e,n,r);if(n){var s=i.C[n];if(s){if(r){if(r.p)for(i=0;i<s.length;i++)s[i].p===r.p&&s.splice(i--,1)}else i.C[n]=[];t.qc(e,n)}}else for(s in i.C)n=s,i.C[n]=[],t.qc(e,n)}}},t.qc=function(e,n){var r=t.getData(e);0===r.C[n].length&&(delete r.C[n],e.removeEventListener?e.removeEventListener(n,r.W,l):e.detachEvent&&e.detachEvent("on"+n,r.W)),t.Lb(r.C)&&(delete r.C,delete r.W,delete r.disabled),t.Lb(r)&&t.Qc(e)},t.Ac=function(e){function t(){return f}function n(){return l}if(!e||!e.Mb){var r=e||window.event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&("returnValue"==i&&r.preventDefault||(e[i]=r[i]));e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=l,e.Nd=t,e.defaultPrevented=f},e.Nd=n,e.defaultPrevented=l,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=f,e.Mb=t},e.Mb=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.Hc=t,e.stopPropagation()},e.Hc=n;if(e.clientX!=k){i=document.documentElement;var s=document.body;e.pageX=e.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!=k&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e},t.l=function(e,n){var r=t.Cc(e)?t.getData(e):{},i=e.parentNode||e.ownerDocument;return"string"==typeof n&&(n={type:n,target:e}),n=t.Ac(n),r.W&&r.W.call(e,n),i&&!n.Mb()&&n.bubbles!==l?t.l(i,n):!i&&!n.defaultPrevented&&(r=t.getData(n.target),n.target[n.type])&&(r.disabled=f,"function"==typeof n.target[n.type]&&n.target[n.type](),r.disabled=l),!n.defaultPrevented},t.Q=function(e,n,r){function i(){t.k(e,n,i),r.apply(this,arguments)}if(t.h.isArray(n))return u(t.Q,e,n,r);i.p=r.p=r.p||t.p++,t.c(e,n,i)};var v=Object.prototype.hasOwnProperty;t.e=function(e,n){var r;return n=n||{},r=document.createElement(e||"div"),t.h.X(n,function(e,t){-1!==e.indexOf("aria-")||"role"==e?r.setAttribute(e,t):r[e]=t}),r},t.ba=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.h={},t.h.create=Object.create||function(e){function t(){}return t.prototype=e,new t},t.h.X=function(e,t,n){for(var r in e)v.call(e,r)&&t.call(n||this,r,e[r])},t.h.z=function(e,t){if(!t)return e;for(var n in t)v.call(t,n)&&(e[n]=t[n]);return e},t.h.Ad=function(e,n){var r,i,s;e=t.h.copy(e);for(r in n)v.call(n,r)&&(i=e[r],s=n[r],e[r]=t.h.Ya(i)&&t.h.Ya(s)?t.h.Ad(i,s):n[r]);return e},t.h.copy=function(e){return t.h.z({},e)},t.h.Ya=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},t.h.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.Pd=function(e){return e!==e},t.bind=function(e,n,r){function i(){return n.apply(e,arguments)}return n.p||(n.p=t.p++),i.p=r?r+"_"+n.p:n.p,i},t.xa={},t.p=1,t.expando="vdata"+(new Date).getTime(),t.getData=function(e){var n=e[t.expando];return n||(n=e[t.expando]=t.p++,t.xa[n]={}),t.xa[n]},t.Cc=function(e){return e=e[t.expando],!!e&&!t.Lb(t.xa[e])},t.Qc=function(e){var n=e[t.expando];if(n){delete t.xa[n];try{delete e[t.expando]}catch(r){e.removeAttribute?e.removeAttribute(t.expando):e[t.expando]=k}}},t.Lb=function(e){for(var t in e)if(e[t]!==k)return l;return f},t.Xa=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},t.n=function(e,n){t.Xa(e,n)||(e.className=""===e.className?n:e.className+" "+n)},t.r=function(e,n){var r,i;if(t.Xa(e,n)){r=e.className.split(" ");for(i=r.length-1;0<=i;i--)r[i]===n&&r.splice(i,1);e.className=r.join(" ")}},t.A=t.e("video"),t.N=navigator.userAgent,t.md=/iPhone/i.test(t.N),t.ld=/iPad/i.test(t.N),t.nd=/iPod/i.test(t.N),t.kd=t.md||t.ld||t.nd;var aa=t,x,y=t.N.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b,aa.Ae=x,t.hd=/Android/i.test(t.N);var ba=t,z,A=t.N.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B?B:k):z=k,ba.Yb=z,t.od=t.hd&&/webkit/i.test(t.N)&&2.3>t.Yb,t.jd=/Firefox/i.test(t.N),t.Be=/Chrome/i.test(t.N),t.jc=!!("ontouchstart"in window||window.gd&&document instanceof window.gd),t.fd="backgroundSize"in t.A.style,t.Tc=function(e,n){t.h.X(n,function(t,n){n===k||"undefined"==typeof n||n===l?e.removeAttribute(t):e.setAttribute(t,n===f?"":n)})},t.Ca=function(e){var t,n,r,i;t={};if(e&&e.attributes&&0<e.attributes.length){n=e.attributes;for(var s=n.length-1;0<=s;s--){r=n[s].name,i=n[s].value;if("boolean"==typeof e[r]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+r+","))i=i!==k?f:l;t[r]=i}}return t},t.He=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},t.Kb=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},t.Sa={},t.w=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},t.Ba=function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);if(isNaN(e)||Infinity===e)i=r=n="-";return i=0<i||0<o?i+":":"",i+(((i||10<=s)&&10>r?"0"+r:r)+":")+(10>n?"0"+n:n)},t.ud=function(){document.body.focus(),document.onselectstart=r(l)},t.ve=function(){document.onselectstart=r(f)},t.trim=function(e){return(e+"").replace(/^\s+|\s+$/g,"")},t.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},t.Ab=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},t.je=function(e){try{var n=window.localStorage||l;n&&(n.volume=e)}catch(r){22==r.code||1014==r.code?t.log("LocalStorage Full (VideoJS)",r):18==r.code?t.log("LocalStorage not allowed (VideoJS)",r):t.log("LocalStorage Error (VideoJS)",r)}},t.Jd=function(e){return e.match(/^https?:\/\//)||(e=t.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},t.fe=function(e){var n,r,i,s;s="protocol hostname port pathname search hash host".split(" "),r=t.e("a",{href:e});if(i=""===r.host&&"file:"!==r.protocol)n=t.e("div"),n.innerHTML='<a href="'+e+'"></a>',r=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(n);e={};for(var o=0;o<s.length;o++)e[s[o]]=r[s[o]];return i&&document.body.removeChild(n),e},t.log=function(){D(k,arguments)},t.log.history=[],t.log.error=function(){D("error",arguments)},t.log.warn=function(){D("warn",arguments)},t.Hd=function(e){var n,r;return e.getBoundingClientRect&&e.parentNode&&(n=e.getBoundingClientRect()),n?(e=document.documentElement,r=document.body,{left:t.round(n.left+(window.pageXOffset||r.scrollLeft)-(e.clientLeft||r.clientLeft||0)),top:t.round(n.top+(window.pageYOffset||r.scrollTop)-(e.clientTop||r.clientTop||0))}):{left:0,top:0}},t.nc={},t.nc.forEach=function(e,n,r){if(t.h.isArray(e)&&n instanceof Function)for(var i=0,s=e.length;i<s;++i)n.call(r||t,e[i],i,e);return e},t.ye=function(e,n){var r,i,s,o,u,a,l;"string"==typeof e&&(e={uri:e}),videojs.Z.Ea({method:"GET",timeout:45e3},e),n=n||m(),a=function(){window.clearTimeout(u),n(k,i,i.response||i.responseText)},l=function(e){window.clearTimeout(u);if(!e||"string"==typeof e)e=Error(e);n(e,i)},r=window.XMLHttpRequest,"undefined"==typeof r&&(r=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")}),i=new r,i.uri=e.uri,r=t.fe(e.uri),s=window.location,r.protocol+r.host===s.protocol+s.host||!window.XDomainRequest||"withCredentials"in i?(o="file:"==r.protocol||"file:"==s.protocol,i.onreadystatechange=function(){if(4===i.readyState){if(i.te)return l("timeout");200===i.status||o&&0===i.status?a():l()}},e.timeout&&(u=window.setTimeout(function(){4!==i.readyState&&(i.te=f,i.abort())},e.timeout))):(i=new window.XDomainRequest,i.onload=a,i.onerror=l,i.onprogress=m(),i.ontimeout=m());try{i.open(e.method||"GET",e.uri,f)}catch(c){l(c);return}e.withCredentials&&(i.withCredentials=f),e.responseType&&(i.responseType=e.responseType);try{i.send()}catch(h){l(h)}},t.Z={},t.Z.Ea=function(e,n){var r,i,s;e=t.h.copy(e);for(r in n)n.hasOwnProperty(r)&&(i=e[r],s=n[r],e[r]=t.h.Ya(i)&&t.h.Ya(s)?t.Z.Ea(i,s):n[r]);return e},t.a=t.ua.extend({i:function(e,n,r){this.d=e,this.m=t.h.copy(this.m),n=this.options(n),this.K=n.id||n.el&&n.el.id,this.K||(this.K=(e.id&&e.id()||"no_player")+"_component_"+t.p++),this.Vd=n.name||k,this.b=n.el||this.e(),this.O=[],this.Ua={},this.Va={},this.Ec(),this.H(r);if(n.Rc!==l){var i,s;this.j().reportUserActivity&&(i=t.bind(this.j(),this.j().reportUserActivity),this.c("touchstart",function(){i(),this.clearInterval(s),s=this.setInterval(i,250)}),e=function(){i(),this.clearInterval(s)},this.c("touchmove",i),this.c("touchend",e),this.c("touchcancel",e))}}}),s=t.a.prototype,s.dispose=function(){this.l({type:"dispose",bubbles:l});if(this.O)for(var e=this.O.length-1;0<=e;e--)this.O[e].dispose&&this.O[e].dispose();this.Va=this.Ua=this.O=k,this.k(),this.b.parentNode&&this.b.parentNode.removeChild(this.b),t.Qc(this.b),this.b=k},s.d=f,s.j=n("d"),s.options=function(e){return e===b?this.m:this.m=t.Z.Ea(this.m,e)},s.e=function(e,n){return t.e(e,n)},s.t=function(e){var t=this.d.language(),n=this.d.languages();return n&&n[t]&&n[t][e]?n[t][e]:e},s.w=n("b"),s.ma=function(){return this.v||this.b},s.id=n("K"),s.name=n("Vd"),s.children=n("O"),s.Kd=function(e){return this.Ua[e]},s.na=function(e){return this.Va[e]},s.U=function(e,n){var r,i;return"string"==typeof e?(i=e,n=n||{},r=n.componentClass||t.ba(i),n.name=i,r=new window.videojs[r](this.d||this,n)):r=e,this.O.push(r),"function"==typeof r.id&&(this.Ua[r.id()]=r),(i=i||r.name&&r.name())&&(this.Va[i]=r),"function"==typeof r.el&&r.el()&&this.ma().appendChild(r.el()),r},s.removeChild=function(e){"string"==typeof e&&(e=this.na(e));if(e&&this.O){for(var t=l,n=this.O.length-1;0<=n;n--)if(this.O[n]===e){t=f,this.O.splice(n,1);break}t&&(this.Ua[e.id]=k,this.Va[e.name]=k,(t=e.w())&&t.parentNode===this.ma()&&this.ma().removeChild(e.w()))}},s.Ec=function(){var e,n,r,i,s,o;e=this,n=e.options();if(r=n.children)if(o=function(t,r){n[t]!==b&&(r=n[t]),r!==l&&(e[t]=e.U(t,r))},t.h.isArray(r))for(var u=0;u<r.length;u++)i=r[u],"string"==typeof i?(s=i,i={}):s=i.name,o(s,i);else t.h.X(r,o)},s.S=r(""),s.c=function(e,n,r){var i,s,o;return"string"==typeof e||t.h.isArray(e)?t.c(this.b,e,t.bind(this,n)):(i=t.bind(this,r),o=this,s=function(){o.k(e,n,i)},s.p=i.p,this.c("dispose",s),r=function(){o.k("dispose",s)},r.p=i.p,e.nodeName?(t.c(e,n,i),t.c(e,"dispose",r)):"function"==typeof e.c&&(e.c(n,i),e.c("dispose",r))),this},s.k=function(e,n,r){return!e||"string"==typeof e||t.h.isArray(e)?t.k(this.b,e,n):(r=t.bind(this,r),this.k("dispose",r),e.nodeName?(t.k(e,n,r),t.k(e,"dispose",r)):(e.k(n,r),e.k("dispose",r))),this},s.Q=function(e,n,r){var i,s,o;return"string"==typeof e||t.h.isArray(e)?t.Q(this.b,e,t.bind(this,n)):(i=t.bind(this,r),s=this,o=function(){s.k(e,n,o),i.apply(this,arguments)},o.p=i.p,this.c(e,n,o)),this},s.l=function(e){return t.l(this.b,e),this},s.H=function(e){return e&&(this.oa?e.call(this):(this.eb===b&&(this.eb=[]),this.eb.push(e))),this},s.Ka=function(){this.oa=f;var e=this.eb;if(e&&0<e.length){for(var t=0,n=e.length;t<n;t++)e[t].call(this);this.eb=[],this.l("ready")}},s.Xa=function(e){return t.Xa(this.b,e)},s.n=function(e){return t.n(this.b,e),this},s.r=function(e){return t.r(this.b,e),this},s.show=function(){return this.b.style.display="block",this},s.Y=function(){return this.b.style.display="none",this},s.disable=function(){this.Y(),this.show=m()},s.width=function(e,t){return F(this,"width",e,t)},s.height=function(e,t){return F(this,"height",e,t)},s.Dd=function(e,t){return this.width(e,f).height(t)},s.setTimeout=function(e,n){function r(){this.clearTimeout(i)}e=t.bind(this,e);var i=setTimeout(e,n);return r.p="vjs-timeout-"+i,this.c("dispose",r),i},s.clearTimeout=function(e){function t(){}return clearTimeout(e),t.p="vjs-timeout-"+e,this.k("dispose",t),e},s.setInterval=function(e,n){function r(){this.clearInterval(i)}e=t.bind(this,e);var i=setInterval(e,n);return r.p="vjs-interval-"+i,this.c("dispose",r),i},s.clearInterval=function(e){function t(){}return clearInterval(e),t.p="vjs-interval-"+e,this.k("dispose",t),e},t.u=t.a.extend({i:function(e,n){t.a.call(this,e,n),G(this),this.c("tap",this.s),this.c("click",this.s),this.c("focus",this.bb),this.c("blur",this.ab)}}),s=t.u.prototype,s.e=function(e,n){var r;return n=t.h.z({className:this.S(),role:"button","aria-live":"polite",tabIndex:0},n),r=t.a.prototype.e.call(this,e,n),n.innerHTML||(this.v=t.e("div",{className:"vjs-control-content"}),this.yb=t.e("span",{className:"vjs-control-text",innerHTML:this.t(this.la)||"Need Text"}),this.v.appendChild(this.yb),r.appendChild(this.v)),r},s.S=function(){return"vjs-control "+t.a.prototype.S.call(this)},s.s=m(),s.bb=function(){t.c(document,"keydown",t.bind(this,this.ea))},s.ea=function(e){if(32==e.which||13==e.which)e.preventDefault(),this.s()},s.ab=function(){t.k(document,"keydown",t.bind(this,this.ea))},t.R=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.td=this.na(this.m.barName),this.handle=this.na(this.m.handleName),this.c("mousedown",this.cb),this.c("touchstart",this.cb),this.c("focus",this.bb),this.c("blur",this.ab),this.c("click",this.s),this.c(e,"controlsvisible",this.update),this.c(e,this.Mc,this.update)}}),s=t.R.prototype,s.e=function(e,n){return n=n||{},n.className+=" vjs-slider",n=t.h.z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.a.prototype.e.call(this,e,n)},s.cb=function(e){e.preventDefault(),t.ud(),this.n("vjs-sliding"),this.c(document,"mousemove",this.fa),this.c(document,"mouseup",this.qa),this.c(document,"touchmove",this.fa),this.c(document,"touchend",this.qa),this.fa(e)},s.fa=m(),s.qa=function(){t.ve(),this.r("vjs-sliding"),this.k(document,"mousemove",this.fa),this.k(document,"mouseup",this.qa),this.k(document,"touchmove",this.fa),this.k(document,"touchend",this.qa),this.update()},s.update=function(){if(this.b){var e,n=this.Ib(),r=this.handle,i=this.td;isNaN(n)&&(n=0),e=n;if(r){e=this.b.offsetWidth;var s=r.w().offsetWidth;e=s?s/e:0,n*=1-e,e=n+e/2,r.w().style.left=t.round(100*n,2)+"%"}i&&(i.w().style.width=t.round(100*e,2)+"%")}},s.bb=function(){this.c(document,"keydown",this.ea)},s.ea=function(e){if(37==e.which||40==e.which)e.preventDefault(),this.Xc();else if(38==e.which||39==e.which)e.preventDefault(),this.Yc()},s.ab=function(){this.k(document,"keydown",this.ea)},s.s=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.$=t.a.extend(),t.$.prototype.defaultValue=0,t.$.prototype.e=function(e,n){return n=n||{},n.className+=" vjs-slider-handle",n=t.h.z({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},n),t.a.prototype.e.call(this,"div",n)},t.ja=t.a.extend(),t.ja.prototype.e=function(){var e=this.options().sc||"ul";return this.v=t.e(e,{className:"vjs-menu-content"}),e=t.a.prototype.e.call(this,"div",{append:this.v,className:"vjs-menu"}),e.appendChild(this.v),t.c(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},t.J=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.selected(n.selected)}}),t.J.prototype.e=function(e,n){return t.u.prototype.e.call(this,"li",t.h.z({className:"vjs-menu-item",innerHTML:this.t(this.m.label)},n))},t.J.prototype.s=function(){this.selected(f)},t.J.prototype.selected=function(e){e?(this.n("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.r("vjs-selected"),this.b.setAttribute("aria-selected",l))},t.L=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.Da=this.za(),this.U(this.Da),this.P&&0===this.P.length&&this.Y(),this.c("keydown",this.ea),this.b.setAttribute("aria-haspopup",f),this.b.setAttribute("role","button")}}),s=t.L.prototype,s.wa=l,s.za=function(){var e=new t.ja(this.d);this.options().title&&e.ma().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.options().title),re:-1}));if(this.P=this.createItems())for(var n=0;n<this.P.length;n++)ca(e,this.P[n]);return e},s.ya=m(),s.S=function(){return this.className+" vjs-menu-button "+t.u.prototype.S.call(this)},s.bb=m(),s.ab=m(),s.s=function(){this.Q("mouseout",t.bind(this,function(){E(this.Da),this.b.blur()})),this.wa?I(this):J(this)},s.ea=function(e){32==e.which||13==e.which?(this.wa?I(this):J(this),e.preventDefault()):27==e.which&&(this.wa&&I(this),e.preventDefault())},t.D=function(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&t.h.z(this,e),this.message||(this.message=t.D.Bd[this.code]||"")},t.D.prototype.code=0,t.D.prototype.message="",t.D.prototype.status=k,t.D.Wa="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" "),t.D.Bd={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var K=0;K<t.D.Wa.length;K++)t.D[t.D.Wa[K]]=K,t.D.prototype[t.D.Wa[K]]=K;var L,M,N,O;L=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],M=L[0];for(O=0;O<L.length;O++)if(L[O][1]in document){N=L[O];break}if(N){t.Sa.Hb={};for(O=0;O<N.length;O++)t.Sa.Hb[M[O]]=N[O]}t.Player=t.a.extend({i:function(e,n,r){this.I=e,e.id=e.id||"vjs_video_"+t.p++,this.se=e&&t.Ca(e),n=t.h.z(da(e),n),this.Za=n.language||t.options.language,this.Td=n.languages||t.options.languages,this.F={},this.Nc=n.poster||"",this.zb=!!n.controls,e.controls=l,n.Rc=l,P(this,"audio"===this.I.nodeName.toLowerCase()),t.a.call(this,this,n,r),this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled"),P(this)&&this.n("vjs-audio"),t.Fa[this.K]=this,n.plugins&&t.h.X(n.plugins,function(e,t){this[e](t)},this);var i,s,o,u,a;i=t.bind(this,this.reportUserActivity),this.c("mousedown",function(){i(),this.clearInterval(s),s=this.setInterval(i,250)}),this.c("mousemove",function(e){if(e.screenX!=u||e.screenY!=a)u=e.screenX,a=e.screenY,i()}),this.c("mouseup",function(){i(),this.clearInterval(s)}),this.c("keydown",i),this.c("keyup",i),this.setInterval(function(){if(this.ta){this.ta=l,this.userActive(f),this.clearTimeout(o);var e=this.options().inactivityTimeout;0<e&&(o=this.setTimeout(function(){this.ta||this.userActive(l)},e))}},250)}}),s=t.Player.prototype,s.language=function(e){return e===b?this.Za:(this.Za=e,this)},s.languages=n("Td"),s.m=t.options,s.dispose=function(){this.l("dispose"),this.k("dispose"),t.Fa[this.K]=k,this.I&&this.I.player&&(this.I.player=k),this.b&&this.b.player&&(this.b.player=k),this.o&&this.o.dispose(),t.a.prototype.dispose.call(this)},s.e=function(){var e=this.b=t.a.prototype.e.call(this,"div"),n=this.I,r;n.removeAttribute("width"),n.removeAttribute("height");if(n.hasChildNodes()){var i,s,o,u,a;i=n.childNodes,s=i.length;for(a=[];s--;)o=i[s],u=o.nodeName.toLowerCase(),"track"===u&&a.push(o);for(i=0;i<a.length;i++)n.removeChild(a[i])}return r=t.Ca(n),t.h.X(r,function(t){"class"==t?e.className=r[t]:e.setAttribute(t,r[t])}),n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.n("vjs-paused"),this.width(this.m.width,f),this.height(this.m.height,f),n.Md=n.networkState,n.parentNode&&n.parentNode.insertBefore(e,n),t.Kb(n,e),this.b=e,this.c("loadstart",this.Zd),this.c("waiting",this.ee),this.c(["canplay","canplaythrough","playing","ended"],this.de),this.c("seeking",this.be),this.c("seeked",this.ae),this.c("ended",this.Wd),this.c("play",this.Qb),this.c("firstplay",this.Xd),this.c("pause",this.Pb),this.c("progress",this.$d),this.c("durationchange",this.Kc),this.c("fullscreenchange",this.Yd),e},s.Zd=function(){this.error(k),this.paused()?(R(this,l),this.Q("play",function(){R(this,f)})):this.l("firstplay")},s.Dc=l,s.Qb=function(){this.r("vjs-paused"),this.n("vjs-playing")},s.ee=function(){this.n("vjs-waiting")},s.de=function(){this.r("vjs-waiting")},s.be=function(){this.n("vjs-seeking")},s.ae=function(){this.r("vjs-seeking")},s.Xd=function(){this.m.starttime&&this.currentTime(this.m.starttime),this.n("vjs-has-started")},s.Pb=function(){this.r("vjs-playing"),this.n("vjs-paused")},s.$d=function(){1==this.bufferedPercent()&&this.l("loadedalldata")},s.Wd=function(){this.m.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},s.Kc=function(){var e=S(this,"duration");e&&(0>e&&(e=Infinity),this.duration(e),Infinity===e?this.n("vjs-live"):this.r("vjs-live"))},s.Yd=function(){this.isFullscreen()?this.n("vjs-fullscreen"):this.r("vjs-fullscreen")},s.play=function(){return T(this,"play"),this},s.pause=function(){return T(this,"pause"),this},s.paused=function(){return S(this,"paused")===l?l:f},s.currentTime=function(e){return e!==b?(T(this,"setCurrentTime",e),this):this.F.currentTime=S(this,"currentTime")||0},s.duration=function(e){return e!==b?(this.F.duration=parseFloat(e),this):(this.F.duration===b&&this.Kc(),this.F.duration||0)},s.remainingTime=function(){return this.duration()-this.currentTime()},s.buffered=function(){var e=S(this,"buffered");if(!e||!e.length)e=t.Ab(0,0);return e},s.bufferedPercent=function(){var e=this.duration(),t=this.buffered(),n=0,r,i;if(!e)return 0;for(var s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e},s.volume=function(e){return e!==b?(e=Math.max(0,Math.min(1,parseFloat(e))),this.F.volume=e,T(this,"setVolume",e),t.je(e),this):(e=parseFloat(S(this,"volume")),isNaN(e)?1:e)},s.muted=function(e){return e!==b?(T(this,"setMuted",e),this):S(this,"muted")||l},s.Ha=function(){return S(this,"supportsFullScreen")||l},s.Gc=l,s.isFullscreen=function(e){return e!==b?(this.Gc=!!e,this):this.Gc},s.isFullScreen=function(e){return t.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(e)},s.requestFullscreen=function(){var e=t.Sa.Hb;return this.isFullscreen(f),e?(t.c(document,e.fullscreenchange,t.bind(this,function(n){this.isFullscreen(document[e.fullscreenElement]),this.isFullscreen()===l&&t.k(document,e.fullscreenchange,arguments.callee),this.l("fullscreenchange")})),this.b[e.requestFullscreen]()):this.o.Ha()?T(this,"enterFullScreen"):(this.zc(),this.l("fullscreenchange")),this},s.requestFullScreen=function(){return t.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},s.exitFullscreen=function(){var e=t.Sa.Hb;return this.isFullscreen(l),e?document[e.exitFullscreen]():this.o.Ha()?T(this,"exitFullScreen"):(this.Eb(),this.l("fullscreenchange")),this},s.cancelFullScreen=function(){return t.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},s.zc=function(){this.Od=f,this.Ed=document.documentElement.style.overflow,t.c(document,"keydown",t.bind(this,this.Bc)),document.documentElement.style.overflow="hidden",t.n(document.body,"vjs-full-window"),this.l("enterFullWindow")},s.Bc=function(e){27===e.keyCode&&(this.isFullscreen()===f?this.exitFullscreen():this.Eb())},s.Eb=function(){this.Od=l,t.k(document,"keydown",this.Bc),document.documentElement.style.overflow=this.Ed,t.r(document.body,"vjs-full-window"),this.l("exitFullWindow")},s.selectSource=function(e){for(var n=0,r=this.m.techOrder;n<r.length;n++){var i=t.ba(r[n]),s=window.videojs[i];if(s){if(s.isSupported())for(var o=0,u=e;o<u.length;o++){var a=u[o];if(s.canPlaySource(a))return{source:a,o:i}}}else t.log.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return l},s.src=function(e){return e===b?S(this,"src"):(t.h.isArray(e)?U(this,e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!window.videojs[this.Ia].canPlaySource(e)?U(this,[e]):(this.F.src=e.src,this.vc=e.type||"",this.H(function(){window.videojs[this.Ia].prototype.hasOwnProperty("setSource")?T(this,"setSource",e):T(this,"src",e.src),"auto"==this.m.preload&&this.load(),this.m.autoplay&&this.play()}))),this)},s.load=function(){return T(this,"load"),this},s.currentSrc=function(){return S(this,"currentSrc")||this.F.src||""},s.zd=function(){return this.vc||""},s.Ga=function(e){return e!==b?(T(this,"setPreload",e),this.m.preload=e,this):S(this,"preload")},s.autoplay=function(e){return e!==b?(T(this,"setAutoplay",e),this.m.autoplay=e,this):S(this,"autoplay")},s.loop=function(e){return e!==b?(T(this,"setLoop",e),this.m.loop=e,this):S(this,"loop")},s.poster=function(e){return e===b?this.Nc:(e||(e=""),this.Nc=e,T(this,"setPoster",e),this.l("posterchange"),this)},s.controls=function(e){return e!==b?(e=!!e,this.zb!==e&&((this.zb=e)?(this.r("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.l("controlsenabled")):(this.r("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.l("controlsdisabled"))),this):this.zb},t.Player.prototype.Xb,s=t.Player.prototype,s.usingNativeControls=function(e){return e!==b?(e=!!e,this.Xb!==e&&((this.Xb=e)?(this.n("vjs-using-native-controls"),this.l("usingnativecontrols")):(this.r("vjs-using-native-controls"),this.l("usingcustomcontrols"))),this):this.Xb},s.da=k,s.error=function(e){return e===b?this.da:e===k?(this.da=e,this.r("vjs-error"),this):(this.da=e instanceof t.D?e:new t.D(e),this.l("error"),this.n("vjs-error"),t.log.error("(CODE:"+this.da.code+" "+t.D.Wa[this.da.code]+")",this.da.message,this.da),this)},s.ended=function(){return S(this,"ended")},s.seeking=function(){return S(this,"seeking")},s.ta=f,s.reportUserActivity=function(){this.ta=f},s.Wb=f,s.userActive=function(e){return e!==b?(e=!!e,e!==this.Wb&&((this.Wb=e)?(this.ta=f,this.r("vjs-user-inactive"),this.n("vjs-user-active"),this.l("useractive")):(this.ta=l,this.o&&this.o.Q("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.r("vjs-user-active"),this.n("vjs-user-inactive"),this.l("userinactive"))),this):this.Wb},s.playbackRate=function(e){return e!==b?(T(this,"setPlaybackRate",e),this):this.o&&this.o.featuresPlaybackRate?S(this,"playbackRate"):1},s.Fc=l,t.Na=t.a.extend(),t.Na.prototype.m={Ie:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},t.Na.prototype.e=function(){return t.e("div",{className:"vjs-control-bar"})},t.bc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.bc.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.v=t.e("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.t("Stream Type")+"</span>"+this.t("LIVE"),"aria-live":"off"}),e.appendChild(this.v),e},t.ec=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.c(e,"play",this.Qb),this.c(e,"pause",this.Pb)}}),s=t.ec.prototype,s.la="Play",s.S=function(){return"vjs-play-control "+t.u.prototype.S.call(this)},s.s=function(){this.d.paused()?this.d.play():this.d.pause()},s.Qb=function(){this.r("vjs-paused"),this.n("vjs-playing"),this.b.children[0].children[0].innerHTML=this.t("Pause")},s.Pb=function(){this.r("vjs-playing"),this.n("vjs-paused"),this.b.children[0].children[0].innerHTML=this.t("Play")},t.kb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.ia)}}),t.kb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(this.v),e},t.kb.prototype.ia=function(){var e=this.d.fb?this.d.F.currentTime:this.d.currentTime();this.v.innerHTML='<span class="vjs-control-text">'+this.t("Current Time")+"</span> "+t.Ba(e,this.d.duration())},t.lb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.ia)}}),t.lb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.t("Duration Time")+"</span> 0:00","aria-live":"off"}),e.appendChild(this.v),e},t.lb.prototype.ia=function(){var e=this.d.duration();e&&(this.v.innerHTML='<span class="vjs-control-text">'+this.t("Duration Time")+"</span> "+t.Ba(e))},t.lc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.lc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t.sb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.ia)}}),t.sb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.t("Remaining Time")+"</span> -0:00","aria-live":"off"}),e.appendChild(this.v),e},t.sb.prototype.ia=function(){this.d.duration()&&(this.v.innerHTML='<span class="vjs-control-text">'+this.t("Remaining Time")+"</span> -"+t.Ba(this.d.remainingTime()))},t.Oa=t.u.extend({i:function(e,n){t.u.call(this,e,n)}}),t.Oa.prototype.la="Fullscreen",t.Oa.prototype.S=function(){return"vjs-fullscreen-control "+t.u.prototype.S.call(this)},t.Oa.prototype.s=function(){this.d.isFullscreen()?(this.d.exitFullscreen(),this.yb.innerHTML=this.t("Fullscreen")):(this.d.requestFullscreen(),this.yb.innerHTML=this.t("Non-Fullscreen"))},t.rb=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.rb.prototype.m={children:{seekBar:{}}},t.rb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.hc=t.R.extend({i:function(e,n){t.R.call(this,e,n),this.c(e,"timeupdate",this.sa),e.H(t.bind(this,this.sa))}}),s=t.hc.prototype,s.m={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},s.Mc="timeupdate",s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},s.sa=function(){var e=this.d.fb?this.d.F.currentTime:this.d.currentTime();this.b.setAttribute("aria-valuenow",t.round(100*this.Ib(),2)),this.b.setAttribute("aria-valuetext",t.Ba(e,this.d.duration()))},s.Ib=function(){return this.d.currentTime()/this.d.duration()},s.cb=function(e){t.R.prototype.cb.call(this,e),this.d.fb=f,this.xe=!this.d.paused(),this.d.pause()},s.fa=function(e){e=H(this,e)*this.d.duration(),e==this.d.duration()&&(e-=.1),this.d.currentTime(e)},s.qa=function(e){t.R.prototype.qa.call(this,e),this.d.fb=l,this.xe&&this.d.play()},s.Yc=function(){this.d.currentTime(this.d.currentTime()+5)},s.Xc=function(){this.d.currentTime(this.d.currentTime()-5)},t.ob=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"progress",this.update)}}),t.ob.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.t("Loaded")+"</span>: 0%</span>"})},t.ob.prototype.update=function(){var e,n,r,i,s=this.d.buffered();e=this.d.duration();var o,u=this.d;o=u.buffered(),u=u.duration(),o=o.end(o.length-1),o>u&&(o=u),u=this.b.children,this.b.style.width=100*(o/e||0)+"%";for(e=0;e<s.length;e++)n=s.start(e),r=s.end(e),(i=u[e])||(i=this.b.appendChild(t.e())),i.style.left=100*(n/o||0)+"%",i.style.width=100*((r-n)/o||0)+"%";for(e=u.length;e>s.length;e--)this.b.removeChild(u[e-1])},t.dc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.dc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.t("Progress")+"</span>: 0%</span>"})},t.Pa=t.$.extend({i:function(e,n){t.$.call(this,e,n),this.c(e,"timeupdate",this.ia)}}),t.Pa.prototype.defaultValue="00:00",t.Pa.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},t.Pa.prototype.ia=function(){var e=this.d.fb?this.d.F.currentTime:this.d.currentTime();this.b.innerHTML='<span class="vjs-control-text">'+t.Ba(e,this.d.duration())+"</span>"},t.ub=t.a.extend({i:function(e,n){t.a.call(this,e,n),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.r("vjs-hidden")})}}),t.ub.prototype.m={children:{volumeBar:{}}},t.ub.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},t.tb=t.R.extend({i:function(e,n){t.R.call(this,e,n),this.c(e,"volumechange",this.sa),e.H(t.bind(this,this.sa))}}),s=t.tb.prototype,s.sa=function(){this.b.setAttribute("aria-valuenow",t.round(100*this.d.volume(),2)),this.b.setAttribute("aria-valuetext",t.round(100*this.d.volume(),2)+"%")},s.m={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},s.Mc="volumechange",s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},s.fa=function(e){this.d.muted()&&this.d.muted(l),this.d.volume(H(this,e))},s.Ib=function(){return this.d.muted()?0:this.d.volume()},s.Yc=function(){this.d.volume(this.d.volume()+.1)},s.Xc=function(){this.d.volume(this.d.volume()-.1)},t.mc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.mc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t.vb=t.$.extend(),t.vb.prototype.defaultValue="00:00",t.vb.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},t.ka=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.c(e,"volumechange",this.update),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.r("vjs-hidden")})}}),t.ka.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.t("Mute")+"</span></div>"})},t.ka.prototype.s=function(){this.d.muted(this.d.muted()?l:f)},t.ka.prototype.update=function(){var e=this.d.volume(),n=3;0===e||this.d.muted()?n=0:.33>e?n=1:.67>e&&(n=2),this.d.muted()?this.b.children[0].children[0].innerHTML!=this.t("Unmute")&&(this.b.children[0].children[0].innerHTML=this.t("Unmute")):this.b.children[0].children[0].innerHTML!=this.t("Mute")&&(this.b.children[0].children[0].innerHTML=this.t("Mute"));for(e=0;4>e;e++)t.r(this.b,"vjs-vol-"+e);t.n(this.b,"vjs-vol-"+n)},t.va=t.L.extend({i:function(e,n){t.L.call(this,e,n),this.c(e,"volumechange",this.update),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.r("vjs-hidden")}),this.n("vjs-menu-button")}}),t.va.prototype.za=function(){var e=new t.ja(this.d,{sc:"div"}),n=new t.tb(this.d,this.m.volumeBar);return n.c("focus",function(){e.n("vjs-lock-showing")}),n.c("blur",function(){E(e)}),e.U(n),e},t.va.prototype.s=function(){t.ka.prototype.s.call(this),t.L.prototype.s.call(this)},t.va.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.t("Mute")+"</span></div>"})},t.va.prototype.update=t.ka.prototype.update,t.fc=t.L.extend({i:function(e,n){t.L.call(this,e,n),this.bd(),this.ad(),this.c(e,"loadstart",this.bd),this.c(e,"ratechange",this.ad)}}),s=t.fc.prototype,s.la="Playback Rate",s.className="vjs-playback-rate",s.e=function(){var e=t.L.prototype.e.call(this);return this.Ic=t.e("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.Ic),e},s.za=function(){var e=new t.ja(this.j()),n=this.j().options().playbackRates;if(n)for(var r=n.length-1;0<=r;r--)e.U(new t.qb(this.j(),{rate:n[r]+"x"}));return e},s.sa=function(){this.w().setAttribute("aria-valuenow",this.j().playbackRate())},s.s=function(){for(var e=this.j().playbackRate(),t=this.j().options().playbackRates,n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.j().playbackRate(n)},s.bd=function(){ea(this)?this.r("vjs-hidden"):this.n("vjs-hidden")},s.ad=function(){ea(this)&&(this.Ic.innerHTML=this.j().playbackRate()+"x")},t.qb=t.J.extend({sc:"button",i:function(e,n){var r=this.label=n.rate,i=this.Pc=parseFloat(r,10);n.label=r,n.selected=1===i,t.J.call(this,e,n),this.c(e,"ratechange",this.update)}}),t.qb.prototype.s=function(){t.J.prototype.s.call(this),this.j().playbackRate(this.Pc)},t.qb.prototype.update=function(){this.selected(this.j().playbackRate()==this.Pc)},t.gc=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.update(),e.c("posterchange",t.bind(this,this.update))}}),s=t.gc.prototype,s.dispose=function(){this.j().k("posterchange",this.update),t.u.prototype.dispose.call(this)},s.e=function(){var e=t.e("div",{className:"vjs-poster",tabIndex:-1});return t.fd||(this.Fb=t.e("img"),e.appendChild(this.Fb)),e},s.update=function(){var e=this.j().poster();this.ga(e),e?this.b.style.display="":this.Y()},s.ga=function(e){var t;this.Fb?this.Fb.src=e:(t="",e&&(t='url("'+e+'")'),this.b.style.backgroundImage=t)},s.s=function(){this.d.play()},t.cc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.cc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},t.ib=t.u.extend(),t.ib.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},t.ib.prototype.s=function(){this.d.play()},t.mb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.update(),this.c(e,"error",this.update)}}),t.mb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-error-display"});return this.v=t.e("div"),e.appendChild(this.v),e},t.mb.prototype.update=function(){this.j().error()&&(this.v.innerHTML=this.t(this.j().error().message))},t.q=t.a.extend({i:function(e,n,r){n=n||{},n.Rc=l,t.a.call(this,e,n,r),this.featuresProgressEvents||(this.Jc=f,this.Oc=this.setInterval(function(){var e=this.j().bufferedPercent();this.vd!=e&&this.j().l("progress"),this.vd=e,1===e&&this.clearInterval(this.Oc)},500)),this.featuresTimeupdateEvents||(e=this.d,this.Ob=f,this.c(e,"play",this.$c),this.c(e,"pause",this.hb),this.Q("timeupdate",function(){this.featuresTimeupdateEvents=f,fa(this)}));var i;i=this.j(),e=function(){if(i.controls()&&!i.usingNativeControls()){var e;this.c("mousedown",this.s),this.c("touchstart",function(){e=this.d.userActive()}),this.c("touchmove",function(){e&&this.j().reportUserActivity()}),this.c("touchend",function(e){e.preventDefault()}),G(this),this.c("tap",this.ce)}},this.H(e),this.c(i,"controlsenabled",e),this.c(i,"controlsdisabled",this.he),this.H(function(){this.networkState&&0<this.networkState()&&this.j().l("loadstart")})}}),s=t.q.prototype,s.he=function(){this.k("tap"),this.k("touchstart"),this.k("touchmove"),this.k("touchleave"),this.k("touchcancel"),this.k("touchend"),this.k("click"),this.k("mousedown")},s.s=function(e){0===e.button&&this.j().controls()&&(this.j().paused()?this.j().play():this.j().pause())},s.ce=function(){this.j().userActive(!this.j().userActive())},s.$c=function(){this.uc&&this.hb(),this.uc=this.setInterval(function(){this.j().l("timeupdate")},250)},s.hb=function(){this.clearInterval(this.uc),this.j().l("timeupdate")},s.dispose=function(){this.Jc&&(this.Jc=l,this.clearInterval(this.Oc)),this.Ob&&fa(this),t.a.prototype.dispose.call(this)},s.Ub=function(){this.Ob&&this.j().l("timeupdate")},s.Uc=m(),t.q.prototype.featuresVolumeControl=f,t.q.prototype.featuresFullscreenResize=l,t.q.prototype.featuresPlaybackRate=l,t.q.prototype.featuresProgressEvents=l,t.q.prototype.featuresTimeupdateEvents=l,t.q.dd=function(e){e.Sb=function(t){var n,r=e.Vc;r||(r=e.Vc=[]),n===b&&(n=r.length),r.splice(n,0,t)},e.Sc=function(t){for(var n=e.Vc||[],r,i=0;i<n.length;i++)if(r=n[i].Ta(t))return n[i];return k},e.pc=function(t){var n=e.Sc(t);return n?n.Ta(t):""},e.prototype.gb=function(t){var n=e.Sc(t);return this.Db(),this.k("dispose",this.Db),this.tc=t,this.Vb=n.Jb(t,this),this.c("dispose",this.Db),this},e.prototype.Db=function(){this.Vb&&this.Vb.dispose&&this.Vb.dispose()}},t.g=t.q.extend({i:function(e,n,r){t.q.call(this,e,n,r);for(r=t.g.nb.length-1;0<=r;r--)this.c(t.g.nb[r],this.Fd);(n=n.source)&&(this.b.currentSrc!==n.src||e.I&&3===e.I.Md)&&this.gb(n);if(t.jc&&e.options().nativeControlsForTouch===f){var i,s,o,u;i=this,s=this.j(),n=s.controls(),i.b.controls=!!n,o=function(){i.b.controls=f},u=function(){i.b.controls=l},s.c("controlsenabled",o),s.c("controlsdisabled",u),n=function(){s.k("controlsenabled",o),s.k("controlsdisabled",u)},i.c("dispose",n),s.c("usingcustomcontrols",n),s.usingNativeControls(f)}e.H(function(){this.I&&this.m.autoplay&&this.paused()&&(delete this.I.poster,this.play())}),this.Ka()}}),s=t.g.prototype,s.dispose=function(){t.g.Cb(this.b),t.q.prototype.dispose.call(this)},s.e=function(){var e=this.d,n=e.I,r;if(!n||this.movingMediaElementInDOM===l)n?(r=n.cloneNode(l),t.g.Cb(n),n=r,e.I=k):(n=t.e("video"),t.Tc(n,t.h.z(e.se||{},{id:e.id()+"_html5_api","class":"vjs-tech"}))),n.player=e,t.Kb(n,e.w());r=["autoplay","preload","loop","muted"];for(var i=r.length-1;0<=i;i--){var s=r[i],o={};"undefined"!=typeof e.m[s]&&(o[s]=e.m[s]),t.Tc(n,o)}return n},s.Fd=function(e){"error"==e.type&&this.error()?this.j().error(this.error().code):(e.bubbles=l,this.j().l(e))},s.play=function(){this.b.play()},s.pause=function(){this.b.pause()},s.paused=function(){return this.b.paused},s.currentTime=function(){return this.b.currentTime},s.Ub=function(e){try{this.b.currentTime=e}catch(n){t.log(n,"Video is not ready. (Video.js)")}},s.duration=function(){return this.b.duration||0},s.buffered=function(){return this.b.buffered},s.volume=function(){return this.b.volume},s.oe=function(e){this.b.volume=e},s.muted=function(){return this.b.muted},s.le=function(e){this.b.muted=e},s.width=function(){return this.b.offsetWidth},s.height=function(){return this.b.offsetHeight},s.Ha=function(){return"function"==typeof this.b.webkitEnterFullScreen&&(/Android/.test(t.N)||!/Chrome|Mac OS X 10.5/.test(t.N))?f:l},s.yc=function(){var e=this.b;"webkitDisplayingFullscreen"in e&&this.Q("webkitbeginfullscreen",function(){this.d.isFullscreen(f),this.Q("webkitendfullscreen",function(){this.d.isFullscreen(l),this.d.l("fullscreenchange")}),this.d.l("fullscreenchange")}),e.paused&&e.networkState<=e.ze?(this.b.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},s.Gd=function(){this.b.webkitExitFullScreen()},s.src=function(e){if(e===b)return this.b.src;this.ga(e)},s.ga=function(e){this.b.src=e},s.load=function(){this.b.load()},s.currentSrc=function(){return this.b.currentSrc},s.poster=function(){return this.b.poster},s.Uc=function(e){this.b.poster=e},s.Ga=function(){return this.b.Ga},s.ne=function(e){this.b.Ga=e},s.autoplay=function(){return this.b.autoplay},s.ie=function(e){this.b.autoplay=e},s.controls=function(){return this.b.controls},s.loop=function(){return this.b.loop},s.ke=function(e){this.b.loop=e},s.error=function(){return this.b.error},s.seeking=function(){return this.b.seeking},s.ended=function(){return this.b.ended},s.playbackRate=function(){return this.b.playbackRate},s.me=function(e){this.b.playbackRate=e},s.networkState=function(){return this.b.networkState},t.g.isSupported=function(){try{t.A.volume=.5}catch(e){return l}return!!t.A.canPlayType},t.q.dd(t.g),t.g.V={},t.g.V.Ta=function(e){function n(e){try{return!!t.A.canPlayType(e)}catch(n){return""}}return e.type?n(e.type):(e=e.src.match(/\.([^\/\?]+)(\?[^\/]+)?$/i)[1],n("video/"+e))},t.g.V.Jb=function(e,t){t.ga(e.src)},t.g.V.dispose=m(),t.g.Sb(t.g.V),t.g.xd=function(){var e=t.A.volume;return t.A.volume=e/2+.1,e!==t.A.volume},t.g.wd=function(){var e=t.A.playbackRate;return t.A.playbackRate=e/2+.1,e!==t.A.playbackRate},t.g.prototype.featuresVolumeControl=t.g.xd(),t.g.prototype.featuresPlaybackRate=t.g.wd(),t.g.prototype.movingMediaElementInDOM=!t.kd,t.g.prototype.featuresFullscreenResize=f,t.g.prototype.featuresProgressEvents=f;var V,ga=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ha=/^video\/mp4/i;t.g.Lc=function(){4<=t.Yb&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(e){return e&&ga.test(e)?"maybe":V.call(this,e)}),t.od&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(e){return e&&ha.test(e)?"maybe":V.call(this,e)})},t.g.we=function(){var e=t.A.constructor.prototype.canPlayType;return t.A.constructor.prototype.canPlayType=V,V=k,e},t.g.Lc(),t.g.nb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),t.g.Cb=function(e){if(e){e.player=k;for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src");if("function"==typeof e.load)try{e.load()}catch(t){}}},t.f=t.q.extend({i:function(e,n,r){t.q.call(this,e,n,r);var i=n.source;r=n.parentEl;var s=this.b=t.e("div",{id:e.id()+"_temp_flash"}),o=e.id()+"_flash_api",u=e.m,u=t.h.z({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:u.autoplay,preload:u.Ga,loop:u.loop,muted:u.muted},n.flashVars),a=t.h.z({wmode:"opaque",bgcolor:"#000000"},n.params),o=t.h.z({id:o,name:o,"class":"vjs-tech"},n.attributes);i&&this.H(function(){this.gb(i)}),t.Kb(s,r),n.startTime&&this.H(function(){this.load(),this.play(),this.currentTime(n.startTime)}),t.jd&&this.H(function(){this.c("mousemove",function(){this.j().l({type:"mousemove",bubbles:l})})}),e.c("stageclick",e.reportUserActivity),this.b=t.f.xc(n.swf,s,u,a,o)}}),s=t.f.prototype,s.dispose=function(){t.q.prototype.dispose.call(this)},s.play=function(){this.b.vjs_play()},s.pause=function(){this.b.vjs_pause()},s.src=function(e){return e===b?this.currentSrc():this.ga(e)},s.ga=function(e){e=t.Jd(e),this.b.vjs_src(e);if(this.d.autoplay()){var n=this;this.setTimeout(function(){n.play()},0)}},t.f.prototype.setCurrentTime=function(e){this.Ud=e,this.b.vjs_setProperty("currentTime",e),t.q.prototype.Ub.call(this)},t.f.prototype.currentTime=function(){return this.seeking()?this.Ud||0:this.b.vjs_getProperty("currentTime")},t.f.prototype.currentSrc=function(){return this.tc?this.tc.src:this.b.vjs_getProperty("currentSrc")},t.f.prototype.load=function(){this.b.vjs_load()},t.f.prototype.poster=function(){this.b.vjs_getProperty("poster")},t.f.prototype.setPoster=m(),t.f.prototype.buffered=function(){return t.Ab(0,this.b.vjs_getProperty("buffered"))},t.f.prototype.Ha=r(l),t.f.prototype.yc=r(l);var ka=t.f.prototype,W="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),ma="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),X;for(X=0;X<W.length;X++)la(W[X]),ia();for(X=0;X<ma.length;X++)la(ma[X]);t.f.isSupported=function(){return 10<=t.f.version()[0]},t.q.dd(t.f),t.f.V={},t.f.V.Ta=function(e){return e.type?e.type.replace(/;.*/,"").toLowerCase()in t.f.Id?"maybe":"":""},t.f.V.Jb=function(e,t){t.ga(e.src)},t.f.V.dispose=m(),t.f.Sb(t.f.V),t.f.Id={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},t.f.onReady=function(e){var n;if(n=(e=t.w(e))&&e.parentNode&&e.parentNode.player)e.player=n,t.f.checkReady(n.o)},t.f.checkReady=function(e){e.w()&&(e.w().vjs_getProperty?e.Ka():this.setTimeout(function(){t.f.checkReady(e)},50))},t.f.onEvent=function(e,n){t.w(e).player.l(n)},t.f.onError=function(e,n){var r=t.w(e).player,i="FLASH: "+n;"srcnotfound"==n?r.error({code:4,message:i}):r.error(i)},t.f.version=function(){var e="0,0,0";try{e=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},t.f.xc=function(e,n,r,i,s){e=t.f.Ld(e,r,i,s),e=t.e("div",{innerHTML:e}).childNodes[0],r=n.parentNode,n.parentNode.replaceChild(e,n);var o=r.childNodes[0];return setTimeout(function(){o.style.display="block"},1e3),e},t.f.Ld=function(e,n,r,i){var s="",o="",u="";return n&&t.h.X(n,function(e,t){s+=e+"="+t+"&amp;"}),r=t.h.z({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},r),t.h.X(r,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'}),i=t.h.z({data:e,width:"100%",height:"100%"},i),t.h.X(i,function(e,t){u+=e+'="'+t+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+o+"</object>"},t.f.qe={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.f.Je=function(e,t){return e+"&"+t},t.f.pe=function(e){var t={rc:"",Zc:""};if(!e)return t;var n=e.indexOf("&"),r;return-1!==n?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.rc=e.substring(0,n),t.Zc=e.substring(r,e.length),t},t.f.Rd=function(e){return e in t.f.qe},t.f.qd=/^rtmp[set]?:\/\//i,t.f.Qd=function(e){return t.f.qd.test(e)},t.f.Tb={},t.f.Tb.Ta=function(e){return t.f.Rd(e.type)||t.f.Qd(e.src)?"maybe":""},t.f.Tb.Jb=function(e,n){var r=t.f.pe(e.src);n.setRtmpConnection(r.rc),n.setRtmpStream(r.Zc)},t.f.Sb(t.f.Tb),t.pd=t.a.extend({i:function(e,n,r){t.a.call(this,e,n,r);if(!e.m.sources||0===e.m.sources.length){n=0;for(r=e.m.techOrder;n<r.length;n++){var i=t.ba(r[n]),s=window.videojs[i];if(s&&s.isSupported()){Q(e,i);break}}}else e.src(e.m.sources)}}),t.Player.prototype.textTracks=function(){return this.Ja=this.Ja||[]},t.B=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.K=n.id||"vjs_"+n.kind+"_"+n.language+"_"+t.p++,this.Wc=n.src,this.Cd=n["default"]||n.dflt,this.ue=n.title,this.Za=n.srclang,this.Sd=n.label,this.ca=[],this.wb=[],this.pa=this.ra=0,e.c("dispose",t.bind(this,this.wc,this.K))}}),s=t.B.prototype,s.M=n("G"),s.src=n("Wc"),s.Bb=n("Cd"),s.title=n("ue"),s.language=n("Za"),s.label=n("Sd"),s.yd=n("ca"),s.rd=n("wb"),s.readyState=n("ra"),s.mode=n("pa"),s.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-"+this.G+" vjs-text-track"})},s.show=function(){oa(this),this.pa=2,t.a.prototype.show.call(this)},s.Y=function(){oa(this),this.pa=1,t.a.prototype.Y.call(this)},s.disable=function(){2==this.pa&&this.Y(),this.wc(),this.pa=0},s.wc=function(){this.d.k("timeupdate",t.bind(this,this.update,this.K)),this.d.k("ended",t.bind(this,this.reset,this.K)),this.reset(),this.d.na("textTrackDisplay").removeChild(this)},s.load=function(){0===this.ra&&(this.ra=1,t.ye(this.Wc,t.bind(this,function(e,n,r){if(e)this.error=e,this.ra=3,this.l("error");else{var i,s;e=r.split("\n"),n="",r=1;for(var o=e.length;r<o;r++)if(n=t.trim(e[r])){-1==n.indexOf("-->")?(i=n,n=t.trim(e[++r])):i=this.ca.length,i={id:i,index:this.ca.length},s=n.split(/[\t ]+/),i.startTime=pa(s[0]),i.Aa=pa(s[2]);for(s=[];e[++r]&&(n=t.trim(e[r]));)s.push(n);i.text=s.join("<br/>"),this.ca.push(i)}this.ra=2,this.l("loaded")}})))},s.update=function(){if(0<this.ca.length){var e=this.d.options().trackTimeOffset||0,e=this.d.currentTime()+e;if(this.Rb===b||e<this.Rb||this.$a<=e){var t=this.ca,n=this.d.duration(),r=0,i=l,s=[],o,u,a,c;e>=this.$a||this.$a===b?c=this.Gb!==b?this.Gb:0:(i=f,c=this.Nb!==b?this.Nb:t.length-1);for(;;){a=t[c];if(a.Aa<=e)r=Math.max(r,a.Aa),a.Ra&&(a.Ra=l);else if(e<a.startTime){if(n=Math.min(n,a.startTime),a.Ra&&(a.Ra=l),!i)break}else i?(s.splice(0,0,a),u===b&&(u=c),o=c):(s.push(a),o===b&&(o=c),u=c),n=Math.min(n,a.Aa),r=Math.max(r,a.startTime),a.Ra=f;if(i){if(0===c)break;c--}else{if(c===t.length-1)break;c++}}this.wb=s,this.$a=n,this.Rb=r,this.Gb=o,this.Nb=u,o=this.wb,u="",e=0;for(t=o.length;e<t;e++)u+='<span class="vjs-tt-cue">'+o[e].text+"</span>";this.b.innerHTML=u,this.l("cuechange")}}},s.reset=function(){this.$a=0,this.Rb=this.d.duration(),this.Nb=this.Gb=0},t.$b=t.B.extend(),t.$b.prototype.G="captions",t.ic=t.B.extend(),t.ic.prototype.G="subtitles",t.ac=t.B.extend(),t.ac.prototype.G="chapters",t.kc=t.a.extend({i:function(e,n,r){t.a.call(this,e,n,r);if(e.m.tracks&&0<e.m.tracks.length){n=this.d,e=e.m.tracks;for(var i=0;i<e.length;i++)r=e[i],na(n,r.kind,r.label,r.language,r)}}}),t.kc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},t.aa=t.J.extend({i:function(e,n){var r=this.ha=n.track;n.label=r.label(),n.selected=r.Bb(),t.J.call(this,e,n),this.c(e,r.M()+"trackchange",this.update)}}),t.aa.prototype.s=function(){t.J.prototype.s.call(this),Y(this.d,this.ha.K,this.ha.M())},t.aa.prototype.update=function(){this.selected(2==this.ha.mode())},t.pb=t.aa.extend({i:function(e,n){n.track={M:function(){return n.kind},j:e,label:function(){return n.kind+" off"},Bb:r(l),mode:r(l)},t.aa.call(this,e,n),this.selected(f)}}),t.pb.prototype.s=function(){t.aa.prototype.s.call(this),Y(this.d,this.ha.K,this.ha.M())},t.pb.prototype.update=function(){for(var e=this.d.textTracks(),t=0,n=e.length,r,i=f;t<n;t++)r=e[t],r.M()==this.ha.M()&&2==r.mode()&&(i=l);this.selected(i)},t.T=t.L.extend({i:function(e,n){t.L.call(this,e,n),1>=this.P.length&&this.Y()}}),t.T.prototype.ya=function(){var e=[],n;e.push(new t.pb(this.d,{kind:this.G}));for(var r=0;r<this.d.textTracks().length;r++)n=this.d.textTracks()[r],n.M()===this.G&&e.push(new t.aa(this.d,{track:n}));return e},t.La=t.T.extend({i:function(e,n,r){t.T.call(this,e,n,r),this.b.setAttribute("aria-label","Captions Menu")}}),t.La.prototype.G="captions",t.La.prototype.la="Captions",t.La.prototype.className="vjs-captions-button",t.Qa=t.T.extend({i:function(e,n,r){t.T.call(this,e,n,r),this.b.setAttribute("aria-label","Subtitles Menu")}}),t.Qa.prototype.G="subtitles",t.Qa.prototype.la="Subtitles",t.Qa.prototype.className="vjs-subtitles-button",t.Ma=t.T.extend({i:function(e,n,r){t.T.call(this,e,n,r),this.b.setAttribute("aria-label","Chapters Menu")}}),s=t.Ma.prototype,s.G="chapters",s.la="Chapters",s.className="vjs-chapters-button",s.ya=function(){for(var e=[],n,r=0;r<this.d.textTracks().length;r++)n=this.d.textTracks()[r],n.M()===this.G&&e.push(new t.aa(this.d,{track:n}));return e},s.za=function(){for(var e=this.d.textTracks(),n=0,r=e.length,i,s,o=this.P=[];n<r;n++)if(i=e[n],i.M()==this.G){if(0!==i.readyState()){s=i;break}i.load(),i.c("loaded",t.bind(this,this.za))}e=this.Da,e===b&&(e=new t.ja(this.d),e.ma().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.G),re:-1})));if(s){i=s.ca;for(var u,n=0,r=i.length;n<r;n++)u=i[n],u=new t.jb(this.d,{track:s,cue:u}),o.push(u),e.U(u);this.U(e)}return 0<this.P.length&&this.show(),e},t.jb=t.J.extend({i:function(e,n){var r=this.ha=n.track,i=this.cue=n.cue,s=e.currentTime();n.label=i.text,n.selected=i.startTime<=s&&s<i.Aa,t.J.call(this,e,n),r.c("cuechange",t.bind(this,this.update))}}),t.jb.prototype.s=function(){t.J.prototype.s.call(this),this.d.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.jb.prototype.update=function(){var e=this.cue,t=this.d.currentTime();this.selected(e.startTime<=t&&t<e.Aa)},t.h.z(t.Na.prototype.m.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)t.JSON=window.JSON;else{t.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;t.JSON.parse=function(a,c){function d(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=d(i,n),r!==b?i[n]=r:delete i[n]);return c.call(e,t,i)}var e;a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}t.oc=function(){var e,n,r,i;e=document.getElementsByTagName("video"),n=document.getElementsByTagName("audio");var s=[];if(e&&0<e.length){r=0;for(i=e.length;r<i;r++)s.push(e[r])}if(n&&0<n.length){r=0;for(i=n.length;r<i;r++)s.push(n[r])}if(s&&0<s.length){r=0;for(i=s.length;r<i;r++){if(!(n=s[r])||!n.getAttribute){t.xb();break}n.player===b&&(e=n.getAttribute("data-setup"),e!==k&&videojs(n))}}else t.cd||t.xb()},t.xb=function(){setTimeout(t.oc,1)},"complete"===document.readyState?t.cd=f:t.Q(window,"load",function(){t.cd=f}),t.xb(),t.ge=function(e,n){t.Player.prototype[e]=n};var qa=this;$("videojs",t),$("_V_",t),$("videojs.options",t.options),$("videojs.players",t.Fa),$("videojs.TOUCH_ENABLED",t.jc),$("videojs.cache",t.xa),$("videojs.Component",t.a),t.a.prototype.player=t.a.prototype.j,t.a.prototype.options=t.a.prototype.options,t.a.prototype.init=t.a.prototype.i,t.a.prototype.dispose=t.a.prototype.dispose,t.a.prototype.createEl=t.a.prototype.e,t.a.prototype.contentEl=t.a.prototype.ma,t.a.prototype.el=t.a.prototype.w,t.a.prototype.addChild=t.a.prototype.U,t.a.prototype.getChild=t.a.prototype.na,t.a.prototype.getChildById=t.a.prototype.Kd,t.a.prototype.children=t.a.prototype.children,t.a.prototype.initChildren=t.a.prototype.Ec,t.a.prototype.removeChild=t.a.prototype.removeChild,t.a.prototype.on=t.a.prototype.c,t.a.prototype.off=t.a.prototype.k,t.a.prototype.one=t.a.prototype.Q,t.a.prototype.trigger=t.a.prototype.l,t.a.prototype.triggerReady=t.a.prototype.Ka,t.a.prototype.show=t.a.prototype.show,t.a.prototype.hide=t.a.prototype.Y,t.a.prototype.width=t.a.prototype.width,t.a.prototype.height=t.a.prototype.height,t.a.prototype.dimensions=t.a.prototype.Dd,t.a.prototype.ready=t.a.prototype.H,t.a.prototype.addClass=t.a.prototype.n,t.a.prototype.removeClass=t.a.prototype.r,t.a.prototype.buildCSSClass=t.a.prototype.S,t.a.prototype.localize=t.a.prototype.t,t.a.prototype.setInterval=t.a.prototype.setInterval,t.a.prototype.setTimeout=t.a.prototype.setTimeout,t.Player.prototype.ended=t.Player.prototype.ended,t.Player.prototype.enterFullWindow=t.Player.prototype.zc,t.Player.prototype.exitFullWindow=t.Player.prototype.Eb,t.Player.prototype.preload=t.Player.prototype.Ga,t.Player.prototype.remainingTime=t.Player.prototype.remainingTime,t.Player.prototype.supportsFullScreen=t.Player.prototype.Ha,t.Player.prototype.currentType=t.Player.prototype.zd,t.Player.prototype.requestFullScreen=t.Player.prototype.requestFullScreen,t.Player.prototype.requestFullscreen=t.Player.prototype.requestFullscreen,t.Player.prototype.cancelFullScreen=t.Player.prototype.cancelFullScreen,t.Player.prototype.exitFullscreen=t.Player.prototype.exitFullscreen,t.Player.prototype.isFullScreen=t.Player.prototype.isFullScreen,t.Player.prototype.isFullscreen=t.Player.prototype.isFullscreen,$("videojs.MediaLoader",t.pd),$("videojs.TextTrackDisplay",t.kc),$("videojs.ControlBar",t.Na),$("videojs.Button",t.u),$("videojs.PlayToggle",t.ec),$("videojs.FullscreenToggle",t.Oa),$("videojs.BigPlayButton",t.ib),$("videojs.LoadingSpinner",t.cc),$("videojs.CurrentTimeDisplay",t.kb),$("videojs.DurationDisplay",t.lb),$("videojs.TimeDivider",t.lc),$("videojs.RemainingTimeDisplay",t.sb),$("videojs.LiveDisplay",t.bc),$("videojs.ErrorDisplay",t.mb),$("videojs.Slider",t.R),$("videojs.ProgressControl",t.rb),$("videojs.SeekBar",t.hc),$("videojs.LoadProgressBar",t.ob),$("videojs.PlayProgressBar",t.dc),$("videojs.SeekHandle",t.Pa),$("videojs.VolumeControl",t.ub),$("videojs.VolumeBar",t.tb),$("videojs.VolumeLevel",t.mc),$("videojs.VolumeMenuButton",t.va),$("videojs.VolumeHandle",t.vb),$("videojs.MuteToggle",t.ka),$("videojs.PosterImage",t.gc),$("videojs.Menu",t.ja),$("videojs.MenuItem",t.J),$("videojs.MenuButton",t.L),$("videojs.PlaybackRateMenuButton",t.fc),t.L.prototype.createItems=t.L.prototype.ya,t.T.prototype.createItems=t.T.prototype.ya,t.Ma.prototype.createItems=t.Ma.prototype.ya,$("videojs.SubtitlesButton",t.Qa),$("videojs.CaptionsButton",t.La),$("videojs.ChaptersButton",t.Ma),$("videojs.MediaTechController",t.q),t.q.prototype.featuresVolumeControl=t.q.prototype.Ge,t.q.prototype.featuresFullscreenResize=t.q.prototype.Ce,t.q.prototype.featuresPlaybackRate=t.q.prototype.De,t.q.prototype.featuresProgressEvents=t.q.prototype.Ee,t.q.prototype.featuresTimeupdateEvents=t.q.prototype.Fe,t.q.prototype.setPoster=t.q.prototype.Uc,$("videojs.Html5",t.g),t.g.Events=t.g.nb,t.g.isSupported=t.g.isSupported,t.g.canPlaySource=t.g.pc,t.g.patchCanPlayType=t.g.Lc,t.g.unpatchCanPlayType=t.g.we,t.g.prototype.setCurrentTime=t.g.prototype.Ub,t.g.prototype.setVolume=t.g.prototype.oe,t.g.prototype.setMuted=t.g.prototype.le,t.g.prototype.setPreload=t.g.prototype.ne,t.g.prototype.setAutoplay=t.g.prototype.ie,t.g.prototype.setLoop=t.g.prototype.ke,t.g.prototype.enterFullScreen=t.g.prototype.yc,t.g.prototype.exitFullScreen=t.g.prototype.Gd,t.g.prototype.playbackRate=t.g.prototype.playbackRate,t.g.prototype.setPlaybackRate=t.g.prototype.me,t.g.prototype.setSource=t.g.prototype.gb,$("videojs.Flash",t.f),t.f.isSupported=t.f.isSupported,t.f.canPlaySource=t.f.pc,t.f.onReady=t.f.onReady,t.f.embed=t.f.xc,t.f.version=t.f.version,t.f.prototype.setSource=t.f.prototype.gb,$("videojs.TextTrack",t.B),t.B.prototype.label=t.B.prototype.label,t.B.prototype.kind=t.B.prototype.M,t.B.prototype.mode=t.B.prototype.mode,t.B.prototype.cues=t.B.prototype.yd,t.B.prototype.activeCues=t.B.prototype.rd,$("videojs.CaptionsTrack",t.$b),$("videojs.SubtitlesTrack",t.ic),$("videojs.ChaptersTrack",t.ac),$("videojs.autoSetup",t.oc),$("videojs.plugin",t.ge),$("videojs.createTimeRange",t.Ab),$("videojs.util",t.Z),t.Z.mergeOptions=t.Z.Ea,t.addLanguage=t.sd}(),define("data/players/with_common_player",["require","flight/lib/compose","data/with_track_data","videojs","utils/utils"],function(e){function s(){t.mixin(this,[n]),this.teardownBuffer=function(e){try{e.off("ended"),e.off("timeupdate"),e.off("error"),$(e.el()).hide(),e.dispose()}catch(t){}},this.createVideoJSElement=function(e){return r(e)},this.triggerPlaybackError=function(){var e;this.currentBuffer?e=this.currentBuffer.error():this.nextBuffer?e=this.nextBuffer.error():e={code:0},this.advanceStream();if(this.currentBuffer){if(!this.currentBuffer.error())return;this.teardownBuffer(this.currentBuffer)}e&&e.code===e.MEDIA_ERR_SRC_NOT_SUPPORTED&&!i.hasFlash()?this.trigger("dataFlashNotInstalledError"):this.trigger("dataPlaybackError")},this.timeUpdate=function(){var e=this.currentTrackTime(),t=this.currentTrackDuration();if(!t||t<0)return;t>=e&&this.trigger("dataTimeUpdate",{currentTime:e,duration:t,trackType:this.currentTrack().type,paused:this.currentBuffer.paused()}),this.currentTrackStitched()&&e>t&&this.advanceStream()},this.currentTrackDuration=function(){var e=this.currentTrack();return e.duration||this.currentBuffer.duration()-e.offset},this.currentTrackStitched=function(){var e=this.currentTrack();return e&&e.stitched},this.currentTrackTime=function(){return this.currentBuffer.currentTime()-this.currentTrack().offset},this.triggerTrackEnd=function(){this.trigger("dataTrackEnd")},this.triggerTrackStart=function(){var e=this.currentTrack();this.trigger("dataTrackStart",{trackIndex:this.currentTrackIndex,trackUuid:e.contentId,trackOwnerId:e.ownerId,trackType:e.type,trackCtas:e.ctas||{}})},this.triggerPlaylistEnd=function(){this.trigger("dataPlaylistEnd")},this.deferredOnTracksLoaded=function(){setTimeout(function(){this.onTracksLoaded(),this.tracksLoaded=!0}.bind(this),0)},this.after("playlistLoaded",function(){this.deferredOnTracksLoaded()})}var t=e("flight/lib/compose"),n=e("data/with_track_data"),r=e("videojs"),i=e("utils/utils");return s}),define("data/players/mobile_video_player",["require","flight/lib/component","data/players/with_common_player"],function(e){function r(){this.attributes({posterImageUrl:"https://pbs.twimg.com/cards/player-placeholder.png",defaultContentType:"video/mp4"}),this.onTracksLoaded=function(){var e=$("<video controls class='mobile-video-player video-js vjs-default-skin' data-setup='{\"nativeControlsForTouch\": true}'></video>");e.attr("poster",this.attr.posterImageUrl);var t=$("<source />");t.attr({src:this.nextTrack().source,type:this.nextTrack().contentType||this.attr.defaultContentType}),e.append(t),this.$node.append(e),this.currentBuffer=this.createVideoJSElement(e.get(0)),this.currentTrackIndex++,this.currentBuffer.on("ended",this.advanceStream.bind(this)),this.currentBuffer.on("timeupdate",this.timeUpdate.bind(this)),this.currentBuffer.on("error",this.triggerPlaybackError.bind(this)),this.currentBuffer.on("play",this.triggerPlay.bind(this)),this.currentBuffer.on("pause",this.triggerPause.bind(this)),this.currentBuffer.on("seeking",this.triggerSeekStart.bind(this)),this.currentBuffer.on("seeked",this.triggerSeekEnd.bind(this)),this.currentBuffer.width("100%"),this.currentBuffer.height("100%"),e.show(),this.currentBuffer.ready(this.currentBuffer.play),this.triggerTrackStart()},this.triggerPlay=function(){this.played?this.potentialReplay&&this.currentBuffer.currentTime()===0?(this.trigger("dataReplay"),this.potentialReplay=!1):this.currentBuffer.currentTime()!==0&&this.trigger("dataPlay"):(this.trigger("uiShow"),this.played=!0)},this.triggerPause=function(){this.currentBuffer.currentTime()<this.currentBuffer.duration()&&this.trigger("dataPause")},this.triggerSeekStart=function(){this.trigger("uiScrubStart")},this.triggerSeekEnd=function(){this.trigger("uiScrubEnd")},this.advanceStream=function(){this.triggerTrackEnd();if(!this.nextTrack()){this.potentialReplay=!0,this.triggerPlaylistEnd();return}if(this.currentTrackStitched()){this.currentTrackIndex++,this.triggerTrackStart();return}this.currentBuffer.src({src:this.nextTrack().source,type:this.nextTrack().contentType||this.attr.defaultContentType}),this.currentTrackIndex++,this.triggerTrackStart(),this.currentBuffer.load(),this.currentBuffer.ready(this.currentBuffer.play)}}var t=e("flight/lib/component"),n=e("data/players/with_common_player");return t(n,r)}),define("data/playback_lapse",["require","flight/lib/component"],function(e){function n(){this.attributes({minimumPlaybackLapseMs:1e4}),this.resetPlaybackLapseMs=function(){this.playbackLapseMs=0},this.scrubEnd=function(){this.on(document,"dataTimeUpdate",this.timeUpdate)},this.scrubStart=function(){this.off(document,"dataTimeUpdate",this.timeUpdate),this.lastTimeUpdate=undefined},this.timeUpdate=function(e,t){if(this.lastTimeUpdate===undefined){this.lastTimeUpdate=t.currentTime;return}this.playbackLapseMs+=1e3*(t.currentTime-this.lastTimeUpdate),this.lastTimeUpdate=t.currentTime,this.playbackLapseMs>this.attr.minimumPlaybackLapseMs&&this.triggerPlaybackLapse()},this.trackStart=function(e,t){if(this.currentTrackIndex===t.trackIndex)return;this.currentTrackIndex=t.trackIndex,this.resetPlaybackLapseMs(),this.lastTimeUpdate=0},this.trackEnd=function(){this.playbackLapseMs>0&&this.triggerPlaybackLapse(),this.lastTimeUpdate=undefined},this.triggerPlaybackLapse=function(){this.trigger("dataPlaybackLapse",{playback_lapse_ms:Math.round(this.playbackLapseMs)}),this.resetPlaybackLapseMs()},this.after("initialize",function(){this.on(document,"dataTimeUpdate",this.timeUpdate),this.on(document,"dataTrackEnd",this.trackEnd),this.on(document,"dataTrackStart",this.trackStart),this.on(document,"uiScrubEnd",this.scrubEnd),this.on(document,"uiScrubStart",this.scrubStart)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/call_to_action",["require","flight/lib/component","utils/utils","utils/i18n"],function(e){function i(){this.attributes({textNodeSelector:".call-to-action"}),this.callToActionClicked=function(){this.type&&this.ctaLink&&(this.trigger("uiCtaClicked",{type:this.type,url:this.ctaLink}),this.trigger("uiPause"))},this.updateCallToAction=function(e,t){var i=this.select("textNodeSelector");i.html("");var s=t.trackCtas.visit,o=t.trackCtas.watchNow;this.ctaLink=s||o,this.type=undefined;if(this.ctaLink){var u,a=n.getUrlMetadata(this.ctaLink),f=a.hostname;f.indexOf("www.")===0&&(f=f.substr(4)),s?(u=r("Visit %{hostname}",{hostname:f}),this.type="visit"):(u=r("Watch now at %{hostname}",{hostname:f}),this.type="watchNow");var l=$("<a target='_blank'></a>");l.attr("href",this.ctaLink),l.text(u),i.append(l),this.$node.show(),this.trigger("uiCtaImpression",{type:this.type,url:this.ctaLink})}else this.$node.hide()},this.after("initialize",function(){this.on(document,"dataTrackStart",this.updateCallToAction),this.on("click",this.callToActionClicked)})}var t=e("flight/lib/component"),n=e("utils/utils"),r=e("utils/i18n");return t(i)}),define("ui/controls/full_screen_button",["require","flight/lib/component"],function(e){function n(){this.fullScreenClicked=function(){this.$node.hasClass("expand")?this.trigger("uiEnterFullScreen"):this.trigger("uiExitFullScreen")},this.enterFullScreen=function(){this.$node.removeClass("expand").addClass("shrink")},this.exitFullScreen=function(){this.$node.removeClass("shrink").addClass("expand")},this.after("initialize",function(){this.on("click",this.fullScreenClicked),this.on(document,"dataEnterFullScreen",this.enterFullScreen),this.on(document,"dataExitFullScreen",this.exitFullScreen)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/mute_button",["require","flight/lib/component"],function(e){function n(){this.muteButtonClicked=function(){this.$node.hasClass("sound-on")?this.trigger("uiMute"):this.trigger("uiUnmute")},this.muted=function(){this.$node.removeClass("sound-on").addClass("sound-off")},this.unmuted=function(){this.$node.removeClass("sound-off").addClass("sound-on")},this.after("initialize",function(){this.on("click",this.muteButtonClicked),this.on(document,"dataMute",this.muted),this.on(document,"dataUnmute",this.unmuted)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/play_pause_button",["require","flight/lib/component"],function(e){function n(){this.playPauseClicked=function(){this.$node.hasClass("play")?this.trigger("uiPlay"):this.trigger("uiPause")},this.play=function(){this.show(),this.$node.removeClass("play").addClass("pause")},this.pause=function(){this.show(),this.$node.addClass("play").removeClass("pause")},this.playlistEnd=function(){this.hide(),this.$node.addClass("play").removeClass("pause")},this.hide=function(){this.$node.hide()},this.show=function(){this.$node.show()},this.timeUpdate=function(e,t){t.currentTime!==t.duration&&this.show()},this.after("initialize",function(){this.on("click",this.playPauseClicked),this.on(document,"dataPlay dataReplay",this.play),this.on(document,"dataPause",this.pause),this.on(document,"dataTrackStart",this.play),this.on(document,"dataPlaylistEnd",this.playlistEnd),this.on(document,"dataTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/replay_button",["require","flight/lib/component"],function(e){function n(){this.replayButtonClicked=function(){this.trigger("uiReplay")},this.show=function(){this.$node.show()},this.hide=function(){this.$node.hide()},this.timeUpdate=function(e,t){t.currentTime!==t.duration&&this.hide()},this.after("initialize",function(){this.on("click",this.replayButtonClicked),this.on(document,"dataPlaylistEnd",this.show),this.on(document,"dataReplay",this.hide),this.on(document,"dataTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/scrubber",["require","flight/lib/component"],function(e){function n(){this.attributes({scrubberThumbSelector:".scrubber-thumb",scrubberTrackPlayedSelector:".scrubber-track-played"}),this.getProgressFromEvent=function(e){var t=e.pageX-this.getElementOffset();return Math.max(Math.min(t/this.getElementWidth(),1),0)||0},this.getElementOffset=function(){return this.hasNonsensicalFullscreenWidths()?Math.round(this.$node.get(0).getBoundingClientRect().left*100):this.$node.offset().left},this.getElementWidth=function(){return this.hasNonsensicalFullscreenWidths()?Math.round(this.$node.get(0).getBoundingClientRect().width*100):this.$node.width()},this.hasNonsensicalFullscreenWidths=function(){return window.self!==window.top&&this.$node.get(0)&&this.$node.get(0).offsetWidth<this.$node.get(0).clientWidth},this.mouseDown=function(e){this.scrubberGrab(e)},this.resetScrubber=function(e){this.off(document,"mousemove"),this.off(document,"mouseup"),this.setProgress(0),e==="ad"?this.$node.hide():this.$node.show()},this.scrubberGrab=function(e){this.on(document,"mousemove",this.scrubberMove),this.on(document,"mouseup",this.scrubberRelease),this.trigger("uiScrubStart"),this.scrubberMove(e)},this.scrubberMove=function(e){var t=this.getProgressFromEvent(e);this.setProgress(t),this.trigger("uiScrub",{percentage:t})},this.scrubberRelease=function(){this.off(document,"mousemove"),this.off(document,"mouseup"),this.trigger("uiScrubEnd")},this.setProgress=function(e){var t=e*100+"%",n=this.select("scrubberTrackPlayedSelector"),r=this.select("scrubberThumbSelector");n.width(t),r.css("left",t)},this.timeUpdate=function(e,t){this.setProgress(t.currentTime/t.duration)},this.trackStart=function(e,t){this.resetScrubber(t.trackType)},this.after("initialize",function(){this.on("mousedown",this.mouseDown),this.on(document,"dataTimeUpdate",this.timeUpdate),this.on(document,"dataTrackStart",this.trackStart)})}var t=e("flight/lib/component");return t(n)}),define("ui/with_formatters",[],function(){return function(){this.formatMinutesSeconds=function(e){e=Math.round(e);var t=e%60,n=(e-t)/60;return t=t<10?"0"+t:t,n+":"+t}}}),define("ui/with_timer",["require","flight/lib/compose","utils/i18n","ui/with_formatters"],function(e){function i(){t.mixin(this,[r]),this.attributes({countdownSelector:".time-display-countdown",progressSelector:".time-display-progress"}),this.updateTime=function(e,t){t.trackType==="ad"?(this.countdownDisplay.text(n("Video in %{time}",{time:this.formatMinutesSeconds(t.duration-t.currentTime)})),this.countdownDisplay.show(),this.progressDisplay.hide(),this.progressDisplay.text("")):(this.progressDisplay.text(this.formatMinutesSeconds(t.currentTime)+" / "+this.formatMinutesSeconds(t.duration)),this.progressDisplay.show(),this.countdownDisplay.hide(),this.countdownDisplay.text(""))},this.trackStart=function(){this.countdownDisplay.hide(),this.countdownDisplay.text(""),this.progressDisplay.hide(),this.progressDisplay.text("")},this.after("initialize",function(){this.countdownDisplay=this.select("countdownSelector"),this.progressDisplay=this.select("progressSelector"),this.on(document,"dataTimeUpdate",this.updateTime),this.on(document,"dataTrackStart",this.trackStart)})}var t=e("flight/lib/compose"),n=e("utils/i18n"),r=e("ui/with_formatters");return i}),define("ui/player_controls",["require","flight/lib/component","ui/controls/call_to_action","ui/controls/full_screen_button","ui/controls/mute_button","ui/controls/play_pause_button","ui/controls/replay_button","ui/controls/scrubber","ui/with_timer"],function(e){function f(){this.attributes({callToActionSelector:".call-to-action-container",fullScreenButtonSelector:".full-screen-button",muteButtonSelector:".sound-button",playPauseButtonSelector:".play-button",replayButtonSelector:".replay-button",scrubberSelector:".scrubber",tweetDetailsSelector:".video-details",twitterButtonSelector:".twitter-button",controlHideDelay:1e3,hideStatus:!1,hoverControlHideDelay:2e3,status:undefined,user:undefined}),this.showControls=function(e,t){clearTimeout(this.hideControlsTimeout),typeof t!="undefined"&&(this.pinned=t),!this.pinned&&typeof e!="undefined"&&(this.hideControlsTimeout=setTimeout(this.hideControls.bind(this),e)),this.$node.addClass("visible-controls")},this.hideControls=function(){clearTimeout(this.hideControlsTimeout),this.$node.removeClass("visible-controls")},this.disable=function(){this.$node.hide()},this.enable=function(){this.$node.show()},this.render=function(){var e=this.attr.status,t=this.attr.user;if(!e||!t)return;var n="https://twitter.com/"+t.screen_name+"/status/"+e.id_str;this.select("twitterButtonSelector").attr("href",n)},this.onClickTwitterButton=function(e){this.attr.hideStatus?this.trigger("uiPause"):(e.preventDefault(),this.trigger("uiShowEmbeddedTweet"))},this.after("initialize",function(){n.attachTo(this.select("callToActionSelector")),r.attachTo(this.select("fullScreenButtonSelector")),i.attachTo(this.select("muteButtonSelector")),s.attachTo(this.select("playPauseButtonSelector")),o.attachTo(this.select("replayButtonSelector")),u.attachTo(this.select("scrubberSelector")),this.on("click",{twitterButtonSelector:this.onClickTwitterButton}),this.on("mouseover mousemove",this.showControls.bind(this,this.attr.hoverControlHideDelay,undefined)),this.on(document,"dataPlaylistEnd dataPause",this.showControls.bind(this,undefined,!0)),this.on(document,"dataTrackStart dataPlay dataReplay",this.showControls.bind(this,this.attr.controlHideDelay,!1)),this.on(document,"dataHideEmbeddedTweet",this.enable),this.on(document,"dataShowEmbeddedTweet",this.disable),this.render(),this.$node.show()})}var t=e("flight/lib/component"),n=e("ui/controls/call_to_action"),r=e("ui/controls/full_screen_button"),i=e("ui/controls/mute_button"),s=e("ui/controls/play_pause_button"),o=e("ui/controls/replay_button"),u=e("ui/controls/scrubber"),a=e("ui/with_timer");return t(f,a)}),define("ui/poster_image",["require","flight/lib/component","ui/with_formatters","ui/with_poster_image_loader"],function(e){function i(){this.attributes({badge:".poster-badge",embeddedInfo:".embedded-info",playIcon:".poster-play-icon",publisherLink:".embedded-publisher-link",twitterButton:".twitter-button",hideStatus:!1,duration:undefined}),this.posterClicked=function(){this.hide(),this.trigger("uiShow"),this.trigger("uiPlay")},this.hide=function(){this.$node.hide(),this.trigger("dataHidePoster")},this.playbackError=function(){this.off("click"),this.hide()},this.onClickTwitterButton=function(e){e.stopPropagation(),this.attr.hideStatus||(e.preventDefault(),this.trigger("uiShowEmbeddedTweet"))},this.renderBadge=function(){var e=parseFloat(this.attr.duration);e>0&&isFinite(e)&&this.select("badge").html(this.formatMinutesSeconds(e)).show()},this.hideOverlayElements=function(){this.select("embeddedInfo").hide(),this.select("playIcon").hide()},this.showOverlayElements=function(){this.select("embeddedInfo").show(),this.select("playIcon").show()},this.after("initialize",function(){this.loadPosterImage(),this.renderBadge(),this.on("click",this.posterClicked),this.on(document,"dataPlaybackError dataFlashNotInstalledError",this.playbackError),this.on(document,"uiStepForward uiStepBackward dataPlay",this.hide),this.on(this.select("publisherLink"),"click",function(e){e.stopPropagation()}),this.on(this.select("twitterButton"),"click",this.onClickTwitterButton),this.on(document,"dataShowEmbeddedTweet",this.hideOverlayElements),this.on(document,"dataHideEmbeddedTweet",this.showOverlayElements),this.$node.show()})}var t=e("flight/lib/component"),n=e("ui/with_formatters"),r=e("ui/with_poster_image_loader");return t(i,n,r)}),define("data/promoted_events",["require","flight/lib/component","data/with_track_data"],function(e){function r(){this.attributes({playlistIdentifier:undefined}),this.promotedQuartileEvents=["playback_0","playback_25","playback_50","playback_75","playback_95","playback_100"],this.promotedQuartileEvents.forEach(function(e){this[e]=function(){var t=this.currentTrack(),n=t.type==="video"?"content":"ad";this.triggerPromotedContentEvent("video_"+n+"_"+e)}},this),this.video_play=function(){if(this.videoPlayEventFired)return;this.triggerPromotedContentEvent("video_play"),this.videoPlayEventFired=!0},this.video_replay=function(){this.triggerPromotedContentEvent("video_replay")},this.cta_click=function(e,t){var n;t.type==="visit"?n="video_cta_url_click":n="video_cta_watch_click",this.triggerPromotedContentEvent(n,{url:t.url})},this.triggerPromotedContentEvent=function(e,t){var n=$.extend({},{playlist_url:this.attr.playlistIdentifier},this.getPlaylistData(),t),r=this.currentTrack();r&&$.extend(n,{video_uuid:r.contentId,video_type:r.type});var i={amplify_details:n};n.card_event=JSON.stringify(i),n.name=e,this.trigger("dataPromotedContentEvent",n)},this.after("initialize",function(){this.videoPlayEventFired=!1,this.on(document,"dataStart",this.video_play),this.on(document,"dataStart",this.playback_0),this.on(document,"dataFirstQuartile",this.playback_25),this.on(document,"dataMidpoint",this.playback_50),this.on(document,"dataThirdQuartile",this.playback_75),this.on(document,"dataPercentile95",this.playback_95),this.on(document,"dataComplete",this.playback_100),this.on(document,"dataReplay",this.video_replay),this.on(document,"uiCtaClicked",this.cta_click)})}var t=e("flight/lib/component"),n=e("data/with_track_data");return t(r,n)}),define("data/players/video_player",["require","flight/lib/component","data/players/with_common_player","utils/utils","videojs"],function(e){function s(){this.attributes({autoBuffer:!1,autoPlay:!1,defaultContentType:"video/mp4"}),this.onTracksLoaded=function(){if(this.attr.autoBuffer||this.playOnTracksLoaded)this.setupNextBuffer(),this.playOnTracksLoaded&&this.advanceStream()},this.advanceStream=function(){this.currentBuffer&&this.triggerTrackEnd();if(!this.nextTrack()){r.isFirefox()||this.currentBuffer.pause(),this.triggerPlaylistEnd();return}if(this.currentTrackStitched()){this.currentTrackIndex++,this.triggerTrackStart();return}var e=!1;this.currentBuffer&&(e=this.currentBuffer.muted(),this.teardownBuffer(this.currentBuffer)),this.currentBuffer=this.nextBuffer,this.currentBuffer.muted(e),this.currentTrackIndex++,this.setupBufferEvents(this.currentBuffer),$(this.currentBuffer.el()).show(),this.triggerTrackStart(),this.currentBuffer.ready(this.currentBuffer.play),this.setupNextBuffer()},this.setupBufferEvents=function(e){e.on("ended",this.advanceStream.bind(this)),e.on("timeupdate",this.timeUpdate.bind(this))},this.createVideoJSElement=function(e){return i(e)},this.setupNextBuffer=function(){if(!this.nextTrack()||this.currentTrackStitched()){this.nextBuffer=undefined;return}var e=$("<video preload='auto' class='video-js vjs-default-skin'></video>"),t=$("<source />");t.attr({src:this.nextTrack().source,type:this.nextTrack().contentType||this.attr.defaultContentType}),e.append(t),this.$node.append(e),this.nextBuffer=this.createVideoJSElement(e.get(0)),this.nextBuffer.on("error",this.triggerPlaybackError.bind(this)),this.nextBuffer.width("100%"),this.nextBuffer.height("100%"),$(this.nextBuffer.el()).hide()},this.play=function(){this.tracksLoaded?this.currentBuffer?this.currentBuffer.paused()&&(this.currentBuffer.play(),this.trigger("dataPlay")):(this.nextBuffer||this.setupNextBuffer(),this.advanceStream()):this.playOnTracksLoaded=!0},this.pause=function(){this.currentBuffer.paused()||(this.currentBuffer.pause(),this.trigger("dataPause"))},this.playPause=function(){this.currentBuffer?this.currentBuffer.paused()?this.currentBuffer.ended()&&!this.nextTrack()?this.replay():this.play():this.pause():this.play()},this.mute=function(){this.currentBuffer.muted()||(this.currentBuffer.muted(!0),this.trigger("dataMute"))},this.unmute=function(){this.currentBuffer.muted()&&(this.currentBuffer.muted(!1),this.trigger("dataUnmute"))},this.scrub=function(e,t){var n=this.currentTrackDuration()*t.percentage+this.currentTrack().offset;n=Math.min(n,this.currentBuffer.duration()-.5),this.currentBuffer.currentTime(n)},this.scrubEnd=function(){var e=this.currentBuffer.currentTime();e<this.positionWhenScrubbingBegan&&this.trigger("dataRewind"),this.wasPlayingBeforeScrubStart&&this.currentBuffer.play()},this.scrubStart=function(){this.wasPlayingBeforeScrubStart=!this.currentBuffer.paused(),this.positionWhenScrubbingBegan=this.currentBuffer.currentTime(),this.currentBuffer.pause()},this.replay=function(){this.currentBuffer.currentTime(this.currentTrack().offset),this.currentBuffer.play(),this.trigger("dataReplay")},this.stepForward=function(){this.currentBuffer||(this.nextBuffer||this.setupNextBuffer(),this.advanceStream()),this.pause(),this.stepRelative(.5)},this.stepBackward=function(){this.currentBuffer||(this.nextBuffer||this.setupNextBuffer(),this.advanceStream()),this.pause(),this.stepRelative(-0.5)},this.isHtml5Player=function(){return $(this.currentBuffer.el()).children("video").length>0},this.stepRelative=function(e){var t=this.currentBuffer.currentTime(),n=this.currentBuffer.duration(),r=t+e;r=Math.max(0,r),r=Math.min(r,n),this.currentBuffer.currentTime(r),this.isHtml5Player()||(this.currentBuffer.one("playing",function(){this.currentBuffer.pause(),setTimeout(function(){var i=this.currentBuffer.currentTime()!==t,s=r>0&&r<n,o=e+(e>0?.25:-0.25);i?this.timeUpdate():s&&this.stepRelative(o)}.bind(this),0)}.bind(this)),this.currentBuffer.play())},this.showEmbeddedTweet=function(){this.currentBuffer.paused()?this.playingBeforeEmbeddedTweet=!1:(this.pause(),this.playingBeforeEmbeddedTweet=!0)},this.hideEmbeddedTweet=function(){this.playingBeforeEmbeddedTweet&&this.play()},this.after("initialize",function(){i.options.flash.swf="swf/video-js.swf",this.on(document,"uiMute",this.mute),this.on(document,"uiPlay",this.play),this.on(document,"uiPlayPause",this.playPause),this.on(document,"uiPause",this.pause),this.on(document,"uiReplay",this.replay),this.on(document,"uiScrub",this.scrub),this.on(document,"uiScrubEnd",this.scrubEnd),this.on(document,"uiScrubStart",this.scrubStart),this.on(document,"uiUnmute",this.unmute),this.on(document,"uiStepForward",this.stepForward),this.on(document,"uiStepBackward",this.stepBackward),this.on(document,"dataShowEmbeddedTweet",this.showEmbeddedTweet),this.on(document,"dataHideEmbeddedTweet",this.hideEmbeddedTweet),this.playOnTracksLoaded=this.attr.autoPlay})}var t=e("flight/lib/component"),n=e("data/players/with_common_player"),r=e("utils/utils"),i=e("videojs");return t(n,s)}),define("data/with_playback_latency",[],function(){function e(){this.latencyData=function(){return{is_replay:this.isReplay,latency:this.newDate()-this.latencyStartDate}},this.newDate=function(){return new Date},this.resetLatencyStartDate=function(){this.latencyStartDate=this.newDate()},this.resetIsReplay=function(e,t){if(this.latencyTrackIndex===t.trackIndex)return;this.latencyTrackIndex=t.trackIndex,this.isReplay=!1},this.setReplay=function(){this.resetLatencyStartDate(),this.isReplay=!0},this.after("initialize",function(){this.on(document,"dataTrackStart",this.resetIsReplay),this.on(document,"uiShow",this.resetLatencyStartDate),this.on(document,"dataTrackEnd",this.resetLatencyStartDate),this.on(document,"dataReplay",this.setReplay)})}return e}),define("data/video_scribe",["require","flight/lib/component","data/with_track_data","data/with_playback_latency"],function(e){function i(){this.attributes({playlistIdentifier:undefined,element:"platform_amplify_card"}),this.scribeActions=["show","play","pause","replay","mute","unmute","playback_25","playback_50","playback_75","playback_95","playback_100","playback_lapse","playback_retention","error","full_screen","shrink"],this.scribeActions.forEach(function(e){this[e]=function(t,n){this.triggerScribeEvent(e,n)}},this),this.playback_0=function(){this.triggerScribeEvent("playback_0",this.latencyData())},this.error=function(){this.triggerScribeEvent("error",{error_message:"The media could not be played."})},this.ctaImpression=function(e,t){var n;t.type==="visit"?n="cta_url_impression":n="cta_watch_impression",this.triggerScribeEvent(n,{cta_url:t.url})},this.ctaClick=function(e,t){var n;t.type==="visit"?n="cta_url_click":n="cta_watch_click",this.triggerScribeEvent(n,{cta_url:t.url})},this.dynamicAdRequestMismatch=function(e,t){this.triggerScribeEvent("dynamic_preroll_request_mismatch",{error_message:t.requestedAdId,preroll_uuid:t.servedAdId},"dynamic_video_ads")},this.triggerScribeEvent=function(e,t,n){var r={customScribe:{element:n||this.attr.element,action:e,itemData:{playlist_url:this.attr.playlistIdentifier}}},i=$.extend({},this.currentTrackData(),this.getPlaylistData(),t||{});r=$.extend(!0,{},r,{customScribe:{itemData:i}}),window.DEBUG&&window.DEBUG.enabled&&window.console&&window.console.log("scribe",r),this.trigger("dataScribeEvent",r)},this.after("initialize",function(){this.on(document,"uiShow",this.show),this.on(document,"dataPlay",this.play),this.on(document,"dataPause",this.pause),this.on(document,"dataMute",this.mute),this.on(document,"dataUnmute",this.unmute),this.on(document,"dataReplay",this.replay),this.on(document,"dataStart",this.playback_0),this.on(document,"dataFirstQuartile",this.playback_25),this.on(document,"dataMidpoint",this.playback_50),this.on(document,"dataThirdQuartile",this.playback_75),this.on(document,"dataPercentile95",this.playback_95),this.on(document,"dataComplete",this.playback_100),this.on(document,"dataPlaybackLapse",this.playback_lapse),this.on(document,"dataPlaybackRetention",this.playback_retention),this.on(document,"dataPlaybackError",this.error),this.on(document,"dataEnterFullScreen",this.full_screen),this.on(document,"dataExitFullScreen",this.shrink),this.on(document,"dataDynamicAdRequestMismatch",this.dynamicAdRequestMismatch),this.on(document,"uiCtaImpression",this.ctaImpression),this.on(document,"uiCtaClicked",this.ctaClick)})}var t=e("flight/lib/component"),n=e("data/with_track_data"),r=e("data/with_playback_latency");return t(i,r,n)}),define("data/web_intent",["require","flight/lib/component"],function(e){function n(){this.getWindow=function(){return window},this.handleWebIntent=function(e,t){var n=this.getWindow(),r=Math.min(550,n.screen.width),i=Math.min(520,n.screen.height),s=["width="+r,"height="+i,"left="+Math.round((n.screen.width-r)/2),"top="+Math.round((n.screen.height-i)/2),"personalbar=0","toolbar=0","location=1","scrollbars=1","resizable=1"].join(","),o=n.open(t.url,"twitter_video_intent",s);o.focus()},this.after("initialize",function(){this.on(document,"uiWebIntent",this.handleWebIntent)})}var t=e("flight/lib/component");return t(n)}),define("data/playback_retention",["require","flight/lib/component"],function(e){function n(){this.reset=function(){this.furthestTime=undefined,this.currentTrackDuration=undefined,this.alreadySent=!1},this.timeUpdate=function(e,t){!t.paused&&(this.furthestTime==null||t.currentTime>this.furthestTime)&&(this.currentTrackDuration=t.duration,this.furthestTime=t.currentTime)},this.triggerPlaybackRetention=function(){!this.alreadySent&&this.furthestTime!=null&&(this.alreadySent=!0,this.trigger("dataPlaybackRetention",{playback_retention_ms:Math.floor(this.furthestTime*1e3),video_duration_ms:Math.floor(this.currentTrackDuration*1e3)}))},this.after("initialize",function(){this.on(window,"beforeunload",this.triggerPlaybackRetention),this.on(document,"dataTrackEnd",this.triggerPlaybackRetention),this.on(document,"dataReplay dataTrackStart",this.reset),this.on(document,"dataTimeUpdate",this.timeUpdate),this.reset()})}var t=e("flight/lib/component");return t(n)}),define("ui/player",["require","data/beacons","ui/embedded_info","ui/embedded_tweet","ui/error_message","data/flagpoles","data/players/mobile_video_player","data/playback_lapse","ui/player_controls","ui/poster_image","data/promoted_events","data/players/video_player","data/video_scribe","data/web_intent","data/playback_retention","flight/lib/component","utils/utils"],function(e){function g(){this.attributes({backgroundPlayPauseSelector:".bg-play-pause",embeddedInfoSelector:".embedded-info",embeddedTweetSelector:".embedded-tweet",errorMessageSelector:".error-msg-container",playerControlsSelector:".player-controls",playerWrapperSelector:".player-wrapper",posterImageSelector:".poster-image-container",autoBuffer:!1,autoPlay:!1,embedded:!1,hideStatus:!1,dynamicAd:!1,jsonUrl:undefined,playlist:undefined,posterImageUrl:undefined,duration:undefined,status:undefined,statusTimestamp:undefined,user:undefined,videoInfo:undefined,vmapUrl:undefined,mediaId:undefined}),this.enterFullScreen=function(){var e=this.$node.get(0);e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},this.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},this.fullScreenChange=function(){this.triggerFullScreenChange()},this.fullScreenEnabled=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},this.triggerFullScreenChange=function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;e?(this.$node.addClass("full-screen"),this.trigger("dataEnterFullScreen")):(this.$node.removeClass("full-screen"),this.trigger("dataExitFullScreen"))},this.handleSpaceBar=function(e){e.which===32&&(e.stopPropagation(),e.preventDefault(),this.trigger("uiPlayPause"))},this.onBackgroundPlayPauseClick=function(e){$(e.target).is(this.attr.backgroundPlayPauseSelector)&&this.trigger("uiPlayPause")},this.triggerPlaylistLoad=function(){this.trigger("uiLoadPlaylist",{vmapUrl:this.attr.vmapUrl,jsonUrl:this.attr.jsonUrl,playlist:this.attr.playlist,loadDynamicAd:this.attr.dynamicAd})},this.after("initialize",function(){i.attachTo(this.select("errorMessageSelector"),{posterImageUrl:this.attr.posterImageUrl});if(m.isEnvironmentUnsupportedMobile()){this.trigger("dataEnvironmentError");return}var e,v;this.attr.mediaId?(e=this.attr.mediaId,v="video_player"):(e=this.attr.vmapUrl||this.attr.jsonUrl,v="platform_amplify_card"),h.attachTo(document,{playlistIdentifier:e,element:v}),l.attachTo(document,{playlistIdentifier:e}),m.isEnvironmentSupportedMobile()?(o.attachTo(this.select("playerWrapperSelector"),{posterImageUrl:this.attr.posterImageUrl}),this.triggerPlaylistLoad()):(this.attr.autoPlay||f.attachTo(this.select("posterImageSelector"),{hideStatus:this.attr.hideStatus,posterImageUrl:this.attr.posterImageUrl,duration:this.attr.duration}),c.attachTo(this.select("playerWrapperSelector"),{autoBuffer:this.attr.autoBuffer,autoPlay:this.attr.autoPlay}),a.attachTo(this.select("playerControlsSelector"),{hideStatus:this.attr.hideStatus,status:this.attr.status,user:this.attr.user})),t.attachTo(document);var g=this.attr.embedded&&this.attr.status&&this.attr.user&&this.attr.videoInfo;g?(this.$node.addClass("embedded"),n.attachTo(this.select("embeddedInfoSelector"),{status:this.attr.status,user:this.attr.user,videoInfo:this.attr.videoInfo})):this.select("embeddedInfoSelector").remove(),!g||this.attr.hideStatus?this.select("embeddedTweetSelector").remove():r.attachTo(this.select("embeddedTweetSelector"),{status:this.attr.status,statusTimestamp:this.attr.statusTimestamp,user:this.attr.user,videoInfo:this.attr.videoInfo}),s.attachTo(document),u.attachTo(document),p.attachTo(document),d.attachTo(document),this.fullScreenEnabled()&&this.$node.addClass("full-screen-enabled"),this.attr.embedded&&this.$node.addClass("embedded"),this.on(document,"uiEnterFullScreen",this.enterFullScreen),this.on(document,"uiExitFullScreen",this.exitFullScreen),this.on(document,"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",this.fullScreenChange),this.on("click",this.onBackgroundPlayPauseClick),this.on(document,"keydown",this.handleSpaceBar),m.isEnvironmentSupportedMobile()||(this.on(document,"uiShow",this.triggerPlaylistLoad),this.attr.autoPlay?this.trigger("uiShow"):this.attr.autoBuffer&&this.triggerPlaylistLoad())})}var t=e("data/beacons"),n=e("ui/embedded_info"),r=e("ui/embedded_tweet"),i=e("ui/error_message"),s=e("data/flagpoles"),o=e("data/players/mobile_video_player"),u=e("data/playback_lapse"),a=e("ui/player_controls"),f=e("ui/poster_image"),l=e("data/promoted_events"),c=e("data/players/video_player"),h=e("data/video_scribe"),p=e("data/web_intent"),d=e("data/playback_retention"),v=e("flight/lib/component"),m=e("utils/utils");return v(g)}),define("utils/vmap_loader",["require","utils/utils","jquery"],function(e){var t=e("utils/utils"),n=e("jquery"),r="vmapLoader",i=["nowthismedia.com","nowthisnews.com","cliptamatic.com","snappytv.com","amp.twimg.com","amp-staging.twimg.com","grabyo.com","umrss.com","unicornmedia.com","vevo.com","mlb.com","yesnetwork.com"],s=function(e){function t(t,i,s){e.parseFlashLoadedVmap_vmapLoader_loadSuccess=function(e){s.success(decodeURIComponent(e))},e.parseFlashLoadedVmap_vmapLoader_loadError=function(e){s.fail(decodeURIComponent(e))};var o=t.getAttribute("data-fallback-player"),u=n.param({width:1,height:1,vmapUrl:i});r(o,t,u)}function r(e,t,r){var i=n(document.createElement("object")),s={movie:e,allowScriptAccess:"sameDomain",allowNetworking:"all",wmode:"opaque",quality:"high",bgcolor:"#000000",flashvars:r};i.attr({id:"vmapLoader",name:"vmapLoader",data:e,width:"1",height:"1",type:"application/x-shockwave-flash"});for(var o in s){var u=n(document.createElement("param"));u.attr({name:o,value:s[o]}),i.append(u)}n(t).replaceWith(i)}return t.name=t.name||"FlashPlayer",t.fn=t.prototype,t}(this);return{isOldIE:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("msie")!==-1?parseInt(e.split("msie")[1]):-1;return t!==-1&&t<10},isLocal:function(){var e=t.getUrlMetadata(window.location);if(e.host==="localhost"||e.port==="8080")return!0},isValidUrl:function(e,n){if(this.isLocal())return!0;var r=t.getUrlMetadata(n);if(r.protocol!=="https:")return!1;for(var i=0;i<e.length;i++){var s=new RegExp("^(.*\\.)?"+e[i]+"$");if(r.hostname.match(s))return!0}return!1},get:function(e,o,u){if(!this.isValidUrl(i,e)){u.fail("URL_NOT_WHITELISTED");return}if(this.isOldIE())if(!t.hasFlash())u.fail("FLASH_NOT_INSTALLED");else{var a=document.createElement("div");a.setAttribute("id",r),a.setAttribute("data-fallback-player",o),document.body.appendChild(a),new s(a,e,u)}else n.ajax(e).done(function(e){u.success(e)}).fail(function(){u.fail()})}}}),function(){function S(e,t){this.code=e,this.message=t||x[e]}function T(e){var t=e.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(t){var n=0;for(var r=0,i=t.length;r<i;r++)t[r]=="(:"?n++:t[r]==":)"&&n?n--:!n&&!/^\s/.test(t[r])&&(this[this.length++]=t[r]);if(n)throw new S("XPST0003","Unclosed comment")}}function N(){}function C(e,t,n,r){this.staticContext=e,this.item=t,this.scope=n||{},this.stack={},this.DOMAdapter=r||new N;var i=new o,s=i.getTimezoneOffset();this.dateTime=new Kn(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()+i.getMilliseconds()/1e3,-s),this.timezone=new Br(0,a.abs(~~(s/60)),a.abs(s%60),0,s>0)}function k(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}function D(e,t,n){A[e]=n,O[e]=t}function P(e,t){M[e]=t}function H(e,t){var n=new T(e),r=I(n,t);if(!n.eof())throw new S("XPST0003","Unexpected token beyond end of query");if(!r)throw new S("XPST0003","Expected expression");this.internalExpression=r}function B(){}function j(){}function F(){this.items=[]}function I(e,t){var n;if(e.eof()||!(n=R(e,t)))return;var r=new F;r.items.push(n);while(e.peek()==","){e.next();if(e.eof()||!(n=R(e,t)))throw new S("XPST0003","Expected expression");r.items.push(n)}return r}function q(){}function R(e,t){if(!e.eof())return $(e,t)||z(e,t)||K(e,t)||bt(e,t)}function U(){this.bindings=[],this.returnExpr=null}function z(e,t){if(e.peek()=="for"&&e.peek(1).substr(0,1)=="$"){e.next();var n=new U,r;do n.bindings.push(X(e,t));while(e.peek()==","&&e.next());if(e.peek()!="return")throw new S("XPST0003","Expected 'return' token in for expression");e.next();if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected return statement operand in for expression");return n.returnExpr=r,n}}function W(e,t,n,r){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=r}function X(e,t){var n=e.peek().substr(1).match(Ft);if(!n)throw new S("XPST0003","Expected binding in for expression");if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in for expression binding variable name");e.next();if(e.peek()!="in")throw new S("XPST0003","Expected 'in' token in for expression binding");e.next();var r;if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected in statement operand in for expression binding");return new W(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null,r)}function V(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function $(e,t){var n,r,i;if(e.peek()=="if"&&e.peek(1)=="("){e.next(2);if(e.eof()||!(n=I(e,t)))throw new S("XPST0003","Expected if statement operand in conditional expression");if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in for expression");e.next();if(e.peek()!="then")throw new S("XPST0003","Expected 'then' token in conditional if expression");e.next();if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected then statement operand in condional expression");if(e.peek()!="else")throw new S("XPST0003","Expected 'else' token in conditional if expression");e.next();if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected else statement operand in condional expression");return new V(n,r,i)}}function J(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function K(e,t){var n=e.peek();if((n=="some"||n=="every")&&e.peek(1).substr(0,1)=="$"){e.next();var r=new J(n),i;do r.bindings.push(G(e,t));while(e.peek()==","&&e.next());if(e.peek()!="satisfies")throw new S("XPST0003","Expected 'satisfies' token in quantified expression");e.next();if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected satisfies statement operand in quantified expression");return r.satisfiesExpr=i,r}}function Q(e,t,n,r){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=r}function G(e,t){var n=e.peek().substr(1).match(Ft);if(!n)throw new S("XPST0003","Expected binding in quantified expression");if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in quantified expression binding variable name");e.next();if(e.peek()!="in")throw new S("XPST0003","Expected 'in' token in quantified expression binding");e.next();var r;if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected in statement operand in quantified expression binding");return new Q(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null,r)}function Y(e,t,n){this.left=e,this.right=t,this.operator=n}function Z(e,t){var n,r;if(e.eof()||!(n=vn(e,t)))return;if(e.peek()in ot){var i=e.peek();e.next();if(e.eof()||!(r=vn(e,t)))throw new S("XPST0003","Expected second operand in comparison expression");return new Y(n,r,i)}return n}function et(e,t){var n=Mi(e.left.evaluate(t),t);if(!n.length)return new Un(!1);var r=Mi(e.right.evaluate(t),t);if(!r.length)return new Un(!1);var i=!1;for(var s=0,o=n.length,u,a;s<o&&!i;s++)for(var f=0,l=r.length,c,h;f<l&&!i;f++)a=n[s],h=r[f],u=a instanceof _r,c=h instanceof _r,u&&c?(a=Lr.cast(a),h=Lr.cast(h)):(u?h instanceof Br?a=Br.cast(a):h instanceof Dr?a=Dr.cast(a):h.primitiveKind&&(a=M[h.primitiveKind].cast(a)):c&&(a instanceof Br?h=Br.cast(h):a instanceof Dr?h=Dr.cast(h):a.primitiveKind&&(h=M[a.primitiveKind].cast(h))),a instanceof Fn&&(a=Lr.cast(a)),h instanceof Fn&&(h=Lr.cast(h))),i=rt[tt[e.operator]](a,h,t).valueOf();return new Un(i)}function nt(e,t){var n=Mi(e.left.evaluate(t),t);if(!n.length)return null;cn(t,n,"?","first operand of '"+e.operator+"'");var r=Mi(e.right.evaluate(t),t);if(!r.length)return null;cn(t,r,"?","second operand of '"+e.operator+"'");var i=n[0],s=r[0];return i instanceof _r&&(i=Lr.cast(i)),s instanceof _r&&(s=Lr.cast(s)),i instanceof Fn&&(i=Lr.cast(i)),s instanceof Fn&&(s=Lr.cast(s)),rt[e.operator](i,s,t)}function it(e,t){var n=e.left.evaluate(t);if(!n.length)return null;cn(t,n,"?","first operand of '"+e.operator+"'"),ln(t,n,ai,"first operand of '"+e.operator+"'");var r=e.right.evaluate(t);return r.length?(cn(t,r,"?","second operand of '"+e.operator+"'"),ln(t,r,ai,"second operand of '"+e.operator+"'"),st[e.operator](n[0],r[0],t)):null}function ut(e){this.left=e,this.items=[]}function ft(e,t){var n;if(e.eof()||!(n=ht(e,t)))return;if(e.peek()in at){var r=new ut(n),i;while((i=e.peek())in at){e.next();if(e.eof()||!(n=ht(e,t)))throw new S("XPST0003","Expected second operand in additive expression");r.items.push([i,n])}return r}return n}function lt(e){this.left=e,this.items=[]}function ht(e,t){var n;if(e.eof()||!(n=gn(e,t)))return;if(e.peek()in ct){var r=new lt(n),i;while((i=e.peek())in ct){e.next();if(e.eof()||!(n=gn(e,t)))throw new S("XPST0003","Expected second operand in multiplicative expression");r.items.push([i,n])}return r}return n}function pt(e,t){this.operator=e,this.expression=t}function vt(e,t){if(e.eof())return;if(e.peek()in dt){var n="+",r;while(e.peek()in dt)e.peek()=="-"&&(n=n=="-"?"+":"-"),e.next();if(e.eof()||!(r=gt(e,t)))throw new S("XPST0003","Expected operand in unary expression");return new pt(n,r)}return gt(e,t)}function mt(){}function gt(e,t){return Mt(e,t)}function yt(e){this.left=e,this.items=[]}function bt(e,t){var n;if(e.eof()||!(n=Et(e,t)))return;if(e.peek()!="or")return n;var r=new yt(n);while(e.peek()=="or"){e.next();if(e.eof()||!(n=Et(e,t)))throw new S("XPST0003","Expected second operand in logical expression");r.items.push(n)}return r}function wt(e){this.left=e,this.items=[]}function Et(e,t){var n;if(e.eof()||!(n=Z(e,t)))return;if(e.peek()!="and")return n;var r=new wt(n);while(e.peek()=="and"){e.next();if(e.eof()||!(n=Z(e,t)))throw new S("XPST0003","Expected second operand in logical expression");r.items.push(n)}return r}function St(){}function xt(e,t){if(!e.eof())return nn(e,t)||kt(e,t)}function Tt(e,t,n){var r;while(e.peek()=="["){e.next();if(e.eof()||!(r=I(e,t)))throw new S("XPST0003","Expected expression in predicate");n.predicates.push(r);if(e.peek()!="]")throw new S("XPST0003","Expected ']' token in predicate");e.next()}}function Nt(e,t){this.axis=e,this.test=t,this.predicates=[]}function kt(e,t){var n=e.peek(),r,i;if(e.peek(1)=="::"){if(!(n in Ct))throw new S("XPST0003","Unknown axis name: "+n);e.next(2);if(e.eof()||!(r=Dt(e,t)))throw new S("XPST0003","Expected node test expression in axis step");i=new Nt(n,r)}else if(n=="..")e.next(),i=new Nt("parent",new Pt("node"));else if(n=="@"){e.next();if(e.eof()||!(r=Dt(e,t)))throw new S("XPST0003","Expected node test expression in axis step");i=new Nt("attribute",r)}else{if(e.eof()||!(r=Dt(e,t)))return;i=new Nt(r instanceof Pt&&r.name=="attribute"?"attribute":"child",r)}return Tt(e,t,i),i}function Lt(e,t,n){for(var r;e;e=n(e,"nextSibling"))t.push(e),(r=n(e,"firstChild"))&&Lt(r,t,n)}function At(e,t,n){for(var r;e;e=n(e,"previousSibling"))(r=n(e,"lastChild"))&&At(r,t,n),t.push(e)}function Ot(){this.items=[]}function Mt(e,t){if(e.eof())return;var n="/",r="//",i=new Ot,s=e.peek(),o;if(s==r||s==n)e.next(),i.items.push(new on(null,"root",b)),s==r&&i.items.push(new Nt("descendant-or-self",new Pt("node")));if(e.eof()||!(o=xt(e,t))){if(s==n)return i.items[0];if(s==r)throw new S("XPST0003","Expected path step expression");return}i.items.push(o);while((s=e.peek())==n||s==r){s==r&&i.items.push(new Nt("descendant-or-self",new Pt("node"))),e.next();if(e.eof()||!(o=xt(e,t)))throw new S("XPST0003","Expected path step expression");i.items.push(o)}return i.items.length==1?i.items[0]:i}function _t(){}function Dt(e,t){if(!e.eof())return Bt(e,t)||It(e,t)}function Pt(e){this.name=e,this.args=[]}function Bt(e,t){var n=e.peek();if(e.peek(1)=="("){if(n in Ht){e.next(2);var r=new Pt(n);if(e.peek()!=")")n!="document-node"&&n!="element"&&n!="attribute"&&n!="processing-instruction"&&n!="schema-attribute"&&n=="schema-element";else{if(n=="schema-attribute")throw new S("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if(n=="schema-element")throw new S("XPST0003","Expected element declaration in 'schema-element' kind test")}if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in kind test");return e.next(),r}throw new S("XPST0003","Unknown '"+n+"' kind test")}}function jt(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function It(e,t){var n=e.peek().match(Ft);if(n){if(n[1]=="*"&&n[2]=="*")throw new S("XPST0003","Illegal use of *:* wildcard in name test");return e.next(),new jt(n[1]||null,n[2],n[1]?n[1]=="*"?"*":t.getURIForPrefix(n[1])||null:t.defaultElementNamespace)}}function qt(){}function Rt(e,t){if(!e.eof())return Xt(e,t)||zt(e,t)||un(e,t)||sn(e,t)||$t(e,t)}function Ut(e){this.expression=e}function zt(e,t){if(e.peek()=="("){e.next();var n=null;e.peek()!=")"&&(n=I(e,t));if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in parenthesized expression");return e.next(),new Ut(n)}}function Wt(){}function Xt(e,t){if(e.peek()==".")return e.next(),new Wt}function Vt(){}function $t(e,t){if(!e.eof())return Qt(e,t)||en(e,t)}function Jt(e){this.value=e}function Qt(e,t){var n=e.peek(),r=Gt(n);if(r)return e.next(),new Jt(r)}function Gt(e){var t=e.match(Kt);if(t){var n=Ir;if(t[5])n=ir;else if(t[2]||t[3])n=nr;return new n(+e)}}function Yt(e){this.value=e}function en(e,t){var n=e.peek().match(Zt);if(n)return e.next(),new Yt(new Lr(n[1]?n[1].replace("''","'"):n[2]?n[2].replace('""','"'):""))}function tn(e){this.expression=e,this.predicates=[]}function nn(e,t){var n;if(e.eof()||!(n=Rt(e,t)))return;var r=new tn(n);return Tt(e,t,r),r.predicates.length==0?r.expression:r}function rn(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function sn(e,t){if(e.peek().substr(0,1)=="$"){var n=e.peek().substr(1).match(Ft);if(n){if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in var expression variable name");var r=new rn(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null);return e.next(),r}}}function on(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}function un(e,t){var n=e.peek().match(Ft);if(n&&e.peek(1)=="("){if(!n[1]&&n[2]in Ht)return kt(e,t);if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in function name");var r=new on(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1])||null:t.defaultFunctionNamespace),i;e.next(2);if(e.peek()!=")"){do{if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected function call argument");r.args.push(i)}while(e.peek()==","&&e.next());if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in function call")}return e.next(),r}}function fn(e,t,n,r,i){var s,o=r.length,u,a=t.length,f=0;while(f<t.length&&!t[f][2])f++;if(o>a)throw new S("XPST0017","Function "+e+"() must have "+(a?" no more than ":"")+a+" argument"+(a>1||!a?"s":""));if(o<f)throw new S("XPST0017","Function "+e+"() must have "+(f==a?"exactly":"at least")+" "+f+" argument"+(a>1?"s":""));for(var l=0;l<o;l++)u=t[l],s=r[l],cn(i,s,u[1],an[l]+" argument of "+e+"()"),ln(i,s,u[0],an[l]+" argument of "+e+"()"),u[1]!="+"&&u[1]!="*"&&(r[l]=s.length?s[0]:null)}function ln(e,t,n,r){for(var i=0,s=t.length,o,u;i<s;i++){u=t[i];if(n==ai||n.prototype instanceof ai){if(!e.DOMAdapter.isNode(u))throw new S("XPTY0004","Required item type of "+r+" is "+n);if(n!=ai){o=e.DOMAdapter.getProperty(u,"nodeType");if([null,hi,fi,di,di,null,null,pi,li,ci,null,null,null][o]!=n)throw new S("XPTY0004","Required item type of "+r+" is "+n)}}else if(n==Bn||n.prototype instanceof Bn){u=Mi([u],e)[0],n!=Bn&&(u instanceof _r?u=n.cast(u):n==Lr?u instanceof Fn&&(u=Lr.cast(u)):n==ir&&jn(u)&&(u=n.cast(u)));if(!(u instanceof n))throw new S("XPTY0004","Required item type of "+r+" is "+n);t[i]=u}}}function cn(e,t,n,r){var i=t.length;if(n=="?"){if(i>1)throw new S("XPTY0004","Required cardinality of "+r+" is one or zero")}else if(n=="+"){if(i<1)throw new S("XPTY0004","Required cardinality of "+r+" is one or more")}else if(n!="*"&&i!=1)throw new S("XPTY0004","Required cardinality of "+r+" is exactly one")}function hn(e){this.left=e,this.items=[]}function pn(e,t){var n,r;if(e.eof()||!(n=bn(e,t)))return;if((r=e.peek())!="intersect"&&r!="except")return n;var i=new hn(n);while((r=e.peek())=="intersect"||r=="except"){e.next();if(e.eof()||!(n=bn(e,t)))throw new S("XPST0003","Expected second operand in "+r+" expression");i.items.push([r,n])}return i}function dn(e,t){this.left=e,this.right=t}function vn(e,t){var n,r;if(e.eof()||!(n=ft(e,t)))return;if(e.peek()!="to")return n;e.next();if(e.eof()||!(r=ft(e,t)))throw new S("XPST0003","Expected second operand in range expression");return new dn(n,r)}function mn(e){this.left=e,this.items=[]}function gn(e,t){var n,r;if(e.eof()||!(n=pn(e,t)))return;if((r=e.peek())!="|"&&r!="union")return n;var i=new mn(n);while((r=e.peek())=="|"||r=="union"){e.next();if(e.eof()||!(n=pn(e,t)))throw new S("XPST0003","Expected second operand in union expression");i.items.push(n)}return i}function yn(e,t){this.expression=e,this.type=t}function bn(e,t){var n,r;if(e.eof()||!(n=En(e,t)))return;if(e.peek()!="instance"||e.peek(1)!="of")return n;e.next(2);if(e.eof()||!(r=Mn(e,t)))throw new S("XPST0003","Expected second operand in instance of expression");return new yn(n,r)}function wn(e,t){this.expression=e,this.type=t}function En(e,t){var n,r;if(e.eof()||!(n=xn(e,t)))return;if(e.peek()!="treat"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Mn(e,t)))throw new S("XPST0003","Expected second operand in treat expression");return new wn(n,r)}function Sn(e,t){this.expression=e,this.type=t}function xn(e,t){var n,r;if(e.eof()||!(n=Nn(e,t)))return;if(e.peek()!="castable"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Dn(e,t)))throw new S("XPST0003","Expected second operand in castable expression");return new Sn(n,r)}function Tn(e,t){this.expression=e,this.type=t}function Nn(e,t){var n,r;if(e.eof()||!(n=vt(e,t)))return;if(e.peek()!="cast"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Dn(e,t)))throw new S("XPST0003","Expected second operand in cast expression");return new Tn(n,r)}function Cn(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function kn(e,t){var n=e.peek().match(Ft);if(n){if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in type name");return e.next(),new Cn(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null)}}function Ln(e){this.test=e}function An(e,t){if(e.eof())return;var n;if(e.peek()=="item"&&e.peek(1)=="("){e.next(2);if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in item type expression");return e.next(),new Ln}if(n=Bt(e,t))return new Ln(n);if(n=kn(e,t))return new Ln(n)}function On(e,t){this.itemType=e||null,this.occurence=t||null}function Mn(e,t){if(e.eof())return;if(e.peek()=="empty-sequence"&&e.peek(1)=="("){e.next(2);if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in sequence type");return e.next(),new On}var n,r;if(!e.eof()&&(n=An(e,t)))return r=e.peek(),r=="?"||r=="*"||r=="+"?e.next():r=null,new On(n,r)}function _n(e,t){this.itemType=e||null,this.occurence=t||null}function Dn(e,t){var n,r;if(!e.eof()&&(n=kn(e,t)))return r=e.peek(),r=="?"?e.next():r=null,new _n(n,r)}function Pn(){}function Hn(){}function Bn(){}function jn(e){return e instanceof cr||e instanceof ir||e instanceof nr}function Fn(e,t,n,r,i){this.scheme=e,this.authority=t,this.path=n,this.query=r,this.fragment=i}function qn(e){this.value=e}function Un(e){this.value=e}function Wn(e,t,n,r,i){this.year=e,this.month=t,this.day=n,this.timezone=r,this.negative=i}function $n(e,t){return t==2&&(e%400==0||e%100!=0&&e%4==0)?29:Vn[t-1]}function Jn(e,t){if(!t){var n=$n(e.year,e.month);if(e.day>n)while(e.day>n)e.month+=1,e.month>12&&(e.year+=1,e.year==0&&(e.year=1),e.month=1),e.day-=n,n=$n(e.year,e.month);else if(e.day<1)while(e.day<1)e.month-=1,e.month<1&&(e.year-=1,e.year==0&&(e.year=-1),e.month=12),n=$n(e.year,e.month),e.day+=n}return e.month>12?(e.year+=~~(e.month/12),e.year==0&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,e.year==0&&(e.year=-1),e.month=e.month%12+12),e}function Kn(e,t,n,r,i,s,o,u){this.year=e,this.month=t,this.day=n,this.hours=r,this.minutes=i,this.seconds=s,this.timezone=o,this.negative=u}function Gn(t,n){return sValue=e(t),arguments.length<2&&(n=2),(sValue.length<n+1?(new i(n+1-sValue.length)).join("0"):"")+sValue}function Yn(e){var t=e.timezone;return t==null?"":t?(t>0?"+":"-")+Gn(a.abs(~~(t/60)))+":"+Gn(a.abs(t%60)):"Z"}function Zn(e){return(e.negative?"-":"")+Gn(e.year,4)+"-"+Gn(e.month)+"-"+Gn(e.day)}function er(t){var n=e(t.seconds).split(".");return Gn(t.hours)+":"+Gn(t.minutes)+":"+Gn(n[0])+(n.length>1?"."+n[1]:"")}function tr(e){return Jn(Mr(e))}function nr(e){this.value=e}function ir(e){this.value=e}function or(e,t,n,r,i,s,o){this.year=e,this.month=t,this.day=n,this.hours=r,this.minutes=i,this.seconds=s,this.negative=o}function ar(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function fr(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function lr(e){return Hr(Fr(e))}function cr(e){this.value=e}function pr(e,t){this.day=e,this.timezone=t}function vr(e,t){this.month=e,this.timezone=t}function gr(e,t,n){this.month=e,this.day=t,this.timezone=n}function br(e,t){this.year=e,this.timezone=t}function Er(e,t,n){this.year=e,this.month=t,this.timezone=n}function xr(e){this.value=e}function Nr(){}function Cr(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Lr(e){this.value=e}function Ar(e,t,n,r){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=r}function Mr(e){if(e.seconds>=60||e.seconds<0)e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0);if(e.minutes>=60||e.minutes<0)e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0);if(e.hours>=24||e.hours<0)e instanceof Kn&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0);return e}function _r(e){this.value=e}function Dr(e,t,n){or.call(this,e,t,0,0,0,0,n)}function Hr(e){return e.month>=12&&(e.year+=~~(e.month/12),e.month%=12),e}function Br(e,t,n,r,i){or.call(this,0,0,e,t,n,r,i)}function Fr(e){return e.seconds>=60&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),e.minutes>=60&&(e.hours+=~~(e.minutes/60),e.minutes%=60),e.hours>=24&&(e.day+=~~(e.hours/24),e.hours%=24),e}function Ir(e){this.value=e}function Rr(e){this.value=e}function Ur(e){this.value=e}function zr(e){this.value=e}function Wr(e){this.value=e}function Xr(e){this.value=e}function Vr(e){this.value=e}function $r(e){this.value=e}function Jr(e){this.value=e}function Kr(e){this.value=e}function Qr(e){this.value=e}function Gr(e){this.value=e}function Yr(e){this.value=e}function Zr(e){this.value=e}function ei(e){this.value=e}function ti(e){this.value=e}function ni(e){this.value=e}function ri(e){this.value=e}function ii(e){this.value=e}function si(e){this.value=e}function oi(e){this.value=e}function ui(){}function ai(){}function fi(){}function li(){}function ci(){}function hi(){}function pi(){}function di(){}function vi(e,t,n){var r=Ti(e),i=Ti(t);return new Un(n=="lt"?r<i:n=="gt"?r>i:r==i)}function mi(e,t,n){return gi(Kn.cast(e),Kn.cast(t),n)}function gi(e,t,n){var r=new Br(0,0,0,0),i=Ai(e,r).toString(),s=Ai(t,r).toString();return new Un(n=="lt"?i<s:n=="gt"?i>s:i==s)}function yi(e,t,n){var r;e instanceof Wn?r=new Wn(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Kn&&(r=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),r.year=r.year+t.year*(n=="-"?-1:1),r.month=r.month+t.month*(n=="-"?-1:1),Jn(r,!0);var i=$n(r.year,r.month);return r.day>i&&(r.day=i),r}function bi(e,t,n){var r;return e instanceof Wn?(r=new Wn(e.year,e.month,e.day,e.timezone,e.negative),r.day=r.day+t.day*(n=="-"?-1:1),Jn(r)):e instanceof Kn&&(r=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),r.seconds=r.seconds+t.seconds*(n=="-"?-1:1),r.minutes=r.minutes+t.minutes*(n=="-"?-1:1),r.hours=r.hours+t.hours*(n=="-"?-1:1),r.day=r.day+t.day*(n=="-"?-1:1),tr(r)),r}function wi(e){return(((e.day*24+e.hours)*60+e.minutes)*60+e.seconds)*(e.negative?-1:1)}function Ei(e){var t=(e=a.round(e))<0,n=~~((e=a.abs(e))/86400),r=~~((e-=n*3600*24)/3600),i=~~((e-=r*3600)/60),s=e-=i*60;return new Br(n,r,i,s,t)}function Si(e){return(e.year*12+e.month)*(e.negative?-1:1)}function xi(e){var t=(e=a.round(e))<0,n=~~((e=a.abs(e))/12),r=e-=n*12;return new Dr(n,r,t)}function Ti(e){return e.seconds+(e.minutes-(e.timezone!=null?e.timezone%60:0)+(e.hours-(e.timezone!=null?~~(e.timezone/60):0))*60)*60}function Ni(t,n){if(h(t)||a.abs(t)==v||h(n)||a.abs(n)==v)return 0;var r=e(t).match(Kt),i=e(n).match(Kt),s=a.max(1,(r[2]||r[3]||"").length+(r[5]||0)*(r[4]=="+"?-1:1),(i[2]||i[3]||"").length+(i[5]||0)*(i[4]=="+"?-1:1));return s+(s%2?0:1)}function Ci(e,t,n){return new(e instanceof Ir&&t instanceof Ir&&n==a.round(n)?Ir:nr)(n)}function ki(e,t){if(e==null)return null;var n=e[t]*(e.negative?-1:1);return t=="seconds"?new nr(n):new Ir(n)}function Li(e,t){if(e==null)return null;if(t=="timezone"){var n=e.timezone;return n==null?null:new Br(0,a.abs(~~(n/60)),a.abs(n%60),0,n<0)}var r=e[t];return e instanceof Wn||t=="hours"&&r==24&&(r=0),e instanceof Ar||(r*=e.negative?-1:1),t=="seconds"?new nr(r):new Ir(r)}function Ai(e,t){if(e==null)return null;var n;e instanceof Wn?n=new Wn(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Ar?n=new Ar(e.hours,e.minutes,e.seconds,e.timezone,e.negative):n=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative);if(t==null)n.timezone=null;else{var r=wi(t)/60;if(e.timezone!=null){var i=r-e.timezone;e instanceof Wn?i<0&&n.day--:(n.minutes+=i%60,n.hours+=~~(i/60)),tr(n)}n.timezone=r}return n}function Oi(e,t){if(!e.length)return!1;var n=e[0];if(t.DOMAdapter.isNode(n))return!0;if(e.length==1){if(n instanceof Un)return n.value.valueOf();if(n instanceof Lr)return!!n.valueOf().length;if(jn(n))return!h(n.valueOf())&&n.valueOf()!=0;throw new S("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}throw new S("FORG0006","Effective boolean value is not defined for a sequence of two or more items")}function Mi(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){s=e[r],o=null;if(s==null)o=null;else if(t.DOMAdapter.isNode(s)){var u=t.DOMAdapter.getProperty;switch(u(s,"nodeType")){case 1:o=new _r(u(s,"textContent"));break;case 2:o=new _r(u(s,"value"));break;case 3:case 4:case 8:o=new _r(u(s,"data"));break;case 7:o=new _r(u(s,"data"));break;case 9:var a=u(s,"documentElement");o=new _r(a?u(a,"textContent"):"")}}else s instanceof Bn&&(o=s);o!=null&&n.push(o)}return n}function _i(e,t){return e.sort(function(e,n){var r=t.DOMAdapter.compareDocumentPosition(e,n);return r&2?1:r&4?-1:0})}function Di(e,t){var n="À-ÖØ-öø-˿",r="Ͱ-ͽͿ-῿‌-‍",i="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",o="A-Z_a-z\\-.0-9·"+n+"̀-ͯ"+r+"‿-⁀"+i,u="A-Z_a-z"+n+r+i;e=e.replace(/\[\\i-\[:\]\]/g,"["+u+"]").replace(/\[\\c-\[:\]\]/g,"["+o+"]").replace(/\\i/g,"[:"+u+"]").replace(/\\I/g,"[^:"+u+"]").replace(/\\c/g,"[:"+o+"]").replace(/\\C/g,"[^:"+o+"]");if(t&&!t.match(/^[smix]+$/))throw new S("FORX0001");var a=t.indexOf("s")>=0,f=t.indexOf("x")>=0;if(a||f){t=t.replace(/[sx]/g,"");var l=[],c=/\s/;for(var h=0,p=e.length,d=!1,v,m="";h<p;h++){v=e.charAt(h),m!="\\"&&(v=="["?d=!0:v=="]"&&(d=!1));if(d||!f||!c.test(v))!d&&a&&v=="."&&m!="\\"?l[l.length]="(?:.|\\s)":l[l.length]=v;m=v}e=l.join("")}return new s(e,t+"g")}function Bi(){}function Ki(t,n,r){if(typeof n=="undefined"||n===null)n="";var i=t[0];typeof i=="undefined"&&(i=null);var s=i&&(i.nodeType==9?i:i.ownerDocument).createElement("div").tagName=="DIV"?$i:Ji;s.namespaceResolver=r;var o=new H(e(n),s);s.namespaceResolver=null;var u,a=new zi,f=Fi;Xi?f=s==$i?qi:Ri:Vi&&s==$i&&(f=Ii),u=o.evaluate(new C(s,i,null,f));for(var l=0,c=u.length,h;l<c;l++)a.push(f.isNode(h=u[l])?h:k.xs2js(h));return a}var e=window.String,t=window.Boolean,n=window.Number,r=window.Object,i=window.Array,s=window.RegExp,o=window.Date,u=window.Function,a=window.Math,f=window.Error,l=window.SyntaxError,c=window.TypeError,h=window.isNaN,p=window.isFinite,d=window.NaN,v=window.Infinity,m=function(){return e.prototype.trim?function(t){return e(t).trim()}:function(t){return e(t).replace(/^\s+|\s+$/g,"")}}(),g=function(){return i.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}}(),y="http://www.w3.org/2001/XMLSchema",b="http://www.w3.org/2005/xpath-functions",w="http://www.w3.org/2000/xmlns/",E="http://www.w3.org/XML/1998/namespace";S.prototype=new f;var x={};x.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",x.XPST0003="Expression is not a valid instance of the grammar",x.XPTY0004="Type is not appropriate for the context in which the expression occurs",x.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",x.XPST0010="Axis not supported",x.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",x.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",x.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",x.XPTY0020="In an axis step, the context item is not a node.",x.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",x.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",x.FORG0001="Invalid value for cast/constructor.",x.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",x.FORG0004="fn:one-or-more called with a sequence containing no items.",x.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",x.FORG0006="Invalid argument type.",x.FODC0001="No context document.",x.FORX0001="Invalid regular expression flags.",x.FOCA0002="Invalid lexical value.",x.FOCH0002="Unsupported collation.",x.FONS0004="No namespace found for prefix.",T.prototype.index=0,T.prototype.length=0,T.prototype.reset=function(){this.index=0},T.prototype.peek=function(e){return this[this.index+(e||0)]||""},T.prototype.next=function(e){return(this.index+=e||1)<this.length},T.prototype.back=function(e){return(this.index-=e||1)>0},T.prototype.eof=function(){return this.index>=this.length},N.prototype.isNode=function(e){return e&&!!e.nodeType},N.prototype.getProperty=function(e,t){return e[t]},N.prototype.isSameNode=function(e,t){return e==t},N.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},N.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},N.prototype.getElementById=function(e,t){return e.getElementById(t)},N.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},C.prototype.item=null,C.prototype.position=0,C.prototype.size=0,C.prototype.scope=null,C.prototype.stack=null,C.prototype.dateTime=null,C.prototype.timezone=null,C.prototype.staticContext=null,C.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},C.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],typeof this.scope[e]=="undefined"&&delete this.scope[e]))},k.prototype.baseURI=null,k.prototype.dataTypes=null,k.prototype.documents=null,k.prototype.functions=null,k.prototype.defaultFunctionNamespace=null,k.prototype.collations=null,k.prototype.defaultCollationName=b+"/collation/codepoint",k.prototype.collections=null,k.prototype.namespaceResolver=null,k.prototype.defaultElementNamespace=null;var L=/^(?:\{([^\}]+)\})?(.+)$/;k.prototype.setDataType=function(e,t){var n=e.match(L);n&&n[1]!=y&&(this.dataTypes[e]=t)},k.prototype.getDataType=function(e){var t=e.match(L);if(t)return t[1]==y?M[s.$2]:this.dataTypes[e]},k.prototype.setDocument=function(e,t){this.documents[e]=t},k.prototype.setFunction=function(e,t){var n=e.match(L);n&&n[1]!=b&&(this.functions[e]=t)},k.prototype.getFunction=function(e){var t=e.match(L);if(t)return t[1]==b?A[s.$2]:this.functions[e]},k.prototype.setCollation=function(e,t){this.collations[e]=t},k.prototype.getCollation=function(e){return this.collations[e]},k.prototype.setCollection=function(e,t){this.collections[e]=t},k.prototype.getURIForPrefix=function(e){var t=this.namespaceResolver,n=t&&t.lookupNamespaceURI?t.lookupNamespaceURI:t,r;if(n instanceof u&&(r=n.call(t,e)))return r;if(e=="fn")return b;if(e=="xs")return y;if(e=="xml")return E;if(e=="xmlns")return w;throw new S("XPST0081","Prefix '"+e+"' has not been declared")},k.js2xs=function(t){return typeof t=="boolean"?t=new Un(t):typeof t=="number"?t=h(t)||!p(t)?new ir(t):Gt(e(t)):t=new Lr(e(t)),t},k.xs2js=function(e){return e instanceof Un?e=e.valueOf():jn(e)?e=e.valueOf():e=e.toString(),e};var A={},O={},M={},_={};H.prototype.internalExpression=null,H.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},B.prototype.equals=function(e,t){throw"Not implemented"},B.prototype.compare=function(e,t){throw"Not implemented"},j.ANYSIMPLETYPE_DT=1,j.STRING_DT=2,j.BOOLEAN_DT=3,j.DECIMAL_DT=4,j.FLOAT_DT=5,j.DOUBLE_DT=6,j.DURATION_DT=7,j.DATETIME_DT=8,j.TIME_DT=9,j.DATE_DT=10,j.GYEARMONTH_DT=11,j.GYEAR_DT=12,j.GMONTHDAY_DT=13,j.GDAY_DT=14,j.GMONTH_DT=15,j.HEXBINARY_DT=16,j.BASE64BINARY_DT=17,j.ANYURI_DT=18,j.QNAME_DT=19,j.NOTATION_DT=20,j.NORMALIZEDSTRING_DT=21,j.TOKEN_DT=22,j.LANGUAGE_DT=23,j.NMTOKEN_DT=24,j.NAME_DT=25,j.NCNAME_DT=26,j.ID_DT=27,j.IDREF_DT=28,j.ENTITY_DT=29,j.INTEGER_DT=30,j.NONPOSITIVEINTEGER_DT=31,j.NEGATIVEINTEGER_DT=32,j.LONG_DT=33,j.INT_DT=34,j.SHORT_DT=35,j.BYTE_DT=36,j.NONNEGATIVEINTEGER_DT=37,j.UNSIGNEDLONG_DT=38,j.UNSIGNEDINT_DT=39,j.UNSIGNEDSHORT_DT=40,j.UNSIGNEDBYTE_DT=41,j.POSITIVEINTEGER_DT=42,j.LISTOFUNION_DT=43,j.LIST_DT=44,j.UNAVAILABLE_DT=45,j.DATETIMESTAMP_DT=46,j.DAYMONTHDURATION_DT=47,j.DAYTIMEDURATION_DT=48,j.PRECISIONDECIMAL_DT=49,j.ANYATOMICTYPE_DT=50,j.ANYTYPE_DT=51,j.XT_YEARMONTHDURATION_DT=-1,j.XT_UNTYPEDATOMIC_DT=-2,F.prototype.items=null,F.prototype.evaluate=function(e){var t=[];for(var n=0,r=this.items.length;n<r;n++)t=_.concatenate.call(e,t,this.items[n].evaluate(e));return t},U.prototype.bindings=null,U.prototype.returnExpr=null,U.prototype.evaluate=function(e){var t=[];return function(n,r){var i=n.bindings[r++],s=i.inExpr.evaluate(e),o=(i.namespaceURI?"{"+i.namespaceURI+"}":"")+i.localName;for(var u=0,a=s.length;u<a;u++)e.pushVariable(o,s[u]),r<n.bindings.length?arguments.callee(n,r):t=t.concat(n.returnExpr.evaluate(e)),e.popVariable(o)}(this,0),t},W.prototype.prefix=null,W.prototype.localName=null,W.prototype.namespaceURI=null,W.prototype.inExpr=null,V.prototype.condExpr=null,V.prototype.thenExpr=null,V.prototype.elseExpr=null,V.prototype.evaluate=function(e){return this[Oi(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},J.prototype.bindings=null,J.prototype.quantifier=null,J.prototype.satisfiesExpr=null,J.prototype.evaluate=function(e){var t=this.quantifier=="every",n=t?!0:!1;return function(r,i){var s=r.bindings[i++],o=s.inExpr.evaluate(e),u=(s.namespaceURI?"{"+s.namespaceURI+"}":"")+s.localName;for(var a=0,f=o.length;a<f&&(t?n:!n);a++)e.pushVariable(u,o[a]),i<r.bindings.length?arguments.callee(r,i):n=Oi(r.satisfiesExpr.evaluate(e),e),e.popVariable(u)}(this,0),[new Un(n)]},Q.prototype.prefix=null,Q.prototype.localName=null,Q.prototype.namespaceURI=null,Q.prototype.inExpr=null,Y.prototype.left=null,Y.prototype.right=null,Y.prototype.operator=null,Y.prototype.evaluate=function(e){var t=ot[this.operator](this,e);return t==null?[]:[t]};var tt={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"},rt={};rt.eq=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-equal");else if(e instanceof Un)t instanceof Un&&(r="boolean-equal");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-equal"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-equal"):e instanceof Ar?t instanceof Ar&&(r="time-equal"):e instanceof Kn?t instanceof Kn&&(r="dateTime-equal"):e instanceof or?t instanceof or&&(r="duration-equal"):e instanceof Er?t instanceof Er&&(r="gYearMonth-equal"):e instanceof br?t instanceof br&&(r="gYear-equal"):e instanceof gr?t instanceof gr&&(r="gMonthDay-equal"):e instanceof vr?t instanceof vr&&(r="gMonth-equal"):e instanceof pr?t instanceof pr&&(r="gDay-equal"):e instanceof Cr?t instanceof Cr&&(r="QName-equal"):e instanceof xr?t instanceof xr&&(r="hexBinary-equal"):e instanceof qn&&t instanceof qn&&(r="base64Binary-equal");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.ne=function(e,t,n){return new Un(!rt.eq(e,t,n).valueOf())},rt.gt=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-greater-than");else if(e instanceof Un)t instanceof Un&&(r="boolean-greater-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-greater-than"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-greater-than"):e instanceof Ar?t instanceof Ar&&(r="time-greater-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-greater-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-greater-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-greater-than");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.lt=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-less-than");else if(e instanceof Un)t instanceof Un&&(r="boolean-less-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-less-than"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-less-than"):e instanceof Ar?t instanceof Ar&&(r="time-less-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-less-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-less-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-less-than");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.ge=function(e,t,n){var r="";if(jn(e)){if(jn(t))return _["numeric-greater-than"].call(n,e,t)||_["numeric-equal"].call(n,e,t)}else if(e instanceof Un)t instanceof Un&&(r="boolean-less-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-greater-than"].call(n,A.compare.call(n,e,t),new Ir(-1))}else e instanceof Wn?t instanceof Wn&&(r="date-less-than"):e instanceof Ar?t instanceof Ar&&(r="time-less-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-less-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-less-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-less-than");if(r)return new Un(!_[r].call(n,e,t).valueOf());throw new S("XPTY0004","Cannot compare values of given types")},rt.le=function(e,t,n){var r="";if(jn(e)){if(jn(t))return _["numeric-less-than"].call(n,e,t)||_["numeric-equal"].call(n,e,t)}else if(e instanceof Un)t instanceof Un&&(r="boolean-greater-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-less-than"].call(n,A.compare.call(n,e,t),new Ir(1))}else e instanceof Wn?t instanceof Wn&&(r="date-greater-than"):e instanceof Ar?t instanceof Ar&&(r="time-greater-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-greater-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-greater-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-greater-than");if(r)return new Un(!_[r].call(n,e,t).valueOf());throw new S("XPTY0004","Cannot compare values of given types")};var st={};st.is=function(e,t,n){return _["is-same-node"].call(n,e,t)},st[">>"]=function(e,t,n){return _["node-after"].call(n,e,t)},st["<<"]=function(e,t,n){return _["node-before"].call(n,e,t)};var ot={"=":et,"!=":et,"<":et,"<=":et,">":et,">=":et,eq:nt,ne:nt,lt:nt,le:nt,gt:nt,ge:nt,is:it,">>":it,"<<":it};ut.prototype.left=null,ut.prototype.items=null;var at={};at["+"]=function(e,t,n){var r="",i=!1;jn(e)?jn(t)&&(r="numeric-add"):e instanceof Wn?t instanceof Dr?r="add-yearMonthDuration-to-date":t instanceof Br&&(r="add-dayTimeDuration-to-date"):e instanceof Dr?t instanceof Wn?(r="add-yearMonthDuration-to-date",i=!0):t instanceof Kn?(r="add-yearMonthDuration-to-dateTime",i=!0):t instanceof Dr&&(r="add-yearMonthDurations"):e instanceof Br?t instanceof Wn?(r="add-dayTimeDuration-to-date",i=!0):t instanceof Ar?(r="add-dayTimeDuration-to-time",i=!0):t instanceof Kn?(r="add-dayTimeDuration-to-dateTime",i=!0):t instanceof Br&&(r="add-dayTimeDurations"):e instanceof Ar?t instanceof Br&&(r="add-dayTimeDuration-to-time"):e instanceof Kn&&(t instanceof Dr?r="add-yearMonthDuration-to-dateTime":t instanceof Br&&(r="add-dayTimeDuration-to-dateTime"));if(r)return _[r].call(n,i?t:e,i?e:t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},at["-"]=function(e,t,n){var r="";jn(e)?jn(t)&&(r="numeric-subtract"):e instanceof Wn?t instanceof Wn?r="subtract-dates":t instanceof Dr?r="subtract-yearMonthDuration-from-date":t instanceof Br&&(r="subtract-dayTimeDuration-from-date"):e instanceof Ar?t instanceof Ar?r="subtract-times":t instanceof Br&&(r="subtract-dayTimeDuration-from-time"):e instanceof Kn?t instanceof Kn?r="subtract-dateTimes":t instanceof Dr?r="subtract-yearMonthDuration-from-dateTime":t instanceof Br&&(r="subtract-dayTimeDuration-from-dateTime"):e instanceof Dr?t instanceof Dr&&(r="subtract-yearMonthDurations"):e instanceof Br&&t instanceof Br&&(r="subtract-dayTimeDurations");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ut.prototype.evaluate=function(e){var t=Mi(this.left.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof _r&&(n=ir.cast(n));for(var r=0,i=this.items.length,s,o;r<i;r++){s=Mi(this.items[r][1].evaluate(e),e);if(!s.length)return[];cn(e,s,"?","first operand of '"+this.items[r][0]+"'"),o=s[0],o instanceof _r&&(o=ir.cast(o)),n=at[this.items[r][0]](n,o,e)}return[n]},lt.prototype.left=null,lt.prototype.items=null;var ct={};ct["*"]=function(e,t,n){var r="",i=!1;jn(e)?jn(t)?r="numeric-multiply":t instanceof Dr?(r="multiply-yearMonthDuration",i=!0):t instanceof Br&&(r="multiply-dayTimeDuration",i=!0):e instanceof Dr?jn(t)&&(r="multiply-yearMonthDuration"):e instanceof Br&&jn(t)&&(r="multiply-dayTimeDuration");if(r)return _[r].call(n,i?t:e,i?e:t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.div=function(e,t,n){var r="";jn(e)?jn(t)&&(r="numeric-divide"):e instanceof Dr?jn(t)?r="divide-yearMonthDuration":t instanceof Dr&&(r="divide-yearMonthDuration-by-yearMonthDuration"):e instanceof Br&&(jn(t)?r="divide-dayTimeDuration":t instanceof Br&&(r="divide-dayTimeDuration-by-dayTimeDuration"));if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.idiv=function(e,t,n){if(jn(e)&&jn(t))return _["numeric-integer-divide"].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.mod=function(e,t,n){if(jn(e)&&jn(t))return _["numeric-mod"].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},lt.prototype.evaluate=function(e){var t=Mi(this.left.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof _r&&(n=ir.cast(n));for(var r=0,i=this.items.length,s,o;r<i;r++){s=Mi(this.items[r][1].evaluate(e),e);if(!s.length)return[];cn(e,s,"?","second operand of '"+this.items[r][0]+"'"),o=s[0],o instanceof _r&&(o=ir.cast(o)),n=ct[this.items[r][0]](n,o,e)}return[n]},pt.prototype.operator=null,pt.prototype.expression=null;var dt={};dt["-"]=function(e,t){if(jn(e))return _["numeric-unary-minus"].call(t,e);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},dt["+"]=function(e,t){if(jn(e))return _["numeric-unary-plus"].call(t,e);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},pt.prototype.evaluate=function(e){var t=Mi(this.expression.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof _r&&(n=ir.cast(n)),[dt[this.operator](n,e)]},yt.prototype.left=null,yt.prototype.items=null,yt.prototype.evaluate=function(e){var t=Oi(this.left.evaluate(e),e);for(var n=0,r=this.items.length;n<r&&!t;n++)t=Oi(this.items[n].evaluate(e),e);return[new Un(t)]},wt.prototype.left=null,wt.prototype.items=null,wt.prototype.evaluate=function(e){var t=Oi(this.left.evaluate(e),e);for(var n=0,r=this.items.length;n<r&&t;n++)t=Oi(this.items[n].evaluate(e),e);return[new Un(t)]},St.prototype.predicates=null,St.prototype.applyPredicates=function(e,t){var n=t.item,r=t.position,i=t.size;for(var s=0,o,u=this.predicates.length;s<u;s++){o=e,e=[];for(var a=0,f,l=o.length;a<l;a++)t.item=o[a],t.position=a+1,t.size=l,f=this.predicates[s].evaluate(t),f.length==1&&jn(f[0])?f[0].valueOf()==a+1&&e.push(o[a]):Oi(f,t)&&e.push(o[a])}return t.item=n,t.position=r,t.size=i,e},Nt.prototype=new St,Nt.prototype.axis=null,Nt.prototype.test=null;var Ct={};Ct.attribute={},Ct.child={},Ct.descendant={},Ct["descendant-or-self"]={},Ct.following={},Ct["following-sibling"]={},Ct.self={},Ct.ancestor={},Ct["ancestor-or-self"]={},Ct.parent={},Ct.preceding={},Ct["preceding-sibling"]={},Nt.prototype.evaluate=function(e){var t=e.item;if(!e.DOMAdapter.isNode(t))throw new S("XPTY0020");var n=[],r=e.DOMAdapter.getProperty,i=r(t,"nodeType");switch(this.axis){case"attribute":if(i==1)for(var s=r(t,"attributes"),o=0,u=s.length;o<u;o++)n.push(s[o]);break;case"child":for(var a=r(t,"firstChild");a;a=r(a,"nextSibling"))n.push(a);break;case"descendant-or-self":n.push(t);case"descendant":Lt(r(t,"firstChild"),n,r);break;case"following":for(var f=t,l;f;f=r(f,"parentNode"))(l=r(f,"nextSibling"))&&Lt(l,n,r);break;case"following-sibling":for(var a=t;a=r(a,"nextSibling");)n.push(a);break;case"self":n.push(t);break;case"ancestor-or-self":n.push(t);case"ancestor":for(var a=i==2?r(t,"ownerElement"):t;a=r(a,"parentNode");)n.push(a);break;case"parent":var f=i==2?r(t,"ownerElement"):r(t,"parentNode");f&&n.push(f);break;case"preceding":for(var f=t,l;f;f=r(f,"parentNode"))(l=r(f,"previousSibling"))&&At(l,n,r);break;case"preceding-sibling":for(var a=t;a=r(a,"previousSibling");)n.push(a)}if(n.length&&!(this.test instanceof Pt&&this.test.name=="node")){var c=n;n=[];for(var o=0,u=c.length;o<u;o++)this.test.test(c[o],e)&&n.push(c[o])}n.length&&this.predicates.length&&(n=this.applyPredicates(n,e));switch(this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":n.reverse()}return n},Ot.prototype.items=null,Ot.prototype.evaluate=function(e){var t=e.item,n=[t];for(var r=0,i=this.items.length,s;r<i;r++){s=[];for(var o=0,u=n.length;o<u;o++){e.item=n[o];for(var a=0,f=this.items[r].evaluate(e),l=f.length;a<l;a++){if(r<i-1&&!e.DOMAdapter.isNode(f[a]))throw new S("XPTY0019");g(s,f[a])==-1&&s.push(f[a])}}n=s}return e.item=t,_i(n,e)},Pt.prototype=new _t,Pt.prototype.name=null,Pt.prototype.args=null;var Ht={};Ht["document-node"]={},Ht.element={},Ht.attribute={},Ht["processing-instruction"]={},Ht.comment={},Ht.text={},Ht.node={},Ht["schema-element"]={},Ht["schema-attribute"]={},Pt.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,r=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!r;case"attribute":if(r!=2)return!1;break;case"document-node":return r==9;case"element":return r==1;case"processing-instruction":if(r!=7)return!1;break;case"comment":return r==8;case"text":return r==3||r==4;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return r==2?n(e,"prefix")!="xmlns"&&n(e,"localName")!="xmlns":r==7?n(e,"target")!="xml":!0},jt.prototype=new _t,jt.prototype.prefix=null,jt.prototype.localName=null,jt.prototype.namespaceURI=null;var Ft=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;jt.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,r=n(e,"nodeType");if(r==1||r==2){if(this.localName=="*")return(r==1||n(e,"prefix")!="xmlns"&&n(e,"localName")!="xmlns")&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return this.namespaceURI=="*"||r==2&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},Ut.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},Wt.prototype.evaluate=function(e){if(e.item==null)throw new S("XPDY0002","Dynamic context does not have context item initialized");return[e.item]},Vt.prototype.value=null,Vt.prototype.evaluate=function(e){return[this.value]},Jt.prototype=new Vt;var Kt=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;Yt.prototype=new Vt;var Zt=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;tn.prototype=new St,tn.prototype.expression=null,tn.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},rn.prototype.prefix=null,rn.prototype.localName=null,rn.prototype.namespaceURI=null,rn.prototype.evaluate=function(e){var t=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(e.scope.hasOwnProperty(t))return[e.scope[t]];throw new S("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},on.prototype.prefix=null,on.prototype.localName=null,on.prototype.namespaceURI=null,on.prototype.args=null,on.prototype.evaluate=function(e){var t=[],n,r;for(var s=0,o=this.args.length;s<o;s++)t.push(this.args[s].evaluate(e));var u=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==b){if(r=A[this.localName]){(n=O[this.localName])&&fn(this.localName,n,r,t,e);var a=r.apply(e,t);return a==null?[]:a instanceof i?a:[a]}throw new S("XPST0017","Unknown system function: "+u+"()")}if(this.namespaceURI==y){if((r=M[this.localName])&&this.localName!="NOTATION"&&this.localName!="anyAtomicType")return fn(this.localName,[[Bn]],r,t,e),[r.cast(t[0])];throw new S("XPST0017","Unknown type constructor function: "+u+"()")}if(r=e.staticContext.getFunction(u)){var a=r.apply(e,t);return a==null?[]:a instanceof i?a:[a]}throw new S("XPST0017","Unknown user function: "+u+"()")};var an=["first","second","third","fourth","fifth"];hn.prototype.left=null,hn.prototype.items=null,hn.prototype.evaluate=function(e){var t=this.left.evaluate(e);for(var n=0,r=this.items.length,i;n<r;n++)t=_[(i=this.items[n])[0]].call(e,t,i[1].evaluate(e));return t},dn.prototype.left=null,dn.prototype.right=null,dn.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n="first operand of 'to'";cn(e,t,"?",n),ln(e,t,Ir,n);var r=this.right.evaluate(e);return r.length?(n="second operand of 'to'",cn(e,r,"?",n),ln(e,r,Ir,n),_.to.call(e,t[0],r[0])):[]},mn.prototype.left=null,mn.prototype.items=null,mn.prototype.evaluate=function(e){var t=this.left.evaluate(e);for(var n=0,r=this.items.length;n<r;n++)t=_.union.call(e,t,this.items[n].evaluate(e));return t},yn.prototype.expression=null,yn.prototype.type=null,yn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(!n)return[new Un(!t.length)];if(!t.length)return[new Un(r=="?"||r=="*")];if(t.length!=1&&r!="+"&&r!="*")return[new Un(!1)];if(!n.test)return[new Un(!0)];var i=!0;for(var s=0,o=t.length;s<o&&i;s++)i=n.test.test(t[s],e);return[new Un(i)]},wn.prototype.expression=null,wn.prototype.type=null,wn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(!n){if(t.length)throw new S("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return t}if(r!="?"&&r!="*"&&!t.length)throw new S("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if(r!="+"&&r!="*"&&t.length!=1)throw new S("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!n.test)return t;for(var i=0,s=t.length;i<s;i++)if(!n.test.test(t[i],e))throw new S("XPDY0050","Required item type of value in 'treat as' expression is "+(n.test.prefix?n.test.prefix+":":"")+n.test.localName);return t},Sn.prototype.expression=null,Sn.prototype.type=null,Sn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(t.length>1)return[new Un(!1)];if(!t.length)return[new Un(r=="?")];try{n.cast(Mi(t,e)[0])}catch(i){if(i.code=="XPST0051")throw i;if(i.code=="XPST0017")throw new S("XPST0080","No value is castable to "+(n.prefix?n.prefix+":":"")+n.localName);return[new Un(!1)]}return[new Un(!0)]},Tn.prototype.expression=null,Tn.prototype.type=null,Tn.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return cn(e,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(Mi(t,e)[0],e)]:[]},Cn.prototype.prefix=null,Cn.prototype.localName=null,Cn.prototype.namespaceURI=null,Cn.prototype.test=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,r=this.namespaceURI==y?M[this.localName]:t.staticContext.getDataType(n);if(r)return e instanceof r;throw new S("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Cn.prototype.cast=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,r=this.namespaceURI==y?M[this.localName]:t.staticContext.getDataType(n);if(r)return r.cast(e);throw new S("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},Ln.prototype.test=null,On.prototype.itemType=null,On.prototype.occurence=null,_n.prototype.itemType=null,_n.prototype.occurence=null,Hn.prototype.builtInKind=j.ANYTYPE_DT,Hn.prototype=new Pn,Hn.prototype.builtInKind=j.ANYSIMPLETYPE_DT,Hn.prototype.primitiveKind=null,Hn.PRIMITIVE_ANYURI="anyURI",Hn.PRIMITIVE_BASE64BINARY="base64Binary",Hn.PRIMITIVE_BOOLEAN="boolean",Hn.PRIMITIVE_DATE="date",Hn.PRIMITIVE_DATETIME="dateTime",Hn.PRIMITIVE_DECIMAL="decimal",Hn.PRIMITIVE_DOUBLE="double",Hn.PRIMITIVE_DURATION="duration",Hn.PRIMITIVE_FLOAT="float",Hn.PRIMITIVE_GDAY="gDay",Hn.PRIMITIVE_GMONTH="gMonth",Hn.PRIMITIVE_GMONTHDAY="gMonthDay",Hn.PRIMITIVE_GYEAR="gYear",Hn.PRIMITIVE_GYEARMONTH="gYearMonth",Hn.PRIMITIVE_HEXBINARY="hexBinary",Hn.PRIMITIVE_NOTATION="NOTATION",Hn.PRIMITIVE_QNAME="QName",Hn.PRIMITIVE_STRING="string",Hn.PRIMITIVE_TIME="time",Bn.prototype=new Hn,Bn.prototype.builtInKind=j.ANYATOMICTYPE_DT,Bn.cast=function(e){throw new S("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},P("anyAtomicType",Bn),Fn.prototype=new Bn,Fn.prototype.builtInKind=j.ANYURI_DT,Fn.prototype.primitiveKind=Hn.PRIMITIVE_ANYURI,Fn.prototype.scheme=null,Fn.prototype.authority=null,Fn.prototype.path=null,Fn.prototype.query=null,Fn.prototype.fragment=null,Fn.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var In=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;Fn.cast=function(e){if(e instanceof Fn)return e;if(e instanceof Lr||e instanceof _r){var t;if(t=m(e).match(In))return new Fn(t[2],t[4],t[5],t[7],t[9]);throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:anyURI can never succeed")},P("anyURI",Fn),qn.prototype=new Bn,qn.prototype.builtInKind=j.BASE64BINARY_DT,qn.prototype.primitiveKind=Hn.PRIMITIVE_BASE64BINARY,qn.prototype.value=null,qn.prototype.valueOf=function(){return this.value},qn.prototype.toString=function(){return this.value};var Rn=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;qn.cast=function(e){if(e instanceof qn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Rn);if(t)return new qn(t[0]);throw new S("FORG0001")}throw e instanceof xr?"Casting from 'xs:hexBinary' to 'xs:base64Binary' not implemented":new S("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},P("base64Binary",qn),Un.prototype=new Bn,Un.prototype.builtInKind=j.BOOLEAN_DT,Un.prototype.primitiveKind=Hn.PRIMITIVE_BOOLEAN,Un.prototype.value=null,Un.prototype.valueOf=function(){return this.value},Un.prototype.toString=function(){return e(this.value)};var zn=/^(0|1|true|false)$/;Un.cast=function(e){if(e instanceof Un)return e;if(e instanceof Lr||e instanceof _r){var t;if(t=m(e).match(zn))return new Un(t[1]=="1"||t[1]=="true");throw new S("FORG0001")}if(jn(e))return new Un(e!=0);throw new S("XPTY0004","Casting value '"+e+"' to xs:boolean can never succeed")},P("boolean",Un),Wn.prototype=new Bn,Wn.prototype.builtInKind=j.DATE_DT,Wn.prototype.primitiveKind=Hn.PRIMITIVE_DATE,Wn.prototype.year=null,Wn.prototype.month=null,Wn.prototype.day=null,Wn.prototype.timezone=null,Wn.prototype.negative=null,Wn.prototype.toString=function(){return Zn(this)+Yn(this)};var Xn=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Wn.cast=function(e){if(e instanceof Wn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Xn);if(t){var n=+t[2],r=+t[3],i=+t[4];if(i-1<$n(n,r))return new Wn(n,r,i,t[5]?t[5]=="Z"?0:(t[6]=="-"?-1:1)*(t[7]*60+t[8]*1):null,t[1]=="-");throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Kn)return new Wn(e.year,e.month,e.day,e.timezone,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:date can never succeed")};var Vn=[31,28,31,30,31,30,31,31,30,31,30,31];P("date",Wn),Kn.prototype=new Bn,Kn.prototype.builtInKind=j.DATETIME_DT,Kn.prototype.primitiveKind=Hn.PRIMITIVE_DATETIME,Kn.prototype.year=null,Kn.prototype.month=null,Kn.prototype.day=null,Kn.prototype.hours=null,Kn.prototype.minutes=null,Kn.prototype.seconds=null,Kn.prototype.timezone=null,Kn.prototype.negative=null,Kn.prototype.toString=function(){return Zn(this)+"T"+er(this)+Yn(this)};var Qn=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Kn.cast=function(e){if(e instanceof Kn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Qn);if(t){var r=+t[2],i=+t[3],s=+t[4],o=!!t[10];if(s-1<$n(r,i))return tr(new Kn(r,i,s,o?24:+t[6],o?0:+t[7],n((o?0:t[8])+"."+(o?0:t[9]||0)),t[12]?t[12]=="Z"?0:(t[13]=="-"?-1:1)*(t[14]*60+t[15]*1):null,t[1]=="-"));throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Wn)return new Kn(e.year,e.month,e.day,0,0,0,e.timezone,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:dateTime can never succeed")},P("dateTime",Kn),nr.prototype=new Bn,nr.prototype.builtInKind=j.DECIMAL_DT,nr.prototype.primitiveKind=Hn.PRIMITIVE_DECIMAL,nr.prototype.value=null,nr.prototype.valueOf=function(){return this.value},nr.prototype.toString=function(){return e(this.value)};var rr=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;nr.cast=function(e){if(e instanceof nr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(rr);if(t)return new nr(+e);throw new S("FORG0001")}if(e instanceof Un)return new nr(e*1);if(jn(e)){if(h(e)||!p(e))throw new S("FOCA0002","Cannot convert '"+e+"' to xs:decimal");return new nr(+e)}throw new S("XPTY0004","Casting value '"+e+"' to xs:decimal can never succeed")},P("decimal",nr),ir.prototype=new Bn,ir.prototype.builtInKind=j.DOUBLE_DT,ir.prototype.primitiveKind=Hn.PRIMITIVE_DOUBLE,ir.prototype.value=null,ir.prototype.valueOf=function(){return this.value},ir.prototype.toString=function(){return e(this.value)};var sr=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;ir.cast=function(e){if(e instanceof ir)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(sr);if(t)return new ir(t[7]?+t[7].replace("INF","Infinity"):+e);throw new S("FORG0001")}if(e instanceof Un)return new ir(e*1);if(jn(e))return new ir(e.value);throw new S("XPTY0004","Casting value '"+e+"' to xs:double can never succeed")},P("double",ir),or.prototype=new Bn,or.prototype.builtInKind=j.DURATION_DT,or.prototype.primitiveKind=Hn.PRIMITIVE_DURATION,or.prototype.year=null,or.prototype.month=null,or.prototype.day=null,or.prototype.hours=null,or.prototype.minutes=null,or.prototype.seconds=null,or.prototype.negative=null,or.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ar(this)+fr(this)||"T0S")};var ur=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;or.cast=function(e){if(e instanceof Dr)return new or(e.year,e.month,0,0,0,0,e.negative);if(e instanceof Br)return new or(0,0,e.day,e.hours,e.minutes,e.seconds,e.negative);if(e instanceof or)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(ur);if(t)return lr(new or(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,+t[6]||0,+t[7]||0,t[1]=="-"));throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:duration can never succeed")},P("duration",or),cr.prototype=new Bn,cr.prototype.builtInKind=j.FLOAT_DT,cr.prototype.primitiveKind=Hn.PRIMITIVE_FLOAT,cr.prototype.value=null,cr.prototype.valueOf=function(){return this.value},cr.prototype.toString=function(){return e(this.value)};var hr=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;cr.cast=function(e){if(e instanceof cr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(hr);if(t)return new cr(t[7]?+t[7].replace("INF","Infinity"):+e);throw new S("FORG0001")}if(e instanceof Un)return new cr(e*1);if(jn(e))return new cr(e.value);throw new S("XPTY0004","Casting value '"+e+"' to xs:float can never succeed")},P("float",cr),pr.prototype=new Bn,pr.prototype.builtInKind=j.GDAY_DT,pr.prototype.primitiveKind=Hn.PRIMITIVE_GDAY,pr.prototype.day=null,pr.prototype.timezone=null,pr.prototype.toString=function(){return"---"+Gn(this.day)+Yn(this)};var dr=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;pr.cast=function(e){if(e instanceof pr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(dr);if(t){var n=+t[1];return new pr(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new pr(e.day,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gDay can never succeed")},P("gDay",pr),vr.prototype=new Bn,vr.prototype.builtInKind=j.GMONTH_DT,vr.prototype.primitiveKind=Hn.PRIMITIVE_GMONTH,vr.prototype.month=null,vr.prototype.timezone=null,vr.prototype.toString=function(){return"--"+Gn(this.month)+Yn(this)};var mr=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;vr.cast=function(e){if(e instanceof vr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(mr);if(t){var n=+t[1];return new vr(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new vr(e.month,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gMonth can never succeed")},P("gMonth",vr),gr.prototype=new Bn,gr.prototype.builtInKind=j.GMONTHDAY_DT,gr.prototype.primitiveKind=Hn.PRIMITIVE_GMONTHDAY,gr.prototype.month=null,gr.prototype.day=null,gr.prototype.timezone=null,gr.prototype.toString=function(){return"--"+Gn(this.month)+"-"+Gn(this.day)+Yn(this)};var yr=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;gr.cast=function(e){if(e instanceof gr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(yr);if(t){var n=+t[1],r=+t[2];if(r-1<$n(1976,n))return new gr(n,r,t[3]?t[3]=="Z"?0:(t[4]=="-"?-1:1)*(t[5]*60+t[6]*1):null);throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new gr(e.month,e.day,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gMonthDay can never succeed")},P("gMonthDay",gr),br.prototype=new Bn,br.prototype.builtInKind=j.GYEAR_DT,br.prototype.primitiveKind=Hn.PRIMITIVE_GYEAR,br.prototype.year=null,br.prototype.timezone=null,br.prototype.toString=function(){return Gn(this.year)+Yn(this)};var wr=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;br.cast=function(e){if(e instanceof br)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(wr);if(t){var n=+t[1];return new br(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new br(e.year,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gYear can never succeed")},P("gYear",br),Er.prototype=new Bn,Er.prototype.builtInKind=j.GYEARMONTH_DT,Er.prototype.primitiveKind=Hn.PRIMITIVE_GYEARMONTH,Er.prototype.year=null,Er.prototype.month=null,Er.prototype.timezone=null,Er.prototype.toString=function(){return Gn(this.year)+"-"+Gn(this.month)+Yn(this)};var Sr=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Er.cast=function(e){if(e instanceof Er)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Sr);if(t){var n=+t[1],r=+t[2];return new Er(n,r,t[3]?t[3]=="Z"?0:(t[4]=="-"?-1:1)*(t[5]*60+t[6]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new Er(e.year,e.month,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gYearMonth can never succeed")},P("gYearMonth",Er),xr.prototype=new Bn,xr.prototype.builtInKind=j.HEXBINARY_DT,xr.prototype.primitiveKind=Hn.PRIMITIVE_HEXBINARY,xr.prototype.value=null,xr.prototype.valueOf=function(){return this.value},xr.prototype.toString=function(){return this.value};var Tr=/^([0-9a-fA-F]{2})*$/;xr.cast=function(e){if(e instanceof xr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Tr);if(t)return new xr(t[0].toUpperCase());throw new S("FORG0001")}throw e instanceof qn?"Casting from 'xs:base64Binary' to 'xs:hexBinary' not implemented":new S("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},P("hexBinary",xr),Nr.prototype=new Bn,Nr.prototype.builtInKind=j.NOTATION_DT,Nr.prototype.primitiveKind=Hn.PRIMITIVE_NOTATION,Nr.cast=function(e){throw new S("XPST0017","Abstract type used in constructor function xs:NOTATION")},P("NOTATION",Nr),Cr.prototype=new Bn,Cr.prototype.builtInKind=j.QNAME_DT,Cr.prototype.primitiveKind=Hn.PRIMITIVE_QNAME,Cr.prototype.prefix=null,Cr.prototype.localName=null,Cr.prototype.namespaceURI=null,Cr.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var kr=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;Cr.cast=function(e){if(e instanceof Cr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(kr);if(t)return new Cr(t[1]||null,t[2],null);throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:QName can never succeed")},P("QName",Cr),Lr.prototype=new Bn,Lr.prototype.value=null,Lr.prototype.builtInKind=j.STRING_DT,Lr.prototype.primitiveKind=Hn.PRIMITIVE_STRING,Lr.prototype.valueOf=function(){return this.value},Lr.prototype.toString=function(){return this.value},Lr.cast=function(t){return new Lr(e(t))},P("string",Lr),Ar.prototype=new Bn,Ar.prototype.builtInKind=j.TIME_DT,Ar.prototype.primitiveKind=Hn.PRIMITIVE_TIME,Ar.prototype.hours=null,Ar.prototype.minutes=null,Ar.prototype.seconds=null,Ar.prototype.timezone=null,Ar.prototype.toString=function(){return er(this)+Yn(this)};var Or=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Ar.cast=function(e){if(e instanceof Ar)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Or);if(t){var r=!!t[6];return new Ar(r?0:+t[2],r?0:+t[3],n((r?0:t[4])+"."+(r?0:t[5]||0)),t[8]?t[8]=="Z"?0:(t[9]=="-"?-1:1)*(t[10]*60+t[11]*1):null)}throw new S("FORG0001")}if(e instanceof Kn)return new Ar(e.hours,e.minutes,e.seconds,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:time can never succeed")},P("time",Ar),_r.prototype=new Bn,_r.prototype.builtInKind=j.XT_UNTYPEDATOMIC_DT,_r.prototype.toString=function(){return e(this.value)},_r.cast=function(t){return t instanceof _r?t:new _r(e(t))},P("untypedAtomic",_r),Dr.prototype=new or,Dr.prototype.builtInKind=j.XT_YEARMONTHDURATION_DT,Dr.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ar(this)||"0M")};var Pr=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;Dr.cast=function(e){if(e instanceof Dr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Pr);if(t)return Hr(new Dr(+t[2]||0,+t[3]||0,t[1]=="-"));throw new S("FORG0001")}if(e instanceof Br)return new Dr(0,0);if(e instanceof or)return new Dr(e.year,e.month,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:yearMonthDuration can never succeed")},P("yearMonthDuration",Dr),Br.prototype=new or,Br.prototype.builtInKind=j.DAYTIMEDURATION_DT,Br.prototype.toString=function(){return(this.negative?"-":"")+"P"+(fr(this)||"T0S")};var jr=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;Br.cast=function(e){if(e instanceof Br)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(jr);if(t)return Fr(new Br(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,t[1]=="-"));throw new S("FORG0001")}if(e instanceof Dr)return new Br(0,0,0,0);if(e instanceof or)return new Br(e.day,e.hours,e.minutes,e.seconds,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:dayTimeDuration can never succeed")},P("dayTimeDuration",Br),Ir.prototype=new nr,Ir.prototype.builtInKind=j.INTEGER_DT;var qr=/^[-+]?[0-9]+$/;Ir.cast=function(e){if(e instanceof Ir)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(qr);if(t)return new Ir(~~e);throw new S("FORG0001")}if(e instanceof Un)return new Ir(e*1);if(jn(e)){if(h(e)||!p(e))throw new S("FOCA0002","Cannot convert '"+e+"' to xs:integer");return new Ir(~~e)}throw new S("XPTY0004","Casting value '"+e+"' to xs:integer can never succeed")},P("integer",Ir),Rr.prototype=new Ir,Rr.prototype.builtInKind=j.NONPOSITIVEINTEGER_DT,Rr.cast=function(e){return new Rr(n(e))},P("nonPositiveInteger",Rr),Ur.prototype=new Rr,Ur.prototype.builtInKind=j.NEGATIVEINTEGER_DT,Ur.cast=function(e){return new Ur(n(e))},P("negativeInteger",Ur),zr.prototype=new Ir,zr.prototype.builtInKind=j.LONG_DT,zr.cast=function(e){return new zr(n(e))},P("long",zr),Wr.prototype=new zr,Wr.prototype.builtInKind=j.INT_DT,Wr.cast=function(e){return new Wr(n(e))},P("int",Wr),Xr.prototype=new Wr,Xr.prototype.builtInKind=j.SHORT_DT,Xr.cast=function(e){return new Xr(n(e))},P("short",Xr),Vr.prototype=new Xr,Vr.prototype.builtInKind=j.BYTE_DT,Vr.cast=function(e){return new Vr(n(e))},P("byte",Vr),$r.prototype=new Ir,$r.prototype.builtInKind=j.NONNEGATIVEINTEGER_DT,$r.cast=function(e){return new $r(n(e))},P("nonNegativeInteger",$r),Jr.prototype=new $r,Jr.prototype.builtInKind=j.POSITIVEINTEGER_DT,Jr.cast=function(e){return new Jr(n(e))},P("positiveInteger",Jr),Kr.prototype=new $r,Kr.prototype.builtInKind=j.UNSIGNEDLONG_DT,Kr.cast=function(e){return new Kr(n(e))},P("unsignedLong",Kr),Qr.prototype=new $r,Qr.prototype.builtInKind=j.UNSIGNEDINT_DT,Qr.cast=function(e){return new Qr(n(e))},P("unsignedInt",Qr),Gr.prototype=new Qr,Gr.prototype.builtInKind=j.UNSIGNEDSHORT_DT,Gr.cast=function(e){return new Gr(n(e))},P("unsignedShort",Gr),Yr.prototype=new Gr,Yr.prototype.builtInKind=j.UNSIGNEDBYTE_DT,Yr.cast=function(e){return new Yr(n(e))},P("unsignedByte",Yr),Zr.prototype=new Lr,Zr.prototype.builtInKind=j.NORMALIZEDSTRING_DT,Zr.cast=function(t){return new Zr(e(t))},P("normalizedString",Zr),ei.prototype=new Zr,ei.prototype.builtInKind=j.TOKEN_DT,ei.cast=function(t){return new ei(e(t))},P("token",ei),ti.prototype=new ei,ti.prototype.builtInKind=j.NAME_DT,ti.cast=function(t){return new ti(e(t))},P("Name",ti),ni.prototype=new ti,ni.prototype.builtInKind=j.NCNAME_DT,ni.cast=function(t){return new ni(e(t))},P("NCName",ni),ri.prototype=new ni,ri.prototype.builtInKind=j.ENTITY_DT,ri.cast=function(t){return new ri(e(t))},P("ENTITY",ri),ii.prototype=new ni,ii.prototype.builtInKind=j.ID_DT,ii.cast=function(t){return new ii(e(t))},P("ID",ii),si.prototype=new ei,si.prototype.builtInKind=j.LANGUAGE_DT,si.cast=function(t){return new si(e(t))},P("language",si),oi.prototype=new ei,oi.prototype.builtInKind=j.NMTOKEN_DT,oi.cast=function(t){return new oi(e(t))},P("NMTOKEN",oi),ai.prototype=new ui,fi.prototype=new ai,li.prototype=new ai,ci.prototype=new ai,hi.prototype=new ai,pi.prototype=new ai,di.prototype=new ai,_["hexBinary-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["base64Binary-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["boolean-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["boolean-less-than"]=function(e,t){return new Un(e.valueOf()<t.valueOf())},_["boolean-greater-than"]=function(e,t){return new Un(e.valueOf()>t.valueOf())},_["yearMonthDuration-less-than"]=function(e,t){return new Un(Si(e)<Si(t))},_["yearMonthDuration-greater-than"]=function(e,t){return new Un(Si(e)>Si(t))},_["dayTimeDuration-less-than"]=function(e,t){return new Un(wi(e)<wi(t))},_["dayTimeDuration-greater-than"]=function(e,t){return new Un(wi(e)>wi(t))},_["duration-equal"]=function(e,t){return new Un(e.negative==t.negative&&Si(e)==Si(t)&&wi(e)==wi(t))},_["dateTime-equal"]=function(e,t){return gi(e,t,"eq")},_["dateTime-less-than"]=function(e,t){return gi(e,t,"lt")},_["dateTime-greater-than"]=function(e,t){return gi(e,t,"gt")},_["date-equal"]=function(e,t){return mi(e,t,"eq")},_["date-less-than"]=function(e,t){return mi(e,t,"lt")},_["date-greater-than"]=function(e,t){return mi(e,t,"gt")},_["time-equal"]=function(e,t){return vi(e,t,"eq")},_["time-less-than"]=function(e,t){return vi(e,t,"lt")},_["time-greater-than"]=function(e,t){return vi(e,t,"gt")},_["gYearMonth-equal"]=function(e,t){return gi(new Kn(e.year,e.month,$n(e.year,e.month),0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(t.year,t.month,$n(t.year,t.month),0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gYear-equal"]=function(e,t){return gi(new Kn(e.year,1,1,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(t.year,1,1,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gMonthDay-equal"]=function(e,t){return gi(new Kn(1972,e.month,e.day,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,t.month,t.day,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gMonth-equal"]=function(e,t){return gi(new Kn(1972,e.month,$n(1972,t.month),0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,t.month,$n(1972,t.month),0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gDay-equal"]=function(e,t){return gi(new Kn(1972,12,e.day,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,12,t.day,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["add-yearMonthDurations"]=function(e,t){return xi(Si(e)+Si(t))},_["subtract-yearMonthDurations"]=function(e,t){return xi(Si(e)-Si(t))},_["multiply-yearMonthDuration"]=function(e,t){return xi(Si(e)*t)},_["divide-yearMonthDuration"]=function(e,t){return xi(Si(e)/t)},_["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new nr(Si(e)/Si(t))},_["add-dayTimeDurations"]=function(e,t){return Ei(wi(e)+wi(t))},_["subtract-dayTimeDurations"]=function(e,t){return Ei(wi(e)-wi(t))},_["multiply-dayTimeDuration"]=function(e,t){return Ei(wi(e)*t)},_["divide-dayTimeDuration"]=function(e,t){return Ei(wi(e)/t)},_["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new nr(wi(e)/wi(t))},_["subtract-dateTimes"]=function(e,t){throw"Operator function 'subtract-dateTimes' not implemented"},_["subtract-dates"]=function(e,t){throw"Operator function 'subtract-dates' not implemented"},_["subtract-times"]=function(e,t){return Ei(Ti(e)-Ti(t))},_["add-yearMonthDuration-to-dateTime"]=function(e,t){return yi(e,t,"+")},_["add-dayTimeDuration-to-dateTime"]=function(e,t){return bi(e,t,"+")},_["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return yi(e,t,"-")},_["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return bi(e,t,"-")},_["add-yearMonthDuration-to-date"]=function(e,t){return yi(e,t,"+")},_["add-dayTimeDuration-to-date"]=function(e,t){return bi(e,t,"+")},_["subtract-yearMonthDuration-from-date"]=function(e,t){return yi(e,t,"-")},_["subtract-dayTimeDuration-from-date"]=function(e,t){return bi(e,t,"-")},_["add-dayTimeDuration-to-time"]=function(e,t){var n=new Ar(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,Mr(n)},_["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new Ar(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,Mr(n)},_["is-same-node"]=function(e,t){return new Un(this.DOMAdapter.isSameNode(e,t))},_["node-before"]=function(e,t){return new Un(!!(this.DOMAdapter.compareDocumentPosition(e,t)&4))},_["node-after"]=function(e,t){return new Un(!!(this.DOMAdapter.compareDocumentPosition(e,t)&2))},_["numeric-add"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,(n*i+r*i)/i)},_["numeric-subtract"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,(n*i-r*i)/i)},_["numeric-multiply"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,n*i*r*i/(i*i))},_["numeric-divide"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,e*i/(t*i))},_["numeric-integer-divide"]=function(e,t){return new Ir(~~(e/t))},_["numeric-mod"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,n*i%(r*i)/i)},_["numeric-unary-plus"]=function(e){return e},_["numeric-unary-minus"]=function(e){return e.value*=-1,e},_["numeric-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["numeric-less-than"]=function(e,t){return new Un(e.valueOf()<t.valueOf())},_["numeric-greater-than"]=function(e,t){return new Un(e.valueOf()>t.valueOf())},_["QName-equal"]=function(e,t){return new Un(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},_.concatenate=function(e,t){return e.concat(t)},_.union=function(e,t){var n=[];for(var r=0,i=e.length,s;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of first operand of 'union' is node()");g(n,s)==-1&&n.push(s)}for(var r=0,i=t.length,s;r<i;r++){if(!this.DOMAdapter.isNode(s=t[r]))throw new S("XPTY0004","Required item type of second operand of 'union' is node()");g(n,s)==-1&&n.push(s)}return _i(n,this)},_.intersect=function(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of second operand of 'intersect' is node()");o=!1;for(var u=0,a=t.length;u<a&&!o;u++){if(!this.DOMAdapter.isNode(t[u]))throw new S("XPTY0004","Required item type of first operand of 'intersect' is node()");o=this.DOMAdapter.isSameNode(t[u],s)}o&&g(n,s)==-1&&n.push(s)}return _i(n,this)},_.except=function(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of second operand of 'except' is node()");o=!1;for(var u=0,a=t.length;u<a&&!o;u++){if(!this.DOMAdapter.isNode(t[u]))throw new S("XPTY0004","Required item type of first operand of 'except' is node()");o=this.DOMAdapter.isSameNode(t[u],s)}!o&&g(n,s)==-1&&n.push(s)}return _i(n,this)},_.to=function(e,t){var n=[];for(var r=e.valueOf(),i=t.valueOf();r<=i;r++)n.push(new Ir(r));return n},D("node-name",[[ai,"?"]],function(e){if(e!=null){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new Cr(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:throw"Not implemented";case 6:throw"Not implemented";case 7:return new Cr(null,t(e,"target"),null);case 10:return new Cr(null,t(e,"name"),null)}}return null}),D("nilled",[[ai,"?"]],function(e){return e!=null&&this.DOMAdapter.getProperty(e,"nodeType")==1?new Un(!1):null}),D("string",[[ui,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=this.item}return e==null?new Lr(""):Lr.cast(Mi([e],this)[0])}),D("data",[[ui,"*"]],function(e){return Mi(e,this)}),D("base-uri",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","base-uri() function called when the context item is not a node");e=this.item}return Fn.cast(new Lr(this.DOMAdapter.getProperty(e,"baseURI")||""))}),D("document-uri",[[ai,"?"]],function(e){if(e!=null){var t=this.DOMAdapter.getProperty;if(t(e,"nodeType")==9)return Fn.cast(new Lr(t(e,"documentURI")||""))}return null}),D("resolve-uri",[[Lr,"?"],[Lr,"",!0]],function(e,t){var t;if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","resolve-uri() function called when the context item is not a node");t=new Lr(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(e==null)return null;if(e.valueOf()==""||e.valueOf().charAt(0)=="#")return Fn.cast(t);var n=Fn.cast(e);if(n.scheme)return n;var r=Fn.cast(t);n.scheme=r.scheme;if(!n.authority){n.authority=r.authority;if(n.path.charAt(0)!="/"){var i=n.path.split("/"),s=r.path.split("/");s.pop();var o=s[0]==""?1:0;for(var u=0,a=i.length;u<a;u++)i[u]==".."?s.length>o?s.pop():(s.push(i[u]),o++):i[u]!="."&&s.push(i[u]);(i[--u]==".."||i[u]==".")&&s.push(""),n.path=s.join("/")}}return n}),D("true",[],function(){return new Un(!0)}),D("false",[],function(){return new Un(!1)}),D("not",[[ui,"*"]],function(e){return new Un(!Oi(e,this))}),D("position",[],function(){return new Ir(this.position)}),D("last",[],function(){return new Ir(this.size)}),D("current-dateTime",[],function(){return this.dateTime}),D("current-date",[],function(){return Wn.cast(this.dateTime)}),D("current-time",[],function(){return Ar.cast(this.dateTime)}),D("implicit-timezone",[],function(){return this.timezone}),D("default-collation",[],function(){return new Lr(this.staticContext.defaultCollationName)}),D("static-base-uri",[],function(){return Fn.cast(new Lr(this.staticContext.baseURI||""))}),D("years-from-duration",[[or,"?"]],function(e){return ki(e,"year")}),D("months-from-duration",[[or,"?"]],function(e){return ki(e,"month")}),D("days-from-duration",[[or,"?"]],function(e){return ki(e,"day")}),D("hours-from-duration",[[or,"?"]],function(e){return ki(e,"hours")}),D("minutes-from-duration",[[or,"?"]],function(e){return ki(e,"minutes")}),D("seconds-from-duration",[[or,"?"]],function(e){return ki(e,"seconds")}),D("year-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"year")}),D("month-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"month")}),D("day-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"day")}),D("hours-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"hours")}),D("minutes-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"minutes")}),D("seconds-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"seconds")}),D("timezone-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"timezone")}),D("year-from-date",[[Wn,"?"]],function(e){return Li(e,"year")}),D("month-from-date",[[Wn,"?"]],function(e){return Li(e,"month")}),D("day-from-date",[[Wn,"?"]],function(e){return Li(e,"day")}),D("timezone-from-date",[[Wn,"?"]],function(e){return Li(e,"timezone")}),D("hours-from-time",[[Ar,"?"]],function(e){return Li(e,"hours")}),D("minutes-from-time",[[Ar,"?"]],function(e){return Li(e,"minutes")}),D("seconds-from-time",[[Ar,"?"]],function(e){return Li(e,"seconds")}),D("timezone-from-time",[[Ar,"?"]],function(e){return Li(e,"timezone")}),D("adjust-dateTime-to-timezone",[[Kn,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("adjust-date-to-timezone",[[Wn,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("adjust-time-to-timezone",[[Ar,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("name",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","name() function called when the context item is not a node");e=this.item}else if(e==null)return new Lr("");var t=A["node-name"].call(this,e);return new Lr(t==null?"":t.toString())}),D("local-name",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","local-name() function called when the context item is not a node");e=this.item}else if(e==null)return new Lr("");return new Lr(this.DOMAdapter.getProperty(e,"localName")||"")}),D("namespace-uri",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","namespace-uri() function called when the context item is not a node");e=this.item}else if(e==null)return Fn.cast(new Lr(""));return Fn.cast(new Lr(this.DOMAdapter.getProperty(e,"namespaceURI")||""))}),D("number",[[Bn,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Mi([this.item],this)[0]}var t=new ir(d);if(e!=null)try{t=ir.cast(e)}catch(n){}return t}),D("lang",[[Lr,"?"],[ai,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","lang() function called when the context item is not a node");t=this.item}var n=this.DOMAdapter.getProperty;n(t,"nodeType")==2&&(t=n(t,"ownerElement"));for(var r;t;t=n(t,"parentNode"))if(r=n(t,"attributes"))for(var i=0,s=r.length;i<s;i++)if(n(r[i],"nodeName")=="xml:lang")return new Un(n(r[i],"value").replace(/-.+/,"").toLowerCase()==e.valueOf().replace(/-.+/,"").toLowerCase());return new Un(!1)}),D("root",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","root() function called when the context item is not a node");e=this.item}else if(e==null)return null;var t=this.DOMAdapter.getProperty;t(e,"nodeType")==2&&(e=t(e,"ownerElement"));for(var n=e;n;n=t(e,"parentNode"))e=n;return e}),D("abs",[[ir,"?"]],function(e){return new nr(a.abs(e))}),D("ceiling",[[ir,"?"]],function(e){return new nr(a.ceil(e))}),D("floor",[[ir,"?"]],function(e){return new nr(a.floor(e))}),D("round",[[ir,"?"]],function(e){return new nr(a.round(e))}),D("round-half-to-even",[[ir,"?"],[Ir,"",!0]],function(e,t){var n=arguments.length>1?t.valueOf():0;if(n<0){var r=new Ir(a.pow(10,-n)),i=a.round(_["numeric-divide"].call(this,e,r)),s=new Ir(i);return nDecimal=a.abs(_["numeric-subtract"].call(this,s,_["numeric-divide"].call(this,e,r))),_["numeric-multiply"].call(this,_["numeric-add"].call(this,s,new nr(nDecimal==.5&&i%2?-1:0)),r)}var r=new Ir(a.pow(10,n)),i=a.round(_["numeric-multiply"].call(this,e,r)),s=new Ir(i);return nDecimal=a.abs(_["numeric-subtract"].call(this,s,_["numeric-multiply"].call(this,e,r))),_["numeric-divide"].call(this,_["numeric-add"].call(this,s,new nr(nDecimal==.5&&i%2?-1:0)),r)}),D("resolve-QName",[[Lr,"?"],[hi]],function(e,t){if(e==null)return null;var n=e.valueOf(),r=n.match(kr);if(!r)throw new S("FOCA0002","Invalid QName '"+n+"'");var i=r[1]||null,s=r[2],o=this.DOMAdapter.lookupNamespaceURI(t,i);if(i!=null&&!o)throw new S("FONS0004","Namespace prefix '"+i+"' has not been declared");return new Cr(i,s,o||null)}),D("QName",[[Lr,"?"],[Lr]],function(e,t){var n=t.valueOf(),r=n.match(kr);if(!r)throw new S("FOCA0002","Invalid QName '"+n+"'");return new Cr(r[1]||null,r[2]||null,e==null?"":e.valueOf())}),D("prefix-from-QName",[[Cr,"?"]],function(e){return e!=null&&e.prefix?new ni(e.prefix):null}),D("local-name-from-QName",[[Cr,"?"]],function(e){return e==null?null:new ni(e.localName)}),D("namespace-uri-from-QName",[[Cr,"?"]],function(e){return e==null?null:Fn.cast(new Lr(e.namespaceURI||""))}),D("namespace-uri-for-prefix",[[Lr,"?"],[hi]],function(e,t){var n=e==null?"":e.valueOf(),r=this.DOMAdapter.lookupNamespaceURI(t,n||null);return r==null?null:Fn.cast(new Lr(r))}),D("in-scope-prefixes",[[hi]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),D("boolean",[[ui,"*"]],function(e){return new Un(Oi(e,this))}),D("index-of",[[Bn,"*"],[Bn],[Lr,"",!0]],function(e,t,n){if(!e.length||t==null)return[];var r=t;r instanceof _r&&(r=Lr.cast(r));var i=[];for(var s=0,o=e.length,u;s<o;s++)u=e[s],u instanceof _r&&(u=Lr.cast(u)),u.valueOf()===r.valueOf()&&i.push(new Ir(s+1));return i}),D("empty",[[ui,"*"]],function(e){return new Un(!e.length)}),D("exists",[[ui,"*"]],function(e){return new Un(!!e.length)}),D("distinct-values",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;var n=[];for(var r=0,i=e.length,s;r<i;r++){s=e[r],s instanceof _r&&(s=Lr.cast(s));for(var o=0,u=n.length,a,f=!1;o<u&&!f;o++)a=n[o],a instanceof _r&&(a=Lr.cast(a)),a.valueOf()===s.valueOf()&&(f=!0);f||n.push(e[r])}return n}),D("insert-before",[[ui,"*"],[Ir],[ui,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var r=e.length,i=t.valueOf();i<1?i=1:i>r&&(i=r+1);var s=[];for(var o=0;o<r;o++)i==o+1&&(s=s.concat(n)),s.push(e[o]);return i==o+1&&(s=s.concat(n)),s}),D("remove",[[ui,"*"],[Ir]],function(e,t){if(!e.length)return[];var n=e.length,r=t.valueOf();if(r<1||r>n)return e;var i=[];for(var s=0;s<n;s++)r!=s+1&&i.push(e[s]);return i}),D("reverse",[[ui,"*"]],function(e){return e.reverse(),e}),D("subsequence",[[ui,"*"],[ir,""],[ir,"",!0]],function(e,t,n){var r=a.round(t),i=arguments.length>2?a.round(n):e.length-r+1;return e.slice(r-1,r-1+i)}),D("unordered",[[ui,"*"]],function(e){return e}),D("zero-or-one",[[ui,"*"]],function(e){if(e.length>1)throw new S("FORG0003");return e}),D("one-or-more",[[ui,"*"]],function(e){if(!e.length)throw new S("FORG0004");return e}),D("exactly-one",[[ui,"*"]],function(e){if(e.length!=1)throw new S("FORG0005");return e}),D("deep-equal",[[ui,"*"],[ui,"*"],[Lr,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),D("count",[[ui,"*"]],function(e){return new Ir(e.length)}),D("avg",[[Bn,"*"]],function(e){if(!e.length)return null;try{var t=e[0];t instanceof _r&&(t=ir.cast(t));for(var n=1,r=e.length,i;n<r;n++)i=e[n],i instanceof _r&&(i=ir.cast(i)),t=at["+"](t,i,this);return ct.div(t,new Ir(r),this)}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to avg() contains a mix of types")}}),D("max",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;try{var n=e[0];for(var r=1,i=e.length;r<i;r++)rt.ge(e[r],n,this).valueOf()&&(n=e[r]);return n}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to max() contains a mix of not comparable values")}}),D("min",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;try{var n=e[0];for(var r=1,i=e.length;r<i;r++)rt.le(e[r],n,this).valueOf()&&(n=e[r]);return n}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to min() contains a mix of not comparable values")}}),D("sum",[[Bn,"*"],[Bn,"?",!0]],function(e,t){if(!e.length)return arguments.length>1?t:new ir(0);try{var n=e[0];n instanceof _r&&(n=ir.cast(n));for(var r=1,i=e.length,s;r<i;r++)s=e[r],s instanceof _r&&(s=ir.cast(s)),n=at["+"](n,s,this);return n}catch(o){throw o.code!="XPTY0004"?o:new S("FORG0006","Input to sum() contains a mix of types")}}),D("id",[[Lr,"*"],[ai,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","id() function called when the context item is not a node");t=this.item}var n=A.root.call(this,t);if(this.DOMAdapter.getProperty(n,"nodeType")!=9)throw new S("FODC0001");var r=[];for(var i=0;i<e.length;i++)for(var s=0,o=m(e[i]).split(/\s+/),u=o.length;s<u;s++)(t=this.DOMAdapter.getElementById(n,o[s]))&&g(r,t)==-1&&r.push(t);return _i(r,this)}),D("idref",[[Lr,"*"],[ai,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),D("doc",[[Lr,"?",!0]],function(e){throw"Function 'doc' not implemented"}),D("doc-available",[[Lr,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),D("collection",[[Lr,"?",!0]],function(e){throw"Function 'collection' not implemented"}),D("element-with-id",[[Lr,"*"],[ai,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),D("codepoints-to-string",[[Ir,"*"]],function(t){var n=[];for(var r=0,i=t.length;r<i;r++)n.push(e.fromCharCode(t[r]));return new Lr(n.join(""))}),D("string-to-codepoints",[[Lr,"?"]],function(e){if(e==null)return null;var t=e.valueOf();if(t=="")return[];var n=[];for(var r=0,i=t.length;r<i;r++)n.push(new Ir(t.charCodeAt(r)));return n}),D("compare",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){if(e==null||t==null)return null;var r=this.staticContext.defaultCollationName,i;arguments.length>2&&(r=n.valueOf()),i=r==b+"/collation/codepoint"?Pi:this.staticContext.getCollation(r);if(!i)throw new S("FOCH0002","Unknown collation {"+r+"}");return new Ir(i.compare(e.valueOf(),t.valueOf()))}),D("codepoint-equal",[[Lr,"?"],[Lr,"?"]],function(e,t){return e==null||t==null?null:new Un(e.valueOf()==t.valueOf())}),D("concat",null,function(){if(arguments.length<2)throw new S("XPST0017","Function concat() must have at least 2 arguments");var e=[];for(var t=0,n=arguments.length,r;t<n;t++)r=arguments[t],cn(this,r,"?","each argument of concat()"),r.length&&(e[e.length]=Lr.cast(Mi(r,this)[0]).valueOf());return new Lr(e.join(""))}),D("string-join",[[Lr,"*"],[Lr]],function(e,t){return new Lr(e.join(t))}),D("substring",[[Lr,"?"],[ir],[ir,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=a.round(t)-1,s=arguments.length>2?i+a.round(n):r.length;return new Lr(s>i?r.substring(i,s):"")}),D("string-length",[[Lr,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Lr.cast(Mi([this.item],this)[0])}return new Ir(e==null?0:e.valueOf().length)}),D("normalize-space",[[Lr,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Lr.cast(Mi([this.item],this)[0])}return new Lr(e==null?"":m(e).replace(/\s\s+/g," "))}),D("normalize-unicode",[[Lr,"?"],[Lr,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),D("upper-case",[[Lr,"?"]],function(e){return new Lr(e==null?"":e.valueOf().toUpperCase())}),D("lower-case",[[Lr,"?"]],function(e){return new Lr(e==null?"":e.valueOf().toLowerCase())}),D("translate",[[Lr,"?"],[Lr],[Lr]],function(e,t,n){if(e==null)return new Lr("");var r=e.valueOf().split(""),i=t.valueOf().split(""),s=n.valueOf().split(""),o=s.length,u=[];for(var a=0,f=r.length,l;a<f;a++)(l=i.indexOf(r[a]))==-1?u[u.length]=r[a]:l<o&&(u[u.length]=s[l]);return new Lr(u.join(""))}),D("encode-for-uri",[[Lr,"?"]],function(e){return new Lr(e==null?"":window.encodeURIComponent(e))}),D("iri-to-uri",[[Lr,"?"]],function(e){return new Lr(e==null?"":window.encodeURI(window.decodeURI(e)))}),D("escape-html-uri",[[Lr,"?"]],function(e){if(e==null||e.valueOf()=="")return new Lr("");var t=e.valueOf().split("");for(var n=0,r=t.length,i;n<r;n++)if((i=t[n].charCodeAt(0))<32||i>126)t[n]=window.encodeURIComponent(t[n]);return new Lr(t.join(""))}),D("contains",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){return new Un((e==null?"":e.valueOf()).indexOf(t==null?"":t.valueOf())>=0)}),D("starts-with",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){return new Un((e==null?"":e.valueOf()).indexOf(t==null?"":t.valueOf())==0)}),D("ends-with",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf();return new Un(r.indexOf(i)==r.length-i.length)}),D("substring-before",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf(),s;return new Lr((s=r.indexOf(i))>=0?r.substring(0,s):"")}),D("substring-after",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf(),s;return new Lr((s=r.indexOf(i))>=0?r.substring(s+i.length):"")}),D("matches",[[Lr,"?"],[Lr],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=Di(t.valueOf(),arguments.length>2?n.valueOf():"");return new Un(i.test(r))}),D("replace",[[Lr,"?"],[Lr],[Lr],[Lr,"",!0]],function(e,t,n,r){var i=e==null?"":e.valueOf(),s=Di(t.valueOf(),arguments.length>3?r.valueOf():"");return new Un(i.replace(s,n.valueOf()))}),D("tokenize",[[Lr,"?"],[Lr],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=Di(t.valueOf(),arguments.length>2?n.valueOf():""),s=[];for(var o=0,u=r.split(i),a=u.length;o<a;o++)s.push(new Lr(u[o]));return s}),D("trace",[[ui,"*"],[Lr]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var Pi=new B;Pi.equals=function(e,t){return e==t},Pi.compare=function(e,t){return e==t?0:e>t?1:-1};var Hi=function(){};Hi.prototype.nodeType=2,Hi.prototype.nodeName=Hi.prototype.nodeValue=Hi.prototype.ownerDocument=Hi.prototype.localName=Hi.prototype.namespaceURI=Hi.prototype.prefix=Hi.prototype.attributes=Hi.prototype.childNodes=Hi.prototype.firstChild=Hi.prototype.lastChild=Hi.prototype.previousSibling=Hi.prototype.nextSibling=Hi.prototype.parentNode=Hi.prototype.name=Hi.prototype.specified=Hi.prototype.value=Hi.prototype.ownerElement=null,Bi.prototype=new N;var ji=new k;Bi.prototype.getProperty=function(e,t){if(t in e)return e[t];if(t=="baseURI"){var n="",r=ji.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),i=ji.getDataType("{http://www.w3.org/2001/XMLSchema}string");for(var s=e,o;s;s=s.parentNode)s.nodeType==1&&(o=s.getAttribute("xml:base"))&&(n=r(new i(o),new i(n)).toString());return n}if(t=="textContent"){var u=[];return function(e){for(var t=0,n;n=e.childNodes[t];t++)n.nodeType==3||n.nodeType==4?u.push(n.data):n.nodeType==1&&n.firstChild&&arguments.callee(n)}(e),u.join("")}},Bi.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n=null,r=null,i,s,o,u,f;e.nodeType==2&&(n=e,e=this.getProperty(n,"ownerElement")),t.nodeType==2&&(r=t,t=this.getProperty(r,"ownerElement"));if(n&&r&&e&&e==t)for(u=0,i=this.getProperty(e,"attributes"),f=i.length;u<f;u++){s=i[u];if(s==n)return 36;if(s==r)return 34}var l=[],c,h,p=[],d,v;n&&l.push(n);for(o=e;o;o=o.parentNode)l.push(o);r&&p.push(r);for(o=t;o;o=o.parentNode)p.push(o);if((e.ownerDocument||e)!=(t.ownerDocument||t)||l[l.length-1]!=p[p.length-1])return 33;for(u=a.min(c=l.length,d=p.length);u;--u)if((h=l[--c])!=(v=p[--d])){if(h.nodeType==2)return 4;if(v.nodeType==2)return 2;if(!v.nextSibling)return 4;if(!h.nextSibling)return 2;for(o=v.previousSibling;o;o=o.previousSibling)if(o==h)return 4;return 2}return c<d?20:10},Bi.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&e.nodeType!=9;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(e.nodeType==1)for(var n=this.getProperty(e,"attributes"),r=0,i=n.length,s="xmlns:"+t;r<i;r++)if(this.getProperty(n[r],"nodeName")==s)return this.getProperty(n[r],"value")}return null},Bi.prototype.getElementsByTagNameNS=function(e,t,n){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(t,n);var r=[],i="*"==t,s="*"==n;return function(e){for(var o=0,u;u=e.childNodes[o];o++)u.nodeType==1&&((s||n==this.getProperty(u,"localName"))&&(i||t==this.getProperty(u,"namespaceURI"))&&(r[r.length]=u),u.firstChild&&arguments.callee(u))}(e),r};var Fi=new Bi,Ii=new Bi;Ii.getProperty=function(e,t){return t=="localName"&&e.nodeType==1?e.localName.toLowerCase():t=="namespaceURI"?e.nodeType==1?"http://www.w3.org/1999/xhtml":null:Bi.prototype.getProperty.call(this,e,t)};var qi=new Bi;qi.getProperty=function(e,t){if(t=="localName"&&e.nodeType==1)return e.nodeName.toLowerCase();if(t=="prefix")return null;if(t=="namespaceURI")return e.nodeType==1?"http://www.w3.org/1999/xhtml":null;if(t=="textContent")return e.innerText;if(t=="attributes"&&e.nodeType==1){var n=[];for(var r=0,i=e.attributes,s=i.length,o,u;r<s;r++)o=i[r],o.specified&&(u=new Hi,u.ownerElement=e,u.ownerDocument=e.ownerDocument,u.specified=!0,u.value=u.nodeValue=o.nodeValue,u.name=u.nodeName=u.localName=o.nodeName.toLowerCase(),n[n.length]=u);return n}return Bi.prototype.getProperty.call(this,e,t)};var Ri=new Bi;Ri.getProperty=function(e,t){if(t=="localName"){if(e.nodeType==7)return null;if(e.nodeType==1)return e.baseName}if(t=="prefix"||t=="namespaceURI")return e[t]||null;if(t=="textContent")return e.text;if(t=="attributes"&&e.nodeType==1){var n=[];for(var r=0,i=e.attributes,s=i.length,o,u;r<s;r++)o=i[r],o.specified&&(u=new Hi,u.nodeType=2,u.ownerElement=e,u.ownerDocument=e.ownerDocument,u.specified=!0,u.value=u.nodeValue=o.nodeValue,u.name=u.nodeName=o.nodeName,u.localName=o.baseName,u.prefix=o.prefix||null,u.namespaceURI=o.namespaceURI||null,n[n.length]=u);return n}return Bi.prototype.getProperty.call(this,e,t)},Ri.getElementById=function(e,t){return e.nodeFromID(t)};var Ui=window.HTMLDocument,zi=window.jQuery,Wi=window.document,Xi=!!Wi.namespaces&&!Wi.createElementNS,Vi=!Xi&&Wi.documentElement.namespaceURI!="http://www.w3.org/1999/xhtml",$i=new k,Ji=new k;$i.baseURI=Wi.location.href,$i.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",$i.defaultElementNamespace="http://www.w3.org/1999/xhtml",Ji.defaultFunctionNamespace=$i.defaultFunctionNamespace;var Qi={};Qi.xpath=function(e,t,n){return Ki(e instanceof zi?e:new zi(e),t,n)},zi.extend(zi,Qi),Qi={},Qi.xpath=function(e,t){return Ki(this,e,t)},zi.extend(zi.prototype,Qi)}(),define("jquery-xpath",function(){}),define("utils/parsers/vmap_parser",["require","jquery-xpath"],function(e){return e("jquery-xpath"),{parseDuration:function(e){if(typeof e!="string")return;var t=e.split("+")[0],n=t.split(":"),r=parseFloat(n[0]),i=parseFloat(n[1]),s=parseFloat(n[2]);return 3600*r+60*i+s},stringIsFalsy:function(e){var t=e.trim().toLowerCase();return t==="false"||t==="null"||t==="nil"||t===""},postProcessor:function(e){return typeof e=="string"&&(e=e.replace(/^\s+|\s+$/g,""),e=this.stringIsFalsy(e)?!1:e),e},parseNodeValue:function(e){var t;return e.nodeType===2?t=e.value:t=$(e).text(),this.postProcessor(t)},getNodeValue:function(e,t,n){var r,i=this,s=e.match(/\*/);e=e.replace("*",""),r=t.xpath(e,function(e){if(e===n.prefix)return n.URI});if(!r.length)return;return s?$.map(r,function(e){return i.parseNodeValue(e)}):this.parseNodeValue(r[0])},xmlStringToXML:function(e){return $.parseXML(e)},parseNode:function(e,t,n,r){var i,s;for(s in t)i=t[s],typeof i=="string"?n[s]=this.getNodeValue(i,e,r):n[s]=this.parseNode(e,i,{},r);return n},parse:function(e,t){if(typeof e=="string"||e instanceof String)e=this.xmlStringToXML(e);var n=this.parseNode($(e),t.output,{},t.nameSpaceMap);return n}}}),define("utils/parsers/vmap_parser_map_v2",[],function(){return{nameSpaceMap:{prefix:"tw",URI:"http://twitter.com/schema/videoVMapV2.xsd"},output:{content:{ownerId:"//tw:content/@ownerId",stitched:"//tw:content/@stitched",contentId:"//tw:content/@contentId",source:"//tw:amplify/tw:content/MediaFiles/MediaFile",contentType:"//tw:amplify/tw:content/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//tw:content/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//tw:content/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//tw:content/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//tw:content/TrackingEvents/Tracking[@event='complete']*",pause:"//tw:content/TrackingEvents/Tracking[@event='pause']*",rewind:"//tw:content/TrackingEvents/Tracking[@event='rewind']*",resume:"//tw:content/TrackingEvents/Tracking[@event='resume']*",expand:"//tw:content/TrackingEvents/Tracking[@event='expand']*",start:"//tw:content/TrackingEvents/Tracking[@event='start']*"},ctas:{visit:"//tw:content/tw:cta_open_url/@url",watchNow:"//tw:content/tw:cta_watch_now/@url"}},ad:{ownerId:"//tw:ad/@ownerId",adId:"//tw:ad/@adId",source:"//Creative/Linear/MediaFiles/MediaFile",contentType:"//Creative/Linear/MediaFiles/MediaFile/@type",duration:"//Duration",beacons:{firstQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//Creative/Linear/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//Creative/Linear/TrackingEvents/Tracking[@event='complete']*",pause:"//Creative/Linear/TrackingEvents/Tracking[@event='pause']*",rewind:"//Creative/Linear/TrackingEvents/Tracking[@event='rewind']*",resume:"//Creative/Linear/TrackingEvents/Tracking[@event='resume']*",expand:"//Creative/Linear/TrackingEvents/Tracking[@event='expand']*",start:"//Creative/Linear/TrackingEvents/Tracking[@event='start']*",adCreativeView:"//Creative/Linear/TrackingEvents/Tracking[@event='creativeView']*",adImpression:"//Ad/InLine/Impression*",adError:"//Ad/InLine/Error*"},ctas:{visit:"//tw:ad/tw:cta_open_url/@url",watchNow:"//tw:ad/tw:cta_watch_now/@url"}}}}}),define("utils/parsers/vmap_parser_map_v1",[],function(){return{nameSpaceMap:{prefix:"tw",URI:"tw"},output:{content:{ownerId:"//tw:content/@ownerId",stitched:"//tw:content/@stitched",contentId:"//tw:content/@contentId",source:"//tw:amplify/tw:content/MediaFiles/MediaFile",contentType:"//tw:amplify/tw:content/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//tw:TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//tw:TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//tw:TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//tw:TrackingEvents/Tracking[@event='complete']*",pause:"//tw:TrackingEvents/Tracking[@event='pause']*",rewind:"//tw:TrackingEvents/Tracking[@event='rewind']*",resume:"//tw:TrackingEvents/Tracking[@event='resume']*",expand:"//tw:TrackingEvents/Tracking[@event='expand']*",start:"//tw:TrackingEvents/Tracking[@event='start']*"}},ad:{ownerId:"//tw:ad/@ownerId",adId:"//tw:ad/@adId",source:"//Creative/Linear/MediaFiles/MediaFile",contentType:"//Creative/Linear/MediaFiles/MediaFile/@type",duration:"//Duration",beacons:{firstQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//Creative/Linear/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//Creative/Linear/TrackingEvents/Tracking[@event='complete']*",pause:"//Creative/Linear/TrackingEvents/Tracking[@event='pause']*",rewind:"//Creative/Linear/TrackingEvents/Tracking[@event='rewind']*",resume:"//Creative/Linear/TrackingEvents/Tracking[@event='resume']*",expand:"//Creative/Linear/TrackingEvents/Tracking[@event='expand']*",start:"//Creative/Linear/TrackingEvents/Tracking[@event='start']*"}}}}}),define("data/playlist/with_vmap_parser",["require","utils/parsers/vmap_parser","utils/parsers/vmap_parser_map_v2","utils/parsers/vmap_parser_map_v1"],function(e){function i(){this.parseVmap=function(e,r){for(var i=0;i<n.length;i++){var s=t.parse(e,n[i]);if(s.content&&s.content.ownerId)return this.jsonVmapToPlaylist(s,r)}this.trigger("dataPlaybackError")},this.jsonVmapToPlaylist=function(e,n){var i=[],s=e.content,o=e.ad,u=0;if(!s||!s.ownerId||!s.contentId||!s.source){this.trigger("dataPlaybackError");return}var a=s.stitched==="true",f=o&&o.adId&&(o.source||a);if(f){u=t.parseDuration(o.duration);if(a&&!u){this.trigger("dataPlaybackError");return}var l;n&&(l=n.dynamicPrerollType||r),i.push({contentId:o.adId,ownerId:o.ownerId,source:a?s.source:o.source,contentType:o.contentType,type:"ad",beacons:o.beacons,stitched:a,offset:0,duration:a?u:undefined,ctas:o.ctas||{},dynamicPrerollType:l})}return i.push({contentId:s.contentId,ownerId:s.ownerId,source:s.source,contentType:s.contentType,type:"video",beacons:s.beacons,stitched:a,offset:a?u:0,ctas:s.ctas||{}}),i}}var t=e("utils/parsers/vmap_parser"),n=[e("utils/parsers/vmap_parser_map_v2"),e("utils/parsers/vmap_parser_map_v1")],r=1;return i}),define("data/playlist/with_vmap_loader",["require","utils/vmap_loader","flight/lib/compose","data/playlist/with_vmap_parser"],function(e){function i(){n.mixin(this,[r]),this.attributes({vmapLoaderSwfUrl:"swf/VmapLoader.swf"}),this.loadVmap=function(e,t){var n=$.Deferred();return t?this.makeDynamicAdRequest(e,n):this.makeVmapRequest(e,n),n.promise()},this.makeDynamicAdRequest=function(e,t){this.dynamicAdResponseDeferred=$.Deferred(),this.dynamicAdResponseDeferred.then(function(n){var r=e;n&&n.adId&&(r=r+"?adId="+n.adId),this.makeVmapRequest(r,t,n)}.bind(this)),this.trigger("dataDynamicAdRequest")},this.dynamicAdResponse=function(e,t){this.dynamicAdResponseDeferred&&this.dynamicAdResponseDeferred.resolve(t)},this.makeVmapRequest=function(e,n,r){t.get(e,this.attr.vmapLoaderSwfUrl,{success:this.vmapLoaded.bind(this,n,r),fail:this.vmapLoadFailed.bind(this,n)})},this.vmapLoaded=function(e,t,n){var r;t&&(r=t.adId),e.resolve(this.parseVmap(n,t),r)},this.vmapLoadFailed=function(e,t){e.reject(t)},this.after("initialize",function(){this.on(document,"dataDynamicAdResponse",this.dynamicAdResponse)})}var t=e("utils/vmap_loader"),n=e("flight/lib/compose"),r=e("data/playlist/with_vmap_parser");return i}),define("data/playlist/with_json_parser",[],function(){function e(){this.parseJson=function(e){try{var t=e.web.videos.map(function(e){return{contentId:e.uuid,ownerId:e.owner_id,source:e.source,type:e.video_type}});return t}catch(n){this.trigger("dataPlaybackError")}}}return e}),define("data/playlist/with_json_loader",["require","flight/lib/compose","data/playlist/with_json_parser"],function(e){function r(){t.mixin(this,[n]),this.loadJson=function(e){return $.get(e).then(this.parseJson.bind(this))}}var t=e("flight/lib/compose"),n=e("data/playlist/with_json_parser");return r}),define("data/playlist/loader",["require","flight/lib/component","data/playlist/with_vmap_loader","data/playlist/with_json_loader"],function(e){function i(){this.loadPlaylist=function(e,t){var n;t.vmapUrl?n=this.loadVmap(t.vmapUrl,t.loadDynamicAd):t.jsonUrl?n=this.loadJson(t.jsonUrl):n=this.parsePlaylist(t.playlist),n.then(this.parseDataAndTriggerEvents.bind(this),this.handleParsingError.bind(this))},this.parseDataAndTriggerEvents=function(e,t){var n=e.filter(function(e){return e.type==="ad"})[0]||{},r=e.filter(function(e){return e.type==="video"})[0]||{},i={prerollId:n.contentId,dynamicPrerollType:n.dynamicPrerollType,prerollOwnerId:n.ownerId,contentId:r.contentId};this.trigger("dataPlaylistLoaded",{tracks:e,playlistData:i}),t&&t!==n.contentId&&this.trigger("dataDynamicAdRequestMismatch",{requestedAdId:t,servedAdId:n.contentId})},this.handleParsingError=function(e){e==="FLASH_NOT_INSTALLED"?this.trigger("dataFlashNotInstalledError"):this.trigger("dataPlaybackError")},this.parsePlaylist=function(e){var t=$.Deferred(),n=[];return e&&(n=e.map(function(e){return{source:e.source,type:e.videoType,contentId:e.contentId,ownerId:e.ownerId,contentType:e.contentType,offset:0}})),t.resolve(n),t.promise()},this.after("initialize",function(){this.on(document,"uiLoadPlaylist",this.loadPlaylist)})}var t=e("flight/lib/component"),n=e("data/playlist/with_vmap_loader"),r=e("data/playlist/with_json_loader");return t(i,n,r)}),define("boot/boot",["require","utils/interface","ui/player","data/playlist/loader","utils/utils"],function(e){var t=function(e){var t={};return t.source=e.video_url,t.contentType=e.content_type,t.contentId=e.media_id,t.ownerId=e.video_owner_id,t.type="video",[t]};return function(){var n=e("utils/interface"),r=e("ui/player"),i=e("data/playlist/loader"),s=e("utils/utils"),o=s.getQueryParams(),u;o.video_url?u=t(o):o.playlist&&(u=JSON.parse(o.playlist)),i.attachTo(document),n.attachTo(document,{jsonRpc:o.json_rpc==="1"});var a={embedded:o.embedded,vmapUrl:o.vmap_url,jsonUrl:o.url,autoBuffer:o.auto_buffer==="1",autoPlay:o.autoplay==="1",posterImageUrl:o.image_src,duration:o.duration,playlist:u,mediaId:o.media_id,dynamicAd:o.dynamic_ad==="1"};o.rpc_init==="1"?($(document).one("dataPlayerConfig",function(e,t){$.extend(a,t),r.attachTo("#playerContainer",a)}),$(document).trigger("uiRequestPlayerConfig")):r.attachTo("#playerContainer",a),$(".mobile-player-controls .rosetta-icon-play").click(function(){$("video").get(0).play()})}}),requirejs.config({baseUrl:"js",deps:["jquery","es5-shim","es5-sham","boot/boot_debug","boot/boot"],paths:{"es5-shim":"bower_components/es5-shim/es5-shim","es5-sham":"bower_components/es5-shim/es5-sham",flight:"bower_components/flight",jquery:"bower_components/jquery/dist/jquery","jquery-xpath":"../../node_modules/jquery-xpath/jquery.xpath",requirejs:"bower_components/requirejs/require","twitter-text":"bower_components/twitter-text/twitter-text",videojs:"bower_components/video.js/dist/video-js/video",xdm:"bower_components/xdm.js/xdm"},callback:function(e,t,n,r,i){i()}}),define("main",function(){});